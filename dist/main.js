/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={3462:(t,e,n)=>{n(6699);var o=n(2649);t.exports=o("Array","includes")},9116:(t,e,n)=>{n(9601);var o=n(857);t.exports=o.Object.assign},4577:(t,e,n)=>{var o=n(6575);t.exports=o},7671:(t,e,n)=>{var o=n(4977);t.exports=o},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},1223:(t,e,n)=>{var o=n(5112),r=n(30),i=n(3070),s=o("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},9670:(t,e,n)=>{var o=n(111);t.exports=function(t){if(!o(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,n)=>{var o=n(5656),r=n(7466),i=n(1400),s=function(t){return function(e,n,s){var a,c=o(e),l=r(c.length),u=i(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,n)=>{var o=n(6656),r=n(3887),i=n(1236),s=n(3070);t.exports=function(t,e){for(var n=r(e),a=s.f,c=i.f,l=0;l<n.length;l++){var u=n[l];o(t,u)||a(t,u,c(e,u))}}},8880:(t,e,n)=>{var o=n(9781),r=n(3070),i=n(9114);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,n)=>{var o=n(7293);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var o=n(7854),r=n(111),i=o.document,s=r(i)&&r(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},8113:(t,e,n)=>{var o=n(5005);t.exports=o("navigator","userAgent")||""},7392:(t,e,n)=>{var o,r,i=n(7854),s=n(8113),a=i.process,c=i.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u?r=(o=u.split("."))[0]<4?1:o[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(r=o[1]),t.exports=r&&+r},2649:(t,e,n)=>{var o=n(7854),r=n(9974),i=Function.call;t.exports=function(t,e,n){return r(i,o[t].prototype[e],n)}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var o=n(7854),r=n(1236).f,i=n(8880),s=n(1320),a=n(3505),c=n(9920),l=n(4705);t.exports=function(t,e){var n,u,d,f,h,p=t.target,m=t.global,g=t.stat;if(n=m?o:g?o[p]||a(p,{}):(o[p]||{}).prototype)for(u in e){if(f=e[u],d=t.noTargetGet?(h=r(n,u))&&h.value:n[u],!l(m?u:p+(g?".":"#")+u,t.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&i(f,"sham",!0),s(n,u,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,n)=>{var o=n(3099);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var o=n(7854),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(o[t]):o[t]&&o[t][e]}},7854:(t,e,n)=>{var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(t,e,n)=>{var o=n(7908),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(o(t),e)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var o=n(5005);t.exports=o("document","documentElement")},4664:(t,e,n)=>{var o=n(9781),r=n(7293),i=n(317);t.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var o=n(7293),r=n(4326),i="".split;t.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?i.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var o=n(5465),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(t){return r.call(t)}),t.exports=o.inspectSource},9909:(t,e,n)=>{var o,r,i,s=n(8536),a=n(7854),c=n(111),l=n(8880),u=n(6656),d=n(5465),f=n(6200),h=n(3501),p="Object already initialized",m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m),y=g.get,v=g.has,E=g.set;o=function(t,e){if(v.call(g,t))throw new TypeError(p);return e.facade=t,E.call(g,t,e),e},r=function(t){return y.call(g,t)||{}},i=function(t){return v.call(g,t)}}else{var _=f("state");h[_]=!0,o=function(t,e){if(u(t,_))throw new TypeError(p);return e.facade=t,l(t,_,e),e},r=function(t){return u(t,_)?t[_]:{}},i=function(t){return u(t,_)}}t.exports={set:o,get:r,has:i,enforce:function(t){return i(t)?r(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},4705:(t,e,n)=>{var o=n(7293),r=/#|\.prototype\./,i=function(t,e){var n=a[s(t)];return n==l||n!=c&&("function"==typeof e?o(e):!!e)},s=i.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},2190:(t,e,n)=>{var o=n(5005),r=n(3307);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return"function"==typeof e&&Object(t)instanceof e}},133:(t,e,n)=>{var o=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},8536:(t,e,n)=>{var o=n(7854),r=n(2788),i=o.WeakMap;t.exports="function"==typeof i&&/native code/.test(r(i))},1574:(t,e,n)=>{"use strict";var o=n(9781),r=n(7293),i=n(1956),s=n(5181),a=n(5296),c=n(7908),l=n(8361),u=Object.assign,d=Object.defineProperty;t.exports=!u||r((function(){if(o&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||i(u({},e)).join("")!=r}))?function(t,e){for(var n=c(t),r=arguments.length,u=1,d=s.f,f=a.f;r>u;)for(var h,p=l(arguments[u++]),m=d?i(p).concat(d(p)):i(p),g=m.length,y=0;g>y;)h=m[y++],o&&!f.call(p,h)||(n[h]=p[h]);return n}:u},30:(t,e,n)=>{var o,r=n(9670),i=n(6048),s=n(748),a=n(3501),c=n(490),l=n(317),u=n(6200),d=u("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}var t,e;m="undefined"!=typeof document?document.domain&&o?p(o):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):p(o);for(var n=s.length;n--;)delete m.prototype[s[n]];return m()};a[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[d]=t):n=m(),void 0===e?n:i(n,e)}},6048:(t,e,n)=>{var o=n(9781),r=n(3070),i=n(9670),s=n(1956);t.exports=o?Object.defineProperties:function(t,e){i(t);for(var n,o=s(e),a=o.length,c=0;a>c;)r.f(t,n=o[c++],e[n]);return t}},3070:(t,e,n)=>{var o=n(9781),r=n(4664),i=n(9670),s=n(4948),a=Object.defineProperty;e.f=o?a:function(t,e,n){if(i(t),e=s(e),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var o=n(9781),r=n(5296),i=n(9114),s=n(5656),a=n(4948),c=n(6656),l=n(4664),u=Object.getOwnPropertyDescriptor;e.f=o?u:function(t,e){if(t=s(t),e=a(e),l)try{return u(t,e)}catch(t){}if(c(t,e))return i(!r.f.call(t,e),t[e])}},8006:(t,e,n)=>{var o=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,n)=>{var o=n(6656),r=n(5656),i=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,a=r(t),c=0,l=[];for(n in a)!o(s,n)&&o(a,n)&&l.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~i(l,n)||l.push(n));return l}},1956:(t,e,n)=>{var o=n(6324),r=n(748);t.exports=Object.keys||function(t){return o(t,r)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},2140:(t,e,n)=>{var o=n(111);t.exports=function(t,e){var n,r;if("string"===e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if("string"!==e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},3887:(t,e,n)=>{var o=n(5005),r=n(8006),i=n(5181),s=n(9670);t.exports=o("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var o=n(7854);t.exports=o},1320:(t,e,n)=>{var o=n(7854),r=n(8880),i=n(6656),s=n(3505),a=n(2788),c=n(9909),l=c.get,u=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,a){var c,l=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||r(n,"name",e),(c=u(n)).source||(c.source=d.join("string"==typeof e?e:""))),t!==o?(l?!h&&t[e]&&(f=!0):delete t[e],f?t[e]=n:r(t,e,n)):f?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var o=n(7854);t.exports=function(t,e){try{Object.defineProperty(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},6200:(t,e,n)=>{var o=n(2309),r=n(9711),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},5465:(t,e,n)=>{var o=n(7854),r=n(3505),i="__core-js_shared__",s=o[i]||r(i,{});t.exports=s},2309:(t,e,n)=>{var o=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:o?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1400:(t,e,n)=>{var o=n(9958),r=Math.max,i=Math.min;t.exports=function(t,e){var n=o(t);return n<0?r(n+e,0):i(n,e)}},5656:(t,e,n)=>{var o=n(8361),r=n(4488);t.exports=function(t){return o(r(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var o=n(9958),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},7908:(t,e,n)=>{var o=n(4488);t.exports=function(t){return Object(o(t))}},7593:(t,e,n)=>{var o=n(111),r=n(2190),i=n(2140),s=n(5112)("toPrimitive");t.exports=function(t,e){if(!o(t)||r(t))return t;var n,a=t[s];if(void 0!==a){if(void 0===e&&(e="default"),n=a.call(t,e),!o(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),i(t,e)}},4948:(t,e,n)=>{var o=n(7593),r=n(2190);t.exports=function(t){var e=o(t,"string");return r(e)?e:String(e)}},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var o=n(133);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var o=n(7854),r=n(2309),i=n(6656),s=n(9711),a=n(133),c=n(3307),l=r("wks"),u=o.Symbol,d=c?u:u&&u.withoutSetter||s;t.exports=function(t){return i(l,t)&&(a||"string"==typeof l[t])||(a&&i(u,t)?l[t]=u[t]:l[t]=d("Symbol."+t)),l[t]}},6699:(t,e,n)=>{"use strict";var o=n(2109),r=n(1318).includes,i=n(1223);o({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},9601:(t,e,n)=>{var o=n(2109),r=n(1574);o({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},6575:(t,e,n)=>{var o=n(3462);t.exports=o},4977:(t,e,n)=>{var o=n(9116);t.exports=o},3031:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function e(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function n(t,e){for(var n=e.slice(0,e.length-1),o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function o(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function r(t,e){for(var n=t.length>=e.length?t:e,o=t.length>=e.length?e:t,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}for(var i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":t?173:189,"=":t?61:187,";":t?59:186,"'":222,"[":219,"]":221,"\\":220},s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},a={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},c={16:!1,18:!1,17:!1,91:!1},l={},u=1;u<20;u++)i["f".concat(u)]=111+u;var d=[],f="all",h=[],p=function(t){return i[t.toLowerCase()]||s[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function m(t){f=t||"all"}function g(){return f||"all"}function y(){return d.slice(0)}function v(t){var e=t.target||t.srcElement,n=e.tagName,o=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(o=!1),o}function E(t){return"string"==typeof t&&(t=p(t)),-1!==d.indexOf(t)}function _(t,e){var n,o;for(var r in t||(t=g()),l)if(Object.prototype.hasOwnProperty.call(l,r))for(n=l[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1):o++;g()===t&&m(e||"all")}function w(t){var e=t.keyCode||t.which||t.charCode,n=d.indexOf(e);if(n>=0&&d.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&d.splice(0,d.length),93!==e&&224!==e||(e=91),e in c)for(var o in c[e]=!1,s)s[o]===e&&(O[o]=!1)}function b(t){if(t){if(Array.isArray(t))t.forEach((function(t){t.key&&C(t)}));else if("object"==typeof t)t.key&&C(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),C({key:t,scope:r,method:i,splitKey:"+"})}}else Object.keys(l).forEach((function(t){return delete l[t]}))}var C=function(t){var e=t.key,i=t.scope,a=t.method,c=t.splitKey,u=void 0===c?"+":c;o(e).forEach((function(t){var e=t.split(u),o=e.length,c=e[o-1],d="*"===c?"*":p(c);if(l[d]){i||(i=g());var f=o>1?n(s,e):[];l[d]=l[d].map((function(t){return a&&t.method!==a||t.scope!==i||!r(t.mods,f)?t:{}}))}}))};function S(t,e,n){var o;if(e.scope===n||"all"===e.scope){for(var r in o=e.mods.length>0,c)Object.prototype.hasOwnProperty.call(c,r)&&(!c[r]&&e.mods.indexOf(+r)>-1||c[r]&&-1===e.mods.indexOf(+r))&&(o=!1);(0!==e.mods.length||c[16]||c[18]||c[17]||c[91])&&!o&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function N(t){var e=l["*"],n=t.keyCode||t.which||t.charCode;if(O.filter.call(this,t)){if(93!==n&&224!==n||(n=91),-1===d.indexOf(n)&&229!==n&&d.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=a[e];t[e]&&-1===d.indexOf(n)?d.push(n):!t[e]&&d.indexOf(n)>-1?d.splice(d.indexOf(n),1):"metaKey"===e&&t[e]&&3===d.length&&(t.ctrlKey||t.shiftKey||t.altKey||(d=d.slice(d.indexOf(n))))})),n in c){for(var o in c[n]=!0,s)s[o]===n&&(O[o]=!0);if(!e)return}for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(c[r]=t[a[r]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===d.indexOf(17)&&d.push(17),-1===d.indexOf(18)&&d.push(18),c[17]=!0,c[18]=!0);var i=g();if(e)for(var u=0;u<e.length;u++)e[u].scope===i&&("keydown"===t.type&&e[u].keydown||"keyup"===t.type&&e[u].keyup)&&S(t,e[u],i);if(n in l)for(var f=0;f<l[n].length;f++)if(("keydown"===t.type&&l[n][f].keydown||"keyup"===t.type&&l[n][f].keyup)&&l[n][f].key){for(var h=l[n][f],m=h.splitKey,y=h.key.split(m),v=[],E=0;E<y.length;E++)v.push(p(y[E]));v.sort().join("")===d.sort().join("")&&S(t,h,i)}}}function R(t){return h.indexOf(t)>-1}function O(t,r,i){d=[];var a=o(t),c=[],u="all",f=document,m=0,g=!1,y=!0,v="+";for(void 0===i&&"function"==typeof r&&(i=r),"[object Object]"===Object.prototype.toString.call(r)&&(r.scope&&(u=r.scope),r.element&&(f=r.element),r.keyup&&(g=r.keyup),void 0!==r.keydown&&(y=r.keydown),"string"==typeof r.splitKey&&(v=r.splitKey)),"string"==typeof r&&(u=r);m<a.length;m++)c=[],(t=a[m].split(v)).length>1&&(c=n(s,t)),(t="*"===(t=t[t.length-1])?"*":p(t))in l||(l[t]=[]),l[t].push({keyup:g,keydown:y,scope:u,mods:c,shortcut:a[m],method:i,key:a[m],splitKey:v});void 0!==f&&!R(f)&&window&&(h.push(f),e(f,"keydown",(function(t){N(t)})),e(window,"focus",(function(){d=[]})),e(f,"keyup",(function(t){N(t),w(t)})))}var A={setScope:m,getScope:g,deleteScope:_,getPressedKeyCodes:y,isPressed:E,filter:v,unbind:b};for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&(O[T]=A[T]);if("undefined"!=typeof window){var x=window.hotkeys;O.noConflict=function(t){return t&&window.hotkeys===O&&(window.hotkeys=x),O},window.hotkeys=O}return O}()},813:function(t){t.exports=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=function(){function t(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=n,this.iframes=o,this.exclude=r,this.iframesTimeout=i}return n(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var n=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=void 0;try{var r=t.contentWindow;if(o=r.document,!r||!o)throw new Error("iframe inaccessible")}catch(t){n()}o&&e(o)}},{key:"isIframeBlank",value:function(t){var e="about:blank",n=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&n!==e&&n}},{key:"observeIframeLoad",value:function(t,e,n){var o=this,r=!1,i=null,s=function s(){if(!r){r=!0,clearTimeout(i);try{o.isIframeBlank(t)||(t.removeEventListener("load",s),o.getIframeContents(t,e,n))}catch(t){n()}}};t.addEventListener("load",s),i=setTimeout(s,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,n){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,n):this.getIframeContents(t,e,n):this.observeIframeLoad(t,e,n)}catch(t){n()}}},{key:"waitForIframes",value:function(t,e){var n=this,o=0;this.forEachIframe(t,(function(){return!0}),(function(t){o++,n.waitForIframes(t.querySelector("html"),(function(){--o||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,n,o){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=e.querySelectorAll("iframe"),a=s.length,c=0;s=Array.prototype.slice.call(s);var l=function(){--a<=0&&i(c)};a||l(),s.forEach((function(e){t.matches(e,r.exclude)?l():r.onIframeReady(e,(function(t){n(e)&&(c++,o(t)),l()}),l)}))}},{key:"createIterator",value:function(t,e,n){return document.createNodeIterator(t,e,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,n){if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,n,o){var r=!1,i=!1;return o.forEach((function(t,e){t.val===n&&(r=e,i=t.handled)})),this.compareNodeIframe(t,e,n)?(!1!==r||i?!1===r||i||(o[r].handled=!0):o.push({val:n,handled:!0}),!0):(!1===r&&o.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,n,o){var r=this;t.forEach((function(t){t.handled||r.getIframeContents(t.val,(function(t){r.createInstanceOnIframe(t).forEachNode(e,n,o)}))}))}},{key:"iterateThroughNodes",value:function(t,e,n,o,r){for(var i=this,s=this.createIterator(e,t,o),a=[],c=[],l=void 0,u=void 0,d=function(){var t=i.getIteratorNode(s);return u=t.prevNode,l=t.node};d();)this.iframes&&this.forEachIframe(e,(function(t){return i.checkIframeFilter(l,u,t,a)}),(function(e){i.createInstanceOnIframe(e).forEachNode(t,(function(t){return c.push(t)}),o)})),c.push(l);c.forEach((function(t){n(t)})),this.iframes&&this.handleOpenIframes(a,t,n,o),r()}},{key:"forEachNode",value:function(t,e,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=this.getContexts(),s=i.length;s||r(),i.forEach((function(i){var a=function(){o.iterateThroughNodes(t,i,e,n,(function(){--s<=0&&r()}))};o.iframes?o.waitForIframes(i,a):a()}))}}],[{key:"matches",value:function(t,e){var n="string"==typeof e?[e]:e,o=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(o){var r=!1;return n.every((function(e){return!o.call(t,e)||(r=!0,!1)})),r}return!1}}]),t}(),i=function(){function i(t){e(this,i),this.ctx=t,this.ie=!1;var n=window.navigator.userAgent;(n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1)&&(this.ie=!0)}return n(i,[{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",o=this.opt.log;this.opt.debug&&"object"===(void 0===o?"undefined":t(o))&&"function"==typeof o[n]&&o[n]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",o=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(r):this.escapeStr(r),a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(i):this.escapeStr(i);""!==s&&""!==a&&(t=t.replace(new RegExp("("+this.escapeStr(s)+"|"+this.escapeStr(a)+")","gm"+n),o+"("+this.processSynomyms(s)+"|"+this.processSynomyms(a)+")"+o))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,n){var o=n.charAt(e+1);return/[(|)\\]/.test(o)||""===o?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&e.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],o=[];return t.split("").forEach((function(r){n.every((function(n){if(-1!==n.indexOf(r)){if(o.indexOf(n)>-1)return!1;t=t.replace(new RegExp("["+n+"]","gm"+e),"["+n+"]"),o.push(n)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,n="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",o=this.opt.accuracy,r="string"==typeof o?o:o.value,i="string"==typeof o?[]:o.limiters,s="";switch(i.forEach((function(t){s+="|"+e.escapeStr(t)})),r){default:return"()("+t+")";case"complementary":return"()([^"+(s="\\s"+(s||this.escapeStr(n)))+"]*"+t+"[^"+s+"]*)";case"exactly":return"(^|\\s"+s+")("+t+")(?=$|\\s"+s+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,n=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===n.indexOf(t)&&n.push(t)})):t.trim()&&-1===n.indexOf(t)&&n.push(t)})),{keywords:n.sort((function(t,e){return e.length-t.length})),length:n.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var n=[],o=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var r=e.callNoMatchOnInvalidRanges(t,o),i=r.start,s=r.end;r.valid&&(t.start=i,t.length=s-i,n.push(t),o=s)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var n=void 0,o=void 0,r=!1;return t&&void 0!==t.start?(o=(n=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&o-e>0&&o-n>0?r=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:n,end:o,valid:r}}},{key:"checkWhitespaceRanges",value:function(t,e,n){var o=void 0,r=!0,i=n.length,s=e-i,a=parseInt(t.start,10)-s;return(o=(a=a>i?i:a)+parseInt(t.length,10))>i&&(o=i,this.log("End range automatically set to the max value of "+i)),a<0||o-a<0||a>i||o>i?(r=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===n.substring(a,o).replace(/\s+/g,"")&&(r=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:o,valid:r}}},{key:"getTextNodes",value:function(t){var e=this,n="",o=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){o.push({start:n.length,end:(n+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:n,nodes:o})}))}},{key:"matchesExclude",value:function(t){return r.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,n){var o=this.opt.element?this.opt.element:"mark",r=t.splitText(e),i=r.splitText(n-e),s=document.createElement(o);return s.setAttribute("data-markjs","true"),this.opt.className&&s.setAttribute("class",this.opt.className),s.textContent=r.textContent,r.parentNode.replaceChild(s,r),i}},{key:"wrapRangeInMappedTextNode",value:function(t,e,n,o,r){var i=this;t.nodes.every((function(s,a){var c=t.nodes[a+1];if(void 0===c||c.start>e){if(!o(s.node))return!1;var l=e-s.start,u=(n>s.end?s.end:n)-s.start,d=t.value.substr(0,s.start),f=t.value.substr(u+s.start);if(s.node=i.wrapRangeInTextNode(s.node,l,u),t.value=d+f,t.nodes.forEach((function(e,n){n>=a&&(t.nodes[n].start>0&&n!==a&&(t.nodes[n].start-=u),t.nodes[n].end-=u)})),n-=u,r(s.node.previousSibling,s.start),!(n>s.end))return!1;e=s.end}return!0}))}},{key:"wrapMatches",value:function(t,e,n,o,r){var i=this,s=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var r=void 0;null!==(r=t.exec(e.textContent))&&""!==r[s];)if(n(r[s],e)){var a=r.index;if(0!==s)for(var c=1;c<s;c++)a+=r[c].length;e=i.wrapRangeInTextNode(e,a,a+r[s].length),o(e.previousSibling),t.lastIndex=0}})),r()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,n,o,r){var i=this,s=0===e?0:e+1;this.getTextNodes((function(e){for(var a=void 0;null!==(a=t.exec(e.value))&&""!==a[s];){var c=a.index;if(0!==s)for(var l=1;l<s;l++)c+=a[l].length;var u=c+a[s].length;i.wrapRangeInMappedTextNode(e,c,u,(function(t){return n(a[s],t)}),(function(e,n){t.lastIndex=n,o(e)}))}r()}))}},{key:"wrapRangeFromIndex",value:function(t,e,n,o){var r=this;this.getTextNodes((function(i){var s=i.value.length;t.forEach((function(t,o){var a=r.checkWhitespaceRanges(t,s,i.value),c=a.start,l=a.end;a.valid&&r.wrapRangeInMappedTextNode(i,c,l,(function(n){return e(n,t,i.value.substring(c,l),o)}),(function(e){n(e,t)}))})),o()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.removeChild(t.firstChild));e.replaceChild(n,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var n=this;this.opt=e,this.log('Searching with expression "'+t+'"');var o=0,r="wrapMatches",i=function(t){o++,n.opt.each(t)};this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),this[r](t,this.opt.ignoreGroups,(function(t,e){return n.opt.filter(e,t,o)}),i,(function(){0===o&&n.opt.noMatch(t),n.opt.done(o)}))}},{key:"mark",value:function(t,e){var n=this;this.opt=e;var o=0,r="wrapMatches",i=this.getSeparatedKeywords("string"==typeof t?[t]:t),s=i.keywords,a=i.length,c=this.opt.caseSensitive?"":"i",l=function t(e){var i=new RegExp(n.createRegExp(e),"gm"+c),l=0;n.log('Searching with expression "'+i+'"'),n[r](i,1,(function(t,r){return n.opt.filter(r,e,o,l)}),(function(t){l++,o++,n.opt.each(t)}),(function(){0===l&&n.opt.noMatch(e),s[a-1]===e?n.opt.done(o):t(s[s.indexOf(e)+1])}))};this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),0===a?this.opt.done(o):l(s[0])}},{key:"markRanges",value:function(t,e){var n=this;this.opt=e;var o=0,r=this.checkRanges(t);r&&r.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(r)),this.wrapRangeFromIndex(r,(function(t,e,o,r){return n.opt.filter(t,e,o,r)}),(function(t,e){o++,n.opt.each(t,e)}),(function(){n.opt.done(o)}))):this.opt.done(o)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var o=r.matches(t,n),i=e.matchesExclude(t);return!o||i?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=o({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new r(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),i}();function s(t){var e=this,n=new i(t);return this.mark=function(t,o){return n.mark(t,o),e},this.markRegExp=function(t,o){return n.markRegExp(t,o),e},this.markRanges=function(t,o){return n.markRanges(t,o),e},this.unmark=function(t){return n.unmark(t),e},this}return s}()},5410:function(t,e,n){!function(t,e){"use strict";var n=e.dom.DomPosition,o=e.util.isHostMethod,r=new e.Module("ClassApplier",["WrappedSelection"]),i="span",s=o(document,"createElementNS");function a(t,e){for(var n in t)if(t.hasOwnProperty(n)&&!1===e(n,t[n]))return!1;return!0}function c(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t,e){return!!t&&new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t)}function u(t,e){return"object"==typeof t.classList?t.classList.contains(e):l("string"==typeof t.className?t.className:t.getAttribute("class"),e)}function d(t,e){if("object"==typeof t.classList)t.classList.add(e);else{var n="string"==typeof t.className,o=n?t.className:t.getAttribute("class");o?l(o,e)||(o+=" "+e):o=e,n?t.className=o:t.setAttribute("class",o)}}var f=function(){function t(t,e,n){return e&&n?" ":""}return function(e,n){if("object"==typeof e.classList)e.classList.remove(n);else{var o="string"==typeof e.className,r=o?e.className:e.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),t),o?e.className=r:e.setAttribute("class",r)}}}();function h(t){return"string"==typeof t.className?t.className:t.getAttribute("class")}function p(t){return t&&t.split(/\s+/).sort().join(" ")}function m(t){return p(h(t))}function g(t,e){return m(t)==m(e)}function y(t,e){for(var n=e.split(/\s+/),o=0,r=n.length;o<r;++o)if(!u(t,c(n[o])))return!1;return!0}function v(t){var e=t.parentNode;return e&&1==e.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(e.nodeName)}function E(t,e,n,o,r){var i=t.node,s=t.offset,a=i,c=s;i==o&&s>r&&++c,i!=e||s!=n&&s!=n+1||(a=o,c+=r-n),i==e&&s>n+1&&--c,t.node=a,t.offset=c}function _(t,e,n){t.node==e&&t.offset>n&&--t.offset}function w(t,n,o,r){-1==o&&(o=n.childNodes.length);var i=t.parentNode,s=e.dom.getNodeIndex(t);r.forEach((function(t){E(t,i,s,n,o)})),n.childNodes.length==o?n.appendChild(t):n.insertBefore(t,n.childNodes[o])}function b(t,n){var o=t.parentNode,r=e.dom.getNodeIndex(t);n.forEach((function(t){_(t,o,r)})),e.dom.removeNode(t)}function C(t,e,n,o,r){for(var i,s=[];i=t.firstChild;)w(i,e,n++,r),s.push(i);return o&&b(t,r),s}function S(t,n){return C(t,t.parentNode,e.dom.getNodeIndex(t),!0,n)}function N(t,e){var n=t.cloneRange();n.selectNodeContents(e);var o=n.intersection(t);return""!=(o?o.toString():"")}function R(t){for(var e,n=t.getNodes([3]),o=0;(e=n[o])&&!N(t,e);)++o;for(var r=n.length-1;(e=n[r])&&!N(t,e);)--r;return n.slice(o,r+1)}function O(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,o,r,i=0,s=t.attributes.length;i<s;++i)if("class"!=(r=(n=t.attributes[i]).name)){if(null===n!=(null===(o=e.attributes.getNamedItem(r))))return!1;if(n.specified!=o.specified)return!1;if(n.specified&&n.nodeValue!==o.nodeValue)return!1}return!0}function A(t,e){for(var n,o=0,r=t.attributes.length;o<r;++o)if(n=t.attributes[o].name,(!e||!e.includes(n))&&t.attributes[o].specified&&"class"!=n)return!0;return!1}var T=e.dom.getComputedStyleProperty,x="boolean"==typeof document.createElement("div").isContentEditable?function(t){return t&&1==t.nodeType&&t.isContentEditable}:function(t){return!(!t||1!=t.nodeType||"false"==t.contentEditable)&&("true"==t.contentEditable||x(t.parentNode))};function k(t){var e;return t&&1==t.nodeType&&((e=t.parentNode)&&9==e.nodeType&&"on"==e.designMode||x(t)&&!x(t.parentNode))}function I(t){return(x(t)||1!=t.nodeType&&x(t.parentNode))&&!k(t)}var D=/^inline(-block|-table)?$/i;function B(t){return t&&1==t.nodeType&&!D.test(T(t,"display"))}var L=/[^\r\n\t\f \u200B]/;function P(t){if(0==t.data.length)return!0;if(L.test(t.data))return!1;switch(T(t.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(t.data))return!1}return B(t.previousSibling)||B(t.nextSibling)}function M(t){var e,o,r=[];for(e=0;o=t[e++];)r.push(new n(o.startContainer,o.startOffset),new n(o.endContainer,o.endOffset));return r}function j(t,e){for(var n,o,r,i=0,s=t.length;i<s;++i)n=t[i],o=e[2*i],r=e[2*i+1],n.setStartAndEnd(o.node,o.offset,r.node,r.offset)}function H(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function W(t,n,o,i){var s,a,c=0==o;if(e.dom.isAncestorOf(n,t))return t;if(e.dom.isCharacterDataNode(n)){var l=e.dom.getNodeIndex(n);if(0==o)o=l;else{if(o!=n.length)throw r.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+o+" in "+n.data);o=l+1}n=n.parentNode}if(H(n,o)){s=n.cloneNode(!1),a=n.parentNode,s.id&&s.removeAttribute("id");for(var u,d=0;u=n.childNodes[o];)w(u,s,d++,i);return w(s,a,e.dom.getNodeIndex(n)+1,i),n==t?s:W(t,a,e.dom.getNodeIndex(s),i)}if(t!=n){s=n.parentNode;var f=e.dom.getNodeIndex(n);return c||f++,W(t,s,f,i)}return t}function z(t,e){return t.namespaceURI==e.namespaceURI&&t.tagName.toLowerCase()==e.tagName.toLowerCase()&&g(t,e)&&O(t,e)&&"inline"==T(t,"display")&&"inline"==T(e,"display")}function q(t){var e=t?"nextSibling":"previousSibling";return function(n,o){var r=n.parentNode,i=n[e];if(i){if(i&&3==i.nodeType)return i}else if(o&&(i=r[e])&&1==i.nodeType&&z(r,i)){var s=i[t?"firstChild":"lastChild"];if(s&&3==s.nodeType)return s}return null}}var F=q(!1),$=q(!0),U=function(){function t(t){this.isElementMerge=1==t.nodeType,this.textNodes=[];var e=this.isElementMerge?t.lastChild:t;e&&this.textNodes.push(e)}return t.prototype.doMerge=function(t){var n=this.textNodes,o=n[0];if(n.length>1){var r,i=e.dom.getNodeIndex(o),s=[],a=0,c=n.length;n.forEach((function(n,l){r=n.parentNode,l>0&&(r.removeChild(n),r.hasChildNodes()||e.dom.removeNode(r),t&&t.forEach((function(t){t.node==n&&(t.node=o,t.offset+=a),t.node==r&&t.offset>i&&(--t.offset,t.offset==i+1&&l<c-1&&(t.node=o,t.offset=a))}))),s[l]=n.data,a+=n.data.length})),o.data=s.join("")}return o.data},t.prototype.getLength=function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},t.prototype.toString=function(){var t=[];return this.textNodes.forEach((function(e,n){t[n]="'"+e.data+"'"})),"[Merge("+t.join(",")+")]"},t}(),V=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],K={},Y={hasClass:u,addClass:d,removeClass:f,getClass:h,hasSameClasses:g,hasAllClasses:y,replaceWithOwnChildren:S,elementsHaveSameNonClassAttributes:O,elementHasNonClassAttributes:A,splitNodeAt:W,isEditableElement:x,isEditingHost:k,isEditable:I},G=function(){function t(t,e,n){this.className=t,this.elementTagName=i,this.ignoreWhiteSpace=!0,this.applyToEditableOnly=!1,this.useExistingElements=!0,this.removeEmptyElements=!0;var o,r,s,l,u=this;u.cssClass=t;var d=null,f={};if("object"==typeof e&&null!==e){for(void 0!==e.elementTagName&&(e.elementTagName=e.elementTagName.toLowerCase()),n=e.tagNames,d=e.elementProperties,f=e.elementAttributes,r=0;l=V[r++];)e.hasOwnProperty(l)&&(u[l]=e[l]);o=e.normalize}else o=e;u.normalize=void 0===o||o,u.attrExceptions=[];var h=document.createElement(u.elementTagName);if(u.elementProperties=u.copyPropertiesToElement(d,h,!0),a(f,(function(t,e){u.attrExceptions.push(t),f[t]=""+e})),u.elementAttributes=f,u.elementSortedClassName=u.elementProperties.hasOwnProperty("className")?p(u.elementProperties.className+" "+t):t,u.applyToAnyTagName=!1,"string"==typeof n)"*"==n?u.applyToAnyTagName=!0:u.tagNames=c(n.toLowerCase()).split(/\s*,\s*/);else if("object"==typeof n&&"number"==typeof n.length)for(u.tagNames=[],r=0,s=n.length;r<s;++r)"*"==n[r]?u.applyToAnyTagName=!0:u.tagNames.push(n[r].toLowerCase());else u.tagNames=[u.elementTagName]}return t.prototype.copyPropertiesToElement=function(t,e,n){var o,r,i,s,a,c,l={};for(var u in t)if(t.hasOwnProperty(u))if(s=t[u],a=e[u],"className"==u)d(e,s),d(e,this.className),e[u]=p(e[u]),n&&(l[u]=s);else if("style"==u){for(o in r=a,n&&(l[u]=i={}),t[u])t[u].hasOwnProperty(o)&&(r[o]=s[o],n&&(i[o]=r[o]));this.attrExceptions.push(u)}else e[u]=s,n&&(l[u]=e[u],c=K.hasOwnProperty(u)?K[u]:u,this.attrExceptions.push(c));return n?l:""},t.prototype.copyAttributesToElement=function(t,e){for(var n in t)t.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&e.setAttribute(n,t[n])},t.prototype.appliesToElement=function(t){return this.tagNames.includes(t.tagName.toLowerCase())},t.prototype.getEmptyElements=function(t){var e=this;return t.getNodes([1],(function(t){return e.appliesToElement(t)&&!t.hasChildNodes()}))},t.prototype.hasClass=function(t){return 1==t.nodeType&&(this.applyToAnyTagName||this.appliesToElement(t))&&u(t,this.className)},t.prototype.getSelfOrAncestorWithClass=function(t){for(;t;){if(this.hasClass(t))return t;t=t.parentNode}return null},t.prototype.isModifiable=function(t){return!this.applyToEditableOnly||I(t)},t.prototype.isIgnorableWhiteSpaceNode=function(t){return this.ignoreWhiteSpace&&t&&3==t.nodeType&&P(t)},t.prototype.postApply=function(t,e,n,o){var r,i,s=t[0],a=t[t.length-1],c=[],l=s,u=a,d=0,f=a.length;t.forEach((function(t){(i=F(t,!o))?(r||(r=new U(i),c.push(r)),r.textNodes.push(t),t===s&&(l=r.textNodes[0],d=l.length),t===a&&(u=r.textNodes[0],f=r.getLength())):r=null}));var h=$(a,!o);if(h&&(r||(r=new U(a),c.push(r)),r.textNodes.push(h)),c.length){for(var p=0,m=c.length;p<m;++p)c[p].doMerge(n);e.setStartAndEnd(l,d,u,f)}},t.prototype.createContainer=function(t){var n=e.dom.getDocument(t),o=s&&!e.dom.isHtmlNamespace(t)&&t.namespaceURI?n.createElementNS(t.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,o,!1),this.copyAttributesToElement(this.elementAttributes,o),d(o,this.className),this.onElementCreate&&this.onElementCreate(o,this),o},t.prototype.elementHasProperties=function(t,e){var n=this;return a(e,(function(e,o){if("className"==e)return y(t,o);if("object"==typeof o){if(!n.elementHasProperties(t[e],o))return!1}else if(t[e]!==o)return!1}))},t.prototype.elementHasAttributes=function(t,e){return a(e,(function(e,n){if(t.getAttribute(e)!==n)return!1}))},t.prototype.applyToTextNode=function(t,e){if(v(t)){var n=t.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))d(n,this.className);else{var o=t.parentNode,r=this.createContainer(o);o.insertBefore(r,t),r.appendChild(t)}}},t.prototype.isRemovable=function(t){return t.tagName.toLowerCase()==this.elementTagName&&m(t)==this.elementSortedClassName&&this.elementHasProperties(t,this.elementProperties)&&!A(t,this.attrExceptions)&&this.elementHasAttributes(t,this.elementAttributes)&&this.isModifiable(t)},t.prototype.isEmptyContainer=function(t){var e=t.childNodes.length;return 1==t.nodeType&&this.isRemovable(t)&&(0==e||1==e&&this.isEmptyContainer(t.firstChild))},t.prototype.removeEmptyContainers=function(t){var e=this,n=t.getNodes([1],(function(t){return e.isEmptyContainer(t)})),o=[t],r=M(o);n.forEach((function(t){b(t,r)})),j(o,r)},t.prototype.undoToTextNode=function(t,e,n,o){if(!e.containsNode(n)){var r=e.cloneRange();r.selectNode(n),r.isPointInRange(e.endContainer,e.endOffset)&&(W(n,e.endContainer,e.endOffset,o),e.setEndAfter(n)),r.isPointInRange(e.startContainer,e.startOffset)&&(n=W(n,e.startContainer,e.startOffset,o))}this.isRemovable(n)?S(n,o):f(n,this.className)},t.prototype.splitAncestorWithClass=function(t,e,n){var o=this.getSelfOrAncestorWithClass(t);o&&W(o,t,e,n)},t.prototype.undoToAncestor=function(t,e){this.isRemovable(t)?S(t,e):f(t,this.className)},t.prototype.applyToRange=function(t,e){var n=this,o=M((e=e||[])||[]);t.splitBoundariesPreservingPositions(o),n.removeEmptyElements&&n.removeEmptyContainers(t);var r=R(t);if(r.length){r.forEach((function(t){n.isIgnorableWhiteSpaceNode(t)||n.getSelfOrAncestorWithClass(t)||!n.isModifiable(t)||n.applyToTextNode(t,o)}));var i=r[r.length-1];t.setStartAndEnd(r[0],0,i,i.length),n.normalize&&n.postApply(r,t,o,!1),j(e,o)}n.getEmptyElements(t).forEach((function(t){d(t,n.className)}))},t.prototype.applyToRanges=function(t){for(var e=t.length;e--;)this.applyToRange(t[e],t);return t},t.prototype.applyToSelection=function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},t.prototype.undoToRange=function(t,e){var n=this,o=M(e=e||[]);t.splitBoundariesPreservingPositions(o),n.removeEmptyElements&&n.removeEmptyContainers(t);var r,i,s=R(t),a=s[s.length-1];if(s.length){n.splitAncestorWithClass(t.endContainer,t.endOffset,o),n.splitAncestorWithClass(t.startContainer,t.startOffset,o);for(var c=0,l=s.length;c<l;++c)r=s[c],(i=n.getSelfOrAncestorWithClass(r))&&n.isModifiable(r)&&n.undoToAncestor(i,o);t.setStartAndEnd(s[0],0,a,a.length),n.normalize&&n.postApply(s,t,o,!0),j(e,o)}n.getEmptyElements(t).forEach((function(t){f(t,n.className)}))},t.prototype.undoToRanges=function(t){for(var e=t.length;e--;)this.undoToRange(t[e],t);return t},t.prototype.undoToSelection=function(t){var n=e.getSelection(t),o=e.getSelection(t).getAllRanges();this.undoToRanges(o),n.setRanges(o)},t.prototype.isAppliedToRange=function(t){if(t.collapsed||""==t.toString())return!!this.getSelfOrAncestorWithClass(t.commonAncestorContainer);var e=t.getNodes([3]);if(e.length)for(var n,o=0;n=e[o++];)if(!this.isIgnorableWhiteSpaceNode(n)&&N(t,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},t.prototype.isAppliedToRanges=function(t){var e=t.length;if(0==e)return!1;for(;e--;)if(!this.isAppliedToRange(t[e]))return!1;return!0},t.prototype.isAppliedToSelection=function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},t.prototype.toggleRange=function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)},t.prototype.toggleSelection=function(t){this.isAppliedToSelection(t)?this.undoToSelection(t):this.applyToSelection(t)},t.prototype.getElementsWithClassIntersectingRange=function(t){var e=[],n=this;return t.getNodes([3],(function(t){var o=n.getSelfOrAncestorWithClass(t);o&&!e.includes(o)&&e.push(o)})),e},t.prototype.detach=function(){},t.util=Y,t}();function J(t,e,n){return new G(t,e,n)}t.ClassApplier=G,t.CssClassApplier=G,t.createClassApplier=J,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(535))},5007:function(t,e){!function(t){"use strict";var e=function(t){try{return!!t()}catch(t){return!0}},n={}.toString,o=function(t){return n.call(t).slice(8,-1)},r="".split,i=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?r.call(t,""):Object(t)}:Object,s=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},a=function(t){return i(s(t))},c=Math.ceil,l=Math.floor,u=function(t){return isNaN(t=+t)?0:(t>0?l:c)(t)},d=Math.min,f=function(t){return t>0?d(u(t),9007199254740991):0},h=Math.max,p=Math.min,m=function(t,e){var n=u(t);return n<0?h(n+e,0):p(n,e)},g=function(t){return function(e,n,o){var r,i=a(e),s=f(i.length),c=m(o,s);if(t&&n!=n){for(;s>c;)if((r=i[c++])!=r)return!0}else for(;s>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},y="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")(),v=!e((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),E={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,w={f:_&&!E.call({1:2},1)?function(t){var e=_(this,t);return!!e&&e.enumerable}:E},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C=function(t){return"object"==typeof t?null!==t:"function"==typeof t},S=function(t,e){if(!C(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!C(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!C(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!C(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},N={}.hasOwnProperty,R=function(t,e){return N.call(t,e)},O=y.document,A=C(O)&&C(O.createElement),T=function(t){return A?O.createElement(t):{}},x=!v&&!e((function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,I={f:v?k:function(t,e){if(t=a(t),e=S(e,!0),x)try{return k(t,e)}catch(t){}if(R(t,e))return b(!w.f.call(t,e),t[e])}},D=function(t){if(!C(t))throw TypeError(String(t)+" is not an object");return t},B=Object.defineProperty,L={f:v?B:function(t,e,n){if(D(t),e=S(e,!0),D(n),x)try{return B(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=v?function(t,e,n){return L.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t};function M(t,e){return t(e={exports:{}},e.exports),e.exports}var j,H,W,z=function(t,e){try{P(y,t,e)}catch(n){y[t]=e}return e},q=M((function(t){var e="__core-js_shared__",n=y[e]||z(e,{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),F=q("native-function-to-string",Function.toString),$=y.WeakMap,U="function"==typeof $&&/native code/.test(F.call($)),V=0,K=Math.random(),Y=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++V+K).toString(36))},G=q("keys"),J=function(t){return G[t]||(G[t]=Y(t))},Q={},Z=y.WeakMap,X=function(t){return W(t)?H(t):j(t,{})},tt=function(t){return function(e){var n;if(!C(e)||(n=H(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(U){var et=new Z,nt=et.get,ot=et.has,rt=et.set;j=function(t,e){return rt.call(et,t,e),e},H=function(t){return nt.call(et,t)||{}},W=function(t){return ot.call(et,t)}}else{var it=J("state");Q[it]=!0,j=function(t,e){return P(t,it,e),e},H=function(t){return R(t,it)?t[it]:{}},W=function(t){return R(t,it)}}var st={set:j,get:H,has:W,enforce:X,getterFor:tt},at=M((function(t){var e=st.get,n=st.enforce,o=String(F).split("toString");q("inspectSource",(function(t){return F.call(t)})),(t.exports=function(t,e,r,i){var s=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof e||R(r,"name")||P(r,"name",e),n(r).source=o.join("string"==typeof e?e:"")),t!==y?(s?!c&&t[e]&&(a=!0):delete t[e],a?t[e]=r:P(t,e,r)):a?t[e]=r:z(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||F.call(this)}))})),ct=g(!1),lt=function(t,e){var n,o=a(t),r=0,i=[];for(n in o)!R(Q,n)&&R(o,n)&&i.push(n);for(;e.length>r;)R(o,n=e[r++])&&(~ct(i,n)||i.push(n));return i},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=ut.concat("length","prototype"),ft={f:Object.getOwnPropertyNames||function(t){return lt(t,dt)}},ht={f:Object.getOwnPropertySymbols},pt=y.Reflect,mt=pt&&pt.ownKeys||function(t){var e=ft.f(D(t)),n=ht.f;return n?e.concat(n(t)):e},gt=function(t,e){for(var n=mt(e),o=L.f,r=I.f,i=0;i<n.length;i++){var s=n[i];R(t,s)||o(t,s,r(e,s))}},yt=/#|\.prototype\./,vt=function(t,n){var o=_t[Et(t)];return o==bt||o!=wt&&("function"==typeof n?e(n):!!n)},Et=vt.normalize=function(t){return String(t).replace(yt,".").toLowerCase()},_t=vt.data={},wt=vt.NATIVE="N",bt=vt.POLYFILL="P",Ct=vt,St=I.f,Nt=function(t,e){var n,o,r,i,s,a=t.target,c=t.global,l=t.stat;if(n=c?y:l?y[a]||z(a,{}):(y[a]||{}).prototype)for(o in e){if(i=e[o],r=t.noTargetGet?(s=St(n,o))&&s.value:n[o],!Ct(c?o:a+(l?".":"#")+o,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;gt(i,r)}(t.sham||r&&r.sham)&&P(i,"sham",!0),at(n,o,i,t)}},Rt=!e((function(){return!String(Symbol())})),Ot=q("wks"),At=y.Symbol,Tt=function(t){return Ot[t]||(Ot[t]=Rt&&At[t]||(Rt?At:Y)("Symbol."+t))},xt=Object.keys||function(t){return lt(t,ut)},kt=v?Object.defineProperties:function(t,e){D(t);for(var n,o=xt(e),r=o.length,i=0;r>i;)L.f(t,n=o[i++],e[n]);return t},It=y.document,Dt=It&&It.documentElement,Bt=J("IE_PROTO"),Lt="prototype",Pt=function(){},Mt=function(){var t,e=T("iframe"),n=ut.length,o="<",r="script",i=">",s="java"+r+":";for(e.style.display="none",Dt.appendChild(e),e.src=String(s),(t=e.contentWindow.document).open(),t.write(o+r+i+"document.F=Object"+o+"/"+r+i),t.close(),Mt=t.F;n--;)delete Mt[Lt][ut[n]];return Mt()},jt=Object.create||function(t,e){var n;return null!==t?(Pt[Lt]=D(t),n=new Pt,Pt[Lt]=null,n[Bt]=t):n=Mt(),void 0===e?n:kt(n,e)};Q[Bt]=!0;var Ht=Tt("unscopables"),Wt=Array.prototype;null==Wt[Ht]&&P(Wt,Ht,jt(null));var zt=function(t){Wt[Ht][t]=!0},qt=g(!0);Nt({target:"Array",proto:!0},{includes:function(t){return qt(this,t,arguments.length>1?arguments[1]:void 0)}}),zt("includes");var Ft,$t,Ut=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Vt=function(t,e,n){if(Ut(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}},Kt=Function.call,Yt=(Ft="includes",Vt(Kt,y.Array.prototype[Ft],$t),function(t){return Object(s(t))}),Gt=Object.assign,Jt=!Gt||e((function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=Gt({},t)[n]||xt(Gt({},e)).join("")!=o}))?function(t,e){for(var n=Yt(t),o=arguments.length,r=1,s=ht.f,a=w.f;o>r;)for(var c,l=i(arguments[r++]),u=s?xt(l).concat(s(l)):xt(l),d=u.length,f=0;d>f;)a.call(l,c=u[f++])&&(n[c]=l[c]);return n}:Gt;Nt({target:"Object",stat:!0,forced:Object.assign!==Jt},{assign:Jt}),y.Object.assign;var Qt="undefined",Zt="2.1.0",Xt=typeof window!=Qt&&typeof document!=Qt;Xt||console.log("Rangy can only run in a browser");var te={implementsDomRange:!0,implementsTextRange:!1,htmlParsingConforms:!0,crashyTextNodes:!1,implementsWinGetSelection:!0,implementsDocSelection:!1,selectionSupportsMultipleRanges:!1,implementsControlRange:!1},ee={preferTextRange:!1,checkSelectionRanges:!0};function ne(t){if(Xt)if("complete"==document.readyState)t();else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}}function oe(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function re(t,e){return!("object"!=typeof t[e]||!t[e])}function ie(t,e){return void 0!==t[e]}function se(t){return function(e,n){for(var o=n.length;o--;)if(!t(e,n[o]))return!1;return!0}}var ae=se(oe),ce=se(re),le=se(ie);function ue(t){return re(t,"body")?t.body:t.getElementsByTagName("body")[0]}var de=Object.freeze({isHostMethod:oe,isHostObject:re,isHostProperty:ie,areHostMethods:ae,areHostObjects:ce,areHostProperties:le,getBody:ue}),fe=function(){function t(t,e){this.name=t,this.dependencies=e}return t.prototype.fail=function(t){throw console.log("Module '"+this.name+"' failed to load: "+t),new Error(t)},t.prototype.warn=function(t){console.log("Module "+this.name+": "+t)},t.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},t}();function he(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}he.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},he.prototype.toString=function(){return this.message};var pe,me=new fe("DomUtil",[]),ge="undefined";function ye(t){var e;return typeof t.namespaceURI==ge||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function ve(t){var e=t.parentNode;return 1==e.nodeType?e:null}function Ee(t){for(var e=0;t=t.previousSibling;)++e;return e}function _e(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function we(t,e){var n,o=[];for(n=t;n;n=n.parentNode)o.push(n);for(n=e;n;n=n.parentNode)if(o.includes(n))return n;return null}function be(t,e,n){for(var o=n?e:e.parentNode;o;){if(o===t)return!0;o=o.parentNode}return!1}function Ce(t,e){return be(t,e,!0)}function Se(t,e,n){for(var o,r=n?t:t.parentNode;r;){if((o=r.parentNode)===e)return r;r=o}return null}function Ne(t){var e=t.nodeType;return 3==e||4==e||8==e}function Re(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function Oe(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t}function Ae(t,e,n){var o=t.cloneNode(!1);if(o.deleteData(0,e),t.deleteData(e,t.length-e),Oe(o,t),n)for(var r,i=0;r=n[i++];)r.node==t&&r.offset>e?(r.node=o,r.offset-=e):r.node==t.parentNode&&r.offset>Ee(t)&&++r.offset;return o}function Te(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=ge)return t.ownerDocument;if(typeof t.document!=ge)return t.document;if(t.parentNode)return Te(t.parentNode);throw me.createError("getDocument: no document found for node")}function xe(t){var e=Te(t);if(typeof e.defaultView!=ge)return e.defaultView;if(typeof e.parentWindow!=ge)return e.parentWindow;throw me.createError("Cannot get a window object for node")}function ke(t){if(typeof t.contentDocument!=ge)return t.contentDocument;if(typeof t.contentWindow!=ge)return t.contentWindow.document;throw me.createError("getIframeDocument: No Document object found for iframe element")}function Ie(t){if(typeof t.contentWindow!=ge)return t.contentWindow;if(typeof t.contentDocument!=ge)return t.contentDocument.defaultView;throw me.createError("getIframeWindow: No Window object found for iframe element")}function De(t){return t&&oe(t,"setTimeout")&&re(t,"document")}function Be(t){return 1==t.nodeType&&"iframe"==t.tagName.toLowerCase()}function Le(t,e,n){var o;if(t?ie(t,"nodeType")?o=Be(t)?ke(t):Te(t):De(t)&&(o=t.document):o=document,!o)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return o}function Pe(t){for(var e;e=t.parentNode;)t=e;return t}function Me(t,e,n,o){var r,i,s,a,c;if(t==n)return e===o?0:e<o?-1:1;if(r=Se(n,t,!0))return e<=Ee(r)?-1:1;if(r=Se(t,n,!0))return Ee(r)<o?-1:1;if(!(i=we(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((s=t===i?i:Se(t,i,!0))===(a=n===i?i:Se(n,i,!0)))throw me.createError("comparePoints got to case 4 and childA and childB are the same!");for(c=i.firstChild;c;){if(c===s)return-1;if(c===a)return 1;c=c.nextSibling}}function je(t){if(!t)return"[No node]";if(Ne(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+Ee(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function He(t){for(var e,n=Te(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}ae(document,["createDocumentFragment","createElement","createTextNode"])||me.fail("document missing a Node creation method"),oe(document,"getElementsByTagName")||me.fail("document missing getElementsByTagName method"),typeof window.getComputedStyle!=ge?pe=function(t,e){return xe(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=ge?pe=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:me.fail("No means of obtaining computed style properties found");var We=pe;function ze(t,e,n){var o=ue(t),r=t.createElement("div");r.contentEditable=""+!!n,e&&(r.innerHTML=e);var i=o.firstChild;return i?o.insertBefore(r,i):o.appendChild(r),r}function qe(t){return t.parentNode.removeChild(t)}var Fe=function(){function t(t){this.root=t,this._next=t}return t.prototype.hasNext=function(){return!!this._next},t.prototype.next=function(){var e,n,o=t._current=this._next;if(t._current)if(e=o.firstChild)this._next=e;else{for(n=null;o!==this.root&&!(n=o.nextSibling);)o=o.parentNode;this._next=n}return t._current},t.prototype.detach=function(){t._current=this._next=this.root=null},t._current=null,t}();function $e(t){return new Fe(t)}var Ue=function(){function t(t,e){this.node=t,this.offset=e}return t.prototype.equals=function(t){return!!t&&this.node===t.node&&this.offset==t.offset},t.prototype.inspect=function(){return"[DomPosition("+je(this.node)+":"+this.offset+")]"},t.prototype.toString=function(){return this.inspect()},t}(),Ve=Object.freeze({getBody:ue,isHtmlNamespace:ye,parentElement:ve,getNodeIndex:Ee,getNodeLength:_e,getCommonAncestor:we,isAncestorOf:be,isOrIsAncestorOf:Ce,getClosestAncestorIn:Se,isCharacterDataNode:Ne,isTextOrCommentNode:Re,insertAfter:Oe,splitDataNode:Ae,getDocument:Te,getWindow:xe,getIframeDocument:ke,getIframeWindow:Ie,isWindow:De,getContentDocument:Le,getRootContainer:Pe,comparePoints:Me,inspectNode:je,fragmentFromNodeChildren:He,getComputedStyleProperty:We,createTestElement:ze,removeNode:qe,NodeIterator:Fe,createIterator:$e,DomPosition:Ue}),Ke=function(t,e){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ke(t,e)};function Ye(t,e){function n(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Ge(t,e){return 3!=t.nodeType&&(Ce(t,e.startContainer)||Ce(t,e.endContainer))}var Je=[1,3,4,5,7,8,10],Qe=[2,9,11],Ze=[5,6,10,12],Xe=[1,3,4,5,7,8,10,11],tn=[1,3,4,5,7,8];function en(t){return function(e,n){for(var o,r=n?e:e.parentNode;r;){if(o=r.nodeType,t.includes(o))return r;r=r.parentNode}return null}}var nn=en([9,11]),on=en(Ze),rn=en([6,10,12]),sn=en([1]);function an(t,e){if(rn(t,e))throw new he("INVALID_NODE_TYPE_ERR")}function cn(t,e){if(!e.includes(t.nodeType))throw new he("INVALID_NODE_TYPE_ERR")}function ln(t,e){if(e<0||e>(Ne(t)?t.length:t.childNodes.length))throw new he("INDEX_SIZE_ERR")}function un(t,e){if(nn(t,!0)!==nn(e,!0))throw new he("WRONG_DOCUMENT_ERR")}function dn(t){if(on(t,!0))throw new he("NO_MODIFICATION_ALLOWED_ERR")}function fn(t,e){if(!t)throw new he(e)}function hn(t,e){return e<=(Ne(t)?t.length:t.childNodes.length)}function pn(t){return!!t.startContainer&&!!t.endContainer&&Pe(t.startContainer)==Pe(t.endContainer)&&hn(t.startContainer,t.startOffset)&&hn(t.endContainer,t.endOffset)}function mn(t){if(!pn(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function gn(t){return t.document||Te(t.startContainer)}function yn(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:we(t.startContainer,t.endContainer)}function vn(t,e,n,o,r){t.startContainer=e,t.startOffset=n,t.endContainer=o,t.endOffset=r,t.document=Te(e),yn(t)}var En=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],_n=function(){function t(){}return t}(),wn=function(t){function e(e){var n=t.call(this)||this;return vn(n,e,0,e,0),n}return Ye(e,t),e}(_n),bn=function(){function t(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,this._current=null,this._next=null,this._first=null,this._last=null,this.isSingleCharacterDataNode=!1,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&Ne(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||Ne(this.sc)?Se(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||Ne(this.ec)?Se(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}return t.prototype.reset=function(){this._current=null,this._next=this._first},t.prototype.hasNext=function(){return!!this._next},t.prototype.detach=function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null},t.prototype.next=function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,Ne(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},t.prototype.remove=function(){var t,e,n=this._current;!Ne(n)||n!==this.sc&&n!==this.ec?n.parentNode&&qe(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},t.prototype.isPartiallySelectedSubtree=function(){return Ge(this._current,this.range)},t.prototype.getSubtreeIterator=function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new Qn(gn(this.range));var n=this._current,o=n,r=0,i=n,s=_e(n);Ce(n,this.sc)&&(o=this.sc,r=this.so),Ce(n,this.ec)&&(i=this.ec,s=this.eo),vn(e,o,r,i,s)}return new t(e,this.clonePartiallySelectedTextNodes)},t}();function Cn(t){for(var e,n,o,r=gn(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(o=t.getSubtreeIterator(),n.appendChild(Cn(o)),o.detach()),10==n.nodeType)throw new he("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function Sn(t,e,n){var o,r,i,s;for(void 0===n&&(n={stop:!1});i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i))return void(n.stop=!0);if(Sn(s=t.getSubtreeIterator(),e,n),s.detach(),n.stop)return}else for(o=$e(i);r=o.next();)if(!1===e(r))return void(n.stop=!0)}function Nn(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(Nn(e=t.getSubtreeIterator()),e.detach()):t.remove()}function Rn(t){for(var e,n,o=gn(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(Rn(n)),n.detach()):t.remove(),10==e.nodeType)throw new he("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function On(t){return Pe(t.startContainer)}function An(t,e,n){var o=11==t.nodeType?t.firstChild:t;return Ne(e)?n==e.length?Oe(t,e):e.parentNode.insertBefore(t,0==n?e:Ae(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),o}function Tn(t,e,n){if(mn(t),mn(e),gn(e)!=gn(t))throw new he("WRONG_DOCUMENT_ERR");var o=Me(t.startContainer,t.startOffset,e.endContainer,e.endOffset),r=Me(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?o<=0&&r>=0:o<0&&r>0}function xn(t,e,n){var o,r=!(!e||!e.length),i=!!n;r&&(o=new RegExp("^("+e.join("|")+")$"));var s=[];return Sn(new bn(t,!1),(function(e){if((!r||o.test(e.nodeType.toString()))&&(!i||n(e))){var a=t.startContainer;if(e!=a||!Ne(a)||t.startOffset!=a.length){var c=t.endContainer;e==c&&Ne(c)&&0==t.endOffset||s.push(e)}}})),s}function kn(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+je(t.startContainer)+":"+t.startOffset+", "+je(t.endContainer)+":"+t.endOffset+")]"}function In(t){mn(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}var Dn=0,Bn=1,Ln=3,Pn=0,Mn=1,jn=2,Hn=3,Wn={START_TO_START:Dn,START_TO_END:Bn,END_TO_END:2,END_TO_START:Ln,NODE_BEFORE:Pn,NODE_AFTER:Mn,NODE_BEFORE_AND_AFTER:jn,NODE_INSIDE:Hn};function zn(t){Object.assign(t,Wn),Object.assign(t.prototype,Wn)}function qn(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.compareBoundaryPoints=function(t,e){mn(this),un(this.startContainer,e.startContainer);var n=t==Ln||t==Dn?"start":"end",o=t==Bn||t==Dn?"start":"end";return Me(this[n+"Container"],this[n+"Offset"],e[o+"Container"],e[o+"Offset"])},e.prototype.insertNode=function(t){if(mn(this),cn(t,Xe),dn(this.startContainer),Ce(t,this.startContainer))throw new he("HIERARCHY_REQUEST_ERR");var e=An(t,this.startContainer,this.startOffset);this.setStartBefore(e)},e.prototype.cloneContents=function(){var t,e;if(mn(this),this.collapsed)return gn(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Ne(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=gn(this).createDocumentFragment()).appendChild(t),e;var n=new bn(this,!0);return t=Cn(n),n.detach(),t},e.prototype.canSurroundContents=function(){mn(this),dn(this.startContainer),dn(this.endContainer);var t=new bn(this,!0),e=t._first&&Ge(t._first,this)||t._last&&Ge(t._last,this);return t.detach(),!e},e.prototype.surroundContents=function(t){if(cn(t,tn),!this.canSurroundContents())throw new he("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);An(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},e.prototype.cloneRange=function(){mn(this);for(var t=new Qn(gn(this)),e=0,n=En;e<n.length;e++){var o=n[e];t[o]=this[o]}return t},e.prototype.toString=function(){mn(this);var t=this.startContainer;if(t===this.endContainer&&Ne(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new bn(this,!0);return Sn(n,(function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)})),n.detach(),e.join("")},e.prototype.compareNode=function(t){mn(this);var e=t.parentNode,n=Ee(t);if(!e)throw new he("NOT_FOUND_ERR");var o=this.comparePoint(e,n),r=this.comparePoint(e,n+1);return o<0?r>0?jn:Pn:r>0?Mn:Hn},e.prototype.comparePoint=function(t,e){return mn(this),fn(t,"HIERARCHY_REQUEST_ERR"),un(t,this.startContainer),Me(t,e,this.startContainer,this.startOffset)<0?-1:Me(t,e,this.endContainer,this.endOffset)>0?1:0},e.prototype.createContextualFragment=function(t){var e=this.startContainer,n=Te(e);if(!e)throw new he("INVALID_STATE_ERR");var o=null;return 1==e.nodeType?o=e:Ne(e)&&(o=ve(e)),(o=null===o||"HTML"==o.nodeName&&ye(Te(o).documentElement)&&ye(o)?n.createElement("body"):o.cloneNode(!1)).innerHTML=t,He(o)},e.prototype.toHtml=function(){return In(this)},e.prototype.intersectsNode=function(t,e){if(mn(this),Pe(t)!=On(this))return!1;var n=t.parentNode,o=Ee(t);if(!n)return!0;var r=Me(n,o,this.endContainer,this.endOffset),i=Me(n,o+1,this.startContainer,this.startOffset);return e?r<=0&&i>=0:r<0&&i>0},e.prototype.isPointInRange=function(t,e){return mn(this),fn(t,"HIERARCHY_REQUEST_ERR"),un(t,this.startContainer),Me(t,e,this.startContainer,this.startOffset)>=0&&Me(t,e,this.endContainer,this.endOffset)<=0},e.prototype.intersectsRange=function(t){return Tn(this,t,!1)},e.prototype.intersectsOrTouchesRange=function(t){return Tn(this,t,!0)},e.prototype.intersection=function(t){if(this.intersectsRange(t)){var e=Me(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=Me(this.endContainer,this.endOffset,t.endContainer,t.endOffset),o=this.cloneRange();return-1==e&&o.setStart(t.startContainer,t.startOffset),1==n&&o.setEnd(t.endContainer,t.endOffset),o}return null},e.prototype.union=function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==Me(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==Me(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new he("Ranges do not intersect")},e.prototype.containsNode=function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==Hn},e.prototype.containsNodeContents=function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,_e(t))<=0},e.prototype.containsRange=function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},e.prototype.containsNodeText=function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var o=n.pop();return e.setEnd(o,o.length),this.containsRange(e)}return this.containsNodeContents(t)},e.prototype.getNodes=function(t,e){return mn(this),xn(this,t,e)},e.prototype.getDocument=function(){return gn(this)},e.prototype.collapseBefore=function(t){this.setEndBefore(t),this.collapse(!1)},e.prototype.collapseAfter=function(t){this.setStartAfter(t),this.collapse(!0)},e.prototype.getBookmark=function(t){var e=gn(this),n=io(e);t=t||ue(e),n.selectNodeContents(t);var o=this.intersection(n),r=0,i=0;return o&&(n.setEnd(o.startContainer,o.startOffset),i=(r=n.toString().length)+o.toString().length),{start:r,end:i,containerNode:t}},e.prototype.moveToBookmark=function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var o,r,i,s,a=[e],c=!1,l=!1;!l&&(o=a.pop());)if(3==o.nodeType)r=n+o.length,!c&&t.start>=n&&t.start<=r&&(this.setStart(o,t.start-n),c=!0),c&&t.end>=n&&t.end<=r&&(this.setEnd(o,t.end-n),l=!0),n=r;else for(i=(s=o.childNodes).length;i--;)a.push(s[i])},e.prototype.getName=function(){return"DomRange"},e.prototype.equals=function(t){return Fn(this,t)},e.prototype.isValid=function(){return pn(this)},e.prototype.inspect=function(){return kn(this)},e.prototype.detach=function(){},e.prototype.select=function(t){Do(this.getDocument()).setSingleRange(this,t)},e}(t)}function Fn(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}var $n=new fe("DomRange",["DomUtil"]);function Un(t){return new Ue(t.parentNode,Ee(t))}function Vn(t){return new Ue(t.parentNode,Ee(t)+1)}function Kn(t,e){mn(t);var n=t.startContainer,o=t.startOffset,r=t.endContainer,i=t.endOffset,s=n===r;Ne(r)&&i>0&&i<r.length&&Ae(r,i,e),Ne(n)&&o>0&&o<n.length&&(n=Ae(n,o,e),s?(i-=o,r=n):r==n.parentNode&&i>=Ee(n)&&i++,o=0),t.setStartAndEnd(n,o,r,i)}function Yn(t,e){return function(){mn(this);var n,o=this.startContainer,r=this.startOffset,i=this.commonAncestorContainer,s=new bn(this,!0);o!==i&&(o=(n=Vn(Se(o,i,!0))).node,r=n.offset),Sn(s,dn),s.reset();var a=t(s);return s.detach(),e(this,o,r,o,r),a}}function Gn(t,e){function n(t,e){return function(n){cn(n,Je),cn(Pe(n),Qe);var i=(t?Un:Vn)(n);(e?o:r)(this,i.node,i.offset)}}function o(t,n,o){var r=t.endContainer,i=t.endOffset;n===t.startContainer&&o===t.startOffset||(Pe(n)==Pe(r)&&1!=Me(n,o,r,i)||(r=n,i=o),e(t,n,o,r,i))}function r(t,n,o){var r=t.startContainer,i=t.startOffset;n===t.endContainer&&o===t.endOffset||(Pe(n)==Pe(r)&&-1!=Me(n,o,r,i)||(r=n,i=o),e(t,r,i,n,o))}return function(t){function i(){var o=null!==t&&t.apply(this,arguments)||this;return o.setStartBefore=n(!0,!0),o.setStartAfter=n(!1,!0),o.setEndBefore=n(!0,!1),o.setEndAfter=n(!1,!1),o.extractContents=Yn(Rn,e),o.deleteContents=Yn(Nn,e),o}return Ye(i,t),i.prototype.setStart=function(t,e){an(t,!0),ln(t,e),o(this,t,e)},i.prototype.setEnd=function(t,e){an(t,!0),ln(t,e),r(this,t,e)},i.prototype.setStartAndEnd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t[0],r=t[1],i=o,s=r;switch(t.length){case 3:s=t[2];break;case 4:i=t[2],s=t[3]}an(o,!0),ln(o,r),an(i,!0),ln(i,s),e(this,o,r,i,s)},i.prototype.setBoundary=function(t,e,n){this["set"+(n?"Start":"End")](t,e)},i.prototype.collapse=function(t){mn(this),t?e(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):e(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},i.prototype.selectNodeContents=function(t){an(t,!0),e(this,t,0,t,_e(t))},i.prototype.selectNode=function(t){an(t,!1),cn(t,Je);var n=Un(t),o=Vn(t);e(this,n.node,n.offset,o.node,o.offset)},i.prototype.splitBoundaries=function(){Kn(this)},i.prototype.splitBoundariesPreservingPositions=function(t){Kn(this,t)},i.prototype.normalizeBoundaries=function(){mn(this);var t,n=this.startContainer,o=this.startOffset,r=this.endContainer,i=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(r=t,i=t.length,t.appendData(e.data),qe(e))},a=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){n=t;var s=t.length;if(o=e.length,t.insertData(0,e.data),qe(e),n==r)i+=o,r=n;else if(r==t.parentNode){var a=Ee(t);i==a?(r=t,i=s):i>a&&i--}}},c=!0;if(Ne(r))i==r.length?s(r):0==i&&(t=r.previousSibling)&&t.nodeType==r.nodeType&&(i=t.length,n==r&&(c=!1),t.appendData(r.data),qe(r),r=t);else{if(i>0){var l=r.childNodes[i-1];l&&Ne(l)&&s(l)}c=!this.collapsed}if(c){if(Ne(n))0==o?a(n):o==n.length&&(t=n.nextSibling)&&t.nodeType==n.nodeType&&(r==t&&(r=n,i+=n.length),n.appendData(t.data),qe(t));else if(o<n.childNodes.length){var u=n.childNodes[o];u&&Ne(u)&&a(u)}}else n=r,o=i;e(this,n,o,r,i)},i.prototype.collapseToPoint=function(t,e){an(t,!0),ln(t,e),this.setStartAndEnd(t,e)},i.prototype.parentElement=function(){return mn(this),sn(this.commonAncestorContainer,!0)},i}(t)}function Jn(t,e){var n=qn(t);Object.assign(n.prototype,Wn);var o=Gn(n,e);return Object.assign(o,Wn)}var Qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ye(e,t),e.inspect=kn,e.toHtml=In,e.getRangeDocument=gn,e.rangesEqual=Fn,e}(Jn(wn,vn));function Zn(t){return t=Le(t,$n,"createRangyRange"),new Qn(t)}Object.assign(Qn,{rangeProperties:En,RangeIterator:bn,copyComparisonConstants:zn,createPrototypeRange:Jn});var Xn=new fe("WrappedRange",["DomRange"]);function to(t){for(var e=0,n=En;e<n.length;e++){var o=n[e];t[o]=t.nativeRange[o]}t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function eo(t,e,n,o,r){var i=t.startContainer!==e||t.startOffset!=n,s=t.endContainer!==o||t.endOffset!=r,a=!t.equals(t.nativeRange);(i||s||a)&&(t.setEnd(o,r),t.setStart(e,n))}var no=function(t){function e(n){var o=t.call(this)||this;if(o.nativeRange=n,o.setStartBefore=e.createBeforeAfterNodeSetter("setStartBefore"),o.setStartAfter=e.createBeforeAfterNodeSetter("setStartAfter"),o.setEndBefore=e.createBeforeAfterNodeSetter("setEndBefore"),o.setEndAfter=e.createBeforeAfterNodeSetter("setEndAfter"),!n)throw Xn.createError("WrappedRange: Range must be specified");return to(o),o}return Ye(e,t),e.prototype.selectNode=function(t){this.nativeRange.selectNode(t),to(this)},e.prototype.cloneContents=function(){return this.nativeRange.cloneContents()},e.prototype.surroundContents=function(t){this.nativeRange.surroundContents(t),to(this)},e.prototype.collapse=function(t){this.nativeRange.collapse(t),to(this)},e.prototype.cloneRange=function(){return new e(this.nativeRange.cloneRange())},e.prototype.refresh=function(){to(this)},e.prototype.toString=function(){return this.nativeRange.toString()},e.prototype.setStart=function(t,e){this.nativeRange.setStart(t,e),to(this)},e.prototype.setEnd=function(t,e){this.nativeRange.setEnd(t,e),to(this)},e.createBeforeAfterNodeSetter=function(t){return function(e){this.nativeRange[t](e),to(this)}},e.prototype.selectNodeContents=function(t){this.setStartAndEnd(t,0,_e(t))},e.prototype.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},e.prototype.getName=function(){return"WrappedRange"},e}(Jn(_n,eo));function oo(){var t=document.createTextNode("test");ue(document).appendChild(t);var e=document.createRange(),n=document.createElement("div");n.innerHTML="123";var o=n.firstChild,r=ue(document);r.appendChild(n),e.setStart(o,1),e.setEnd(o,2),e.deleteContents();var i=no.prototype;"13"==o.data&&(i.deleteContents=function(){this.nativeRange.deleteContents(),to(this)},i.extractContents=function(){var t=this.nativeRange.extractContents();return to(this),t}),r.removeChild(n),oe(e,"createContextualFragment")&&(i.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),r.removeChild(t),r=null}function ro(t){return(t=Le(t,Xn,"createNativeRange")).createRange()}function io(t){return t=Le(t,Xn,"createRange"),new no(ro(t))}function so(t){t||(t=window);var e=t.document;void 0===e.createRange&&(e.createRange=function(){return io(e)})}ne(oo);var ao=new fe("WrappedSelection",["DomRange","WrappedRange"]),co="boolean",lo="number";function uo(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function fo(t,e){return t?De(t)?t:t instanceof Po?t.win:xe(Le(t,ao,e)):window}function ho(t){return fo(t,"getWinSelection").getSelection()}function po(t){var e=!1;return t.anchorNode&&(e=1==Me(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}var mo=po;function go(){return!0}var yo=ho();yo||ao.fail("Native selection was null (possibly issue 138?)");var vo,Eo=ro(document),_o=te.selectionHasAnchorAndFocus=le(yo,["anchorNode","focusNode","anchorOffset","focusOffset"]),wo=te.selectionHasExtend=oe(yo,"extend"),bo=te.selectionHasRangeCount=typeof yo.rangeCount==lo,Co=wo?function(t,e){var n=io(Qn.getRangeDocument(e));n.collapseToPoint(e.endContainer,e.endOffset),t.addRange(Ao(n)),t.extend(e.startContainer,e.startOffset)}:null,So=_o?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};function No(t,e,n){var o=n?"end":"start",r=n?"start":"end";t.anchorNode=e[o+"Container"],t.anchorOffset=e[o+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function Ro(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function Oo(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function Ao(t){var e;return t instanceof Qn?((e=ro(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof no?e=t.nativeRange:t instanceof Range&&(e=t),e}function To(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}oe(yo,"getRangeAt")?vo=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:_o&&(vo=function(t){var e=io(Te(t.anchorNode));return e.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),e.collapsed!==this.isCollapsed&&e.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),e});var xo,ko=[];function Io(t,e){for(var n,o,r=ko.length;r--;)if(o=(n=ko[r]).selection,"deleteAll"==e)To(o);else if(n.win==t)return"delete"==e?(ko.splice(r,1),!0):o;return"deleteAll"==e&&(ko.length=0),null}function Do(t){if(t&&t instanceof Po)return t.refresh(),t;var e=Io(t=fo(t,"getNativeSelection")),n=ho(t);return e?(e.nativeSelection=n,e.refresh()):(e=new Po(n,t),ko.push({win:t,selection:e})),e}oe(yo,"getRangeAt")&&typeof yo.rangeCount==lo?xo=function(t){if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new no(t.nativeSelection.getRangeAt(e));No(t,t._ranges[t.rangeCount-1],mo(t.nativeSelection)),t.isCollapsed=So(t)}else Oo(t)}:_o&&typeof yo.isCollapsed==co&&typeof Eo.collapsed==co&&te.implementsDomRange?xo=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=vo(n,0),t._ranges=[e],t.rangeCount=1,Ro(t),t.isCollapsed=So(t)):Oo(t)}:ao.fail("No means of obtaining a Range or TextRange from the user's selection was found");var Bo=function(){function t(t,e){this.nativeSelection=t,this.win=e,this._ranges=[],3==arguments.length&&(this.win=arguments[2]),this.refresh()}return t}();function Lo(t){var e;function n(t,e){Co(t.nativeSelection,e),t.refresh()}var o=bo?function(t,e){if(uo(e)&&wo)n(this,t);else{var o;te.selectionSupportsMultipleRanges?o=this.rangeCount:(this.removeAllRanges(),o=0);var r=Ao(t).cloneRange();try{this.nativeSelection.addRange(r)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(ee.checkSelectionRanges){var i=vo(this.nativeSelection,this.rangeCount-1);i&&!Fn(i,t)&&(t=new no(i))}this._ranges[this.rangeCount-1]=t,No(this,t,mo(this.nativeSelection)),this.isCollapsed=So(this)}else this.refresh()}}:function(t,e){uo(e)&&wo?n(this,t):(this.nativeSelection.addRange(Ao(t)),this.refresh())};function r(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var o=0,r=n.length;o<r;++o)Fn(e,n[o])||t.addRange(n[o]);t.rangeCount||Oo(t)}function i(t,e){if(t.win.document!=Te(e))throw new he("WRONG_DOCUMENT_ERR")}function s(t){return function(e,n){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(t?"Start":"End")](e,n):(o=io(this.win.document)).setStartAndEnd(e,n),this.setSingleRange(o,this.isBackward())}}return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addRange=o,e.isBackwards=e.isBackward,e.setStart=s(!0),e.setEnd=s(!1),e}return Ye(e,t),e.prototype.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),Oo(this)},e.prototype.setRanges=function(t){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])},e.prototype.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new he("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},e.prototype.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,o=this.anchorOffset;if(xo(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=o)return!0;for(;r--;)if(!Fn(e[r],this._ranges[r]))return!0;return!1}},e.prototype.removeRange=function(t){r(this,t)},e.prototype.isBackward=function(){return mo(this)},e.prototype.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},e.prototype.collapse=function(t,e){i(this,t);var n=io(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},e.prototype.collapseToStart=function(){if(!this.rangeCount)throw new he("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},e.prototype.collapseToEnd=function(){if(!this.rangeCount)throw new he("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},e.prototype.selectAllChildren=function(t){i(this,t);var e=io(t);e.selectNodeContents(t),this.setSingleRange(e)},e.prototype.deleteFromDocument=function(){if(this.rangeCount){var t=this.getAllRanges();if(t.length){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)t[e].deleteContents();this.addRange(t[n-1])}}},e.prototype.eachRange=function(t,e){for(var n=0,o=this._ranges.length;n<o;++n)if(t(this.getRangeAt(n)))return e},e.prototype.getAllRanges=function(){var t=[];return this.eachRange((function(e){t.push(e)})),t},e.prototype.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},e.prototype.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange((function(o){n.push(o[t].apply(o,e||[]))})),n},e.prototype.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange((function(n){t(n),e.push(n)})),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},e.prototype.containsNode=function(t,e){return this.eachRange((function(n){return n.containsNode(t,e)}),!0)||!1},e.prototype.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},e.prototype.moveToBookmark=function(t){for(var e,n,o=[],r=0;e=t.rangeBookmarks[r++];)(n=io(this.win)).moveToBookmark(e),o.push(n);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},e.prototype.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},e.prototype.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},e.prototype.toHtml=function(){var t=[];return this.eachRange((function(e){t.push(Qn.toHtml(e))})),t.join("")},e.inspect=function(t){var e=[],n=new Ue(t.anchorNode,t.anchorOffset),o=new Ue(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var i=0,s=t.rangeCount;i<s;++i)e[i]=Qn.inspect(t.getRangeAt(i));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+o.inspect()+"]"},e.prototype.getName=function(){return"WrappedSelection"},e.prototype.inspect=function(){return e.inspect(this)},e.prototype.detach=function(){Io(this.win,"delete"),To(this)},e.detachAll=function(){Io(null,"deleteAll")},e}(t),e.isDirectionBackward=uo,e}var Po=Lo(Bo),Mo=Po;function jo(t){t||(t=window),void 0===t.getSelection&&(t.getSelection=function(){return Do(t)})}function Ho(t){so(t=t||window),jo(t)}t.DOMException=he,t.DomRange=Qn,t.Module=fe,t.RangeBase=_n,t.Selection=Mo,t.WrappedRange=no,t.WrappedSelection=Po,t.config=ee,t.createNativeRange=ro,t.createPrototypeRange=Jn,t.createRange=io,t.createRangyRange=Zn,t.dom=Ve,t.features=te,t.getNativeSelection=ho,t.getRangeDocument=gn,t.getSelection=Do,t.isBrowser=Xt,t.isSelectionValid=go,t.onDocReady=ne,t.rangesEqual=Fn,t.shim=Ho,t.shimCreateRange=so,t.shimGetSelection=jo,t.util=de,t.version=Zt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},535:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DOMException:()=>_,DomRange:()=>qt,Module:()=>E,RangeBase:()=>bt,Selection:()=>we,WrappedRange:()=>Vt,WrappedSelection:()=>_e,config:()=>l,createNativeRange:()=>Kt,createPrototypeRange:()=>zt,createRange:()=>Yt,createRangyRange:()=>Ft,dom:()=>r,features:()=>c,getNativeSelection:()=>ee,getRangeDocument:()=>Et,getSelection:()=>Ee,isBrowser:()=>a,isSelectionValid:()=>oe,onDocReady:()=>u,rangesEqual:()=>Lt,shim:()=>Ce,shimCreateRange:()=>Gt,shimGetSelection:()=>be,util:()=>o,version:()=>s});var o={};n.r(o),n.d(o,{areHostMethods:()=>m,areHostObjects:()=>g,areHostProperties:()=>y,getBody:()=>v,isHostMethod:()=>d,isHostObject:()=>f,isHostProperty:()=>h});var r={};n.r(r),n.d(r,{DomPosition:()=>Q,NodeIterator:()=>G,comparePoints:()=>F,createIterator:()=>J,createTestElement:()=>K,fragmentFromNodeChildren:()=>U,getBody:()=>v,getClosestAncestorIn:()=>k,getCommonAncestor:()=>A,getComputedStyleProperty:()=>V,getContentDocument:()=>z,getDocument:()=>P,getIframeDocument:()=>j,getIframeWindow:()=>H,getNodeIndex:()=>R,getNodeLength:()=>O,getRootContainer:()=>q,getWindow:()=>M,insertAfter:()=>B,inspectNode:()=>$,isAncestorOf:()=>T,isCharacterDataNode:()=>I,isHtmlNamespace:()=>S,isOrIsAncestorOf:()=>x,isTextOrCommentNode:()=>D,isWindow:()=>W,parentElement:()=>N,removeNode:()=>Y,splitDataNode:()=>L});n(4577),n(7671);var i="undefined",s="%%build:version%%",a=typeof window!=i&&typeof document!=i;a||console.log("Rangy can only run in a browser");var c={implementsDomRange:!0,implementsTextRange:!1,htmlParsingConforms:!0,crashyTextNodes:!1,implementsWinGetSelection:!0,implementsDocSelection:!1,selectionSupportsMultipleRanges:!1,implementsControlRange:!1},l={preferTextRange:!1,checkSelectionRanges:!0};function u(t){if(a)if("complete"==document.readyState)t();else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}}function d(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function f(t,e){return!("object"!=typeof t[e]||!t[e])}function h(t,e){return void 0!==t[e]}function p(t){return function(e,n){for(var o=n.length;o--;)if(!t(e,n[o]))return!1;return!0}}var m=p(d),g=p(f),y=p(h);function v(t){return f(t,"body")?t.body:t.getElementsByTagName("body")[0]}var E=function(){function t(t,e){this.name=t,this.dependencies=e}return t.prototype.fail=function(t){throw console.log("Module '"+this.name+"' failed to load: "+t),new Error(t)},t.prototype.warn=function(t){console.log("Module "+this.name+": "+t)},t.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},t}();function _(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},_.prototype.toString=function(){return this.message};var w,b=new E("DomUtil",[]),C="undefined";function S(t){var e;return typeof t.namespaceURI==C||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function N(t){var e=t.parentNode;return 1==e.nodeType?e:null}function R(t){for(var e=0;t=t.previousSibling;)++e;return e}function O(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function A(t,e){var n,o=[];for(n=t;n;n=n.parentNode)o.push(n);for(n=e;n;n=n.parentNode)if(o.includes(n))return n;return null}function T(t,e,n){for(var o=n?e:e.parentNode;o;){if(o===t)return!0;o=o.parentNode}return!1}function x(t,e){return T(t,e,!0)}function k(t,e,n){for(var o,r=n?t:t.parentNode;r;){if((o=r.parentNode)===e)return r;r=o}return null}function I(t){var e=t.nodeType;return 3==e||4==e||8==e}function D(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function B(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t}function L(t,e,n){var o=t.cloneNode(!1);if(o.deleteData(0,e),t.deleteData(e,t.length-e),B(o,t),n)for(var r,i=0;r=n[i++];)r.node==t&&r.offset>e?(r.node=o,r.offset-=e):r.node==t.parentNode&&r.offset>R(t)&&++r.offset;return o}function P(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=C)return t.ownerDocument;if(typeof t.document!=C)return t.document;if(t.parentNode)return P(t.parentNode);throw b.createError("getDocument: no document found for node")}function M(t){var e=P(t);if(typeof e.defaultView!=C)return e.defaultView;if(typeof e.parentWindow!=C)return e.parentWindow;throw b.createError("Cannot get a window object for node")}function j(t){if(typeof t.contentDocument!=C)return t.contentDocument;if(typeof t.contentWindow!=C)return t.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function H(t){if(typeof t.contentWindow!=C)return t.contentWindow;if(typeof t.contentDocument!=C)return t.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function W(t){return t&&d(t,"setTimeout")&&f(t,"document")}function z(t,e,n){var o,r;if(t?h(t,"nodeType")?o=1==(r=t).nodeType&&"iframe"==r.tagName.toLowerCase()?j(t):P(t):W(t)&&(o=t.document):o=document,!o)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return o}function q(t){for(var e;e=t.parentNode;)t=e;return t}function F(t,e,n,o){var r,i,s,a,c;if(t==n)return e===o?0:e<o?-1:1;if(r=k(n,t,!0))return e<=R(r)?-1:1;if(r=k(t,n,!0))return R(r)<o?-1:1;if(!(i=A(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((s=t===i?i:k(t,i,!0))===(a=n===i?i:k(n,i,!0)))throw b.createError("comparePoints got to case 4 and childA and childB are the same!");for(c=i.firstChild;c;){if(c===s)return-1;if(c===a)return 1;c=c.nextSibling}}function $(t){if(!t)return"[No node]";if(I(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+R(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function U(t){for(var e,n=P(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}m(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),d(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method"),typeof window.getComputedStyle!=C?w=function(t,e){return M(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=C?w=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:b.fail("No means of obtaining computed style properties found");var V=w;function K(t,e,n){var o=v(t),r=t.createElement("div");r.contentEditable=""+!!n,e&&(r.innerHTML=e);var i=o.firstChild;return i?o.insertBefore(r,i):o.appendChild(r),r}function Y(t){return t.parentNode.removeChild(t)}var G=function(){function t(t){this.root=t,this._next=t}return t.prototype.hasNext=function(){return!!this._next},t.prototype.next=function(){var e,n,o=t._current=this._next;if(t._current)if(e=o.firstChild)this._next=e;else{for(n=null;o!==this.root&&!(n=o.nextSibling);)o=o.parentNode;this._next=n}return t._current},t.prototype.detach=function(){t._current=this._next=this.root=null},t._current=null,t}();function J(t){return new G(t)}var Q=function(){function t(t,e){this.node=t,this.offset=e}return t.prototype.equals=function(t){return!!t&&this.node===t.node&&this.offset==t.offset},t.prototype.inspect=function(){return"[DomPosition("+$(this.node)+":"+this.offset+")]"},t.prototype.toString=function(){return this.inspect()},t}(),Z=function(t,e){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Z(t,e)};function X(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function tt(t,e){return 3!=t.nodeType&&(x(t,e.startContainer)||x(t,e.endContainer))}var et=[1,3,4,5,7,8,10],nt=[2,9,11],ot=[1,3,4,5,7,8,10,11],rt=[1,3,4,5,7,8];function it(t){return function(e,n){for(var o,r=n?e:e.parentNode;r;){if(o=r.nodeType,t.includes(o))return r;r=r.parentNode}return null}}var st=it([9,11]),at=it([5,6,10,12]),ct=it([6,10,12]),lt=it([1]);function ut(t,e){if(ct(t,e))throw new _("INVALID_NODE_TYPE_ERR")}function dt(t,e){if(!e.includes(t.nodeType))throw new _("INVALID_NODE_TYPE_ERR")}function ft(t,e){if(e<0||e>(I(t)?t.length:t.childNodes.length))throw new _("INDEX_SIZE_ERR")}function ht(t,e){if(st(t,!0)!==st(e,!0))throw new _("WRONG_DOCUMENT_ERR")}function pt(t){if(at(t,!0))throw new _("NO_MODIFICATION_ALLOWED_ERR")}function mt(t,e){if(!t)throw new _(e)}function gt(t,e){return e<=(I(t)?t.length:t.childNodes.length)}function yt(t){return!!t.startContainer&&!!t.endContainer&&q(t.startContainer)==q(t.endContainer)&&gt(t.startContainer,t.startOffset)&&gt(t.endContainer,t.endOffset)}function vt(t){if(!yt(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function Et(t){return t.document||P(t.startContainer)}function _t(t,e,n,o,r){t.startContainer=e,t.startOffset=n,t.endContainer=o,t.endOffset=r,t.document=P(e),function(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:A(t.startContainer,t.endContainer)}(t)}var wt=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],bt=function(){},Ct=function(t){function e(e){var n=t.call(this)||this;return _t(n,e,0,e,0),n}return X(e,t),e}(bt),St=function(){function t(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,this._current=null,this._next=null,this._first=null,this._last=null,this.isSingleCharacterDataNode=!1,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&I(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||I(this.sc)?k(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||I(this.ec)?k(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}return t.prototype.reset=function(){this._current=null,this._next=this._first},t.prototype.hasNext=function(){return!!this._next},t.prototype.detach=function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null},t.prototype.next=function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,I(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},t.prototype.remove=function(){var t,e,n=this._current;!I(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Y(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},t.prototype.isPartiallySelectedSubtree=function(){return tt(this._current,this.range)},t.prototype.getSubtreeIterator=function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new qt(Et(this.range));var n=this._current,o=n,r=0,i=n,s=O(n);x(n,this.sc)&&(o=this.sc,r=this.so),x(n,this.ec)&&(i=this.ec,s=this.eo),_t(e,o,r,i,s)}return new t(e,this.clonePartiallySelectedTextNodes)},t}();function Nt(t){for(var e,n,o,r=Et(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(o=t.getSubtreeIterator(),n.appendChild(Nt(o)),o.detach()),10==n.nodeType)throw new _("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function Rt(t,e,n){var o,r,i,s;for(void 0===n&&(n={stop:!1});i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i))return void(n.stop=!0);if(Rt(s=t.getSubtreeIterator(),e,n),s.detach(),n.stop)return}else for(o=J(i);r=o.next();)if(!1===e(r))return void(n.stop=!0)}function Ot(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(Ot(e=t.getSubtreeIterator()),e.detach()):t.remove()}function At(t){for(var e,n,o=Et(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(At(n)),n.detach()):t.remove(),10==e.nodeType)throw new _("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function Tt(t,e,n){var o=11==t.nodeType?t.firstChild:t;return I(e)?n==e.length?B(t,e):e.parentNode.insertBefore(t,0==n?e:L(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),o}function xt(t,e,n){if(vt(t),vt(e),Et(e)!=Et(t))throw new _("WRONG_DOCUMENT_ERR");var o=F(t.startContainer,t.startOffset,e.endContainer,e.endOffset),r=F(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?o<=0&&r>=0:o<0&&r>0}function kt(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+$(t.startContainer)+":"+t.startOffset+", "+$(t.endContainer)+":"+t.endOffset+")]"}function It(t){vt(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}var Dt={START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,NODE_BEFORE:0,NODE_AFTER:1,NODE_BEFORE_AND_AFTER:2,NODE_INSIDE:3};function Bt(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.prototype.compareBoundaryPoints=function(t,e){vt(this),ht(this.startContainer,e.startContainer);var n=3==t||0==t?"start":"end",o=1==t||0==t?"start":"end";return F(this[n+"Container"],this[n+"Offset"],e[o+"Container"],e[o+"Offset"])},e.prototype.insertNode=function(t){if(vt(this),dt(t,ot),pt(this.startContainer),x(t,this.startContainer))throw new _("HIERARCHY_REQUEST_ERR");var e=Tt(t,this.startContainer,this.startOffset);this.setStartBefore(e)},e.prototype.cloneContents=function(){var t,e;if(vt(this),this.collapsed)return Et(this).createDocumentFragment();if(this.startContainer===this.endContainer&&I(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=Et(this).createDocumentFragment()).appendChild(t),e;var n=new St(this,!0);return t=Nt(n),n.detach(),t},e.prototype.canSurroundContents=function(){vt(this),pt(this.startContainer),pt(this.endContainer);var t=new St(this,!0),e=t._first&&tt(t._first,this)||t._last&&tt(t._last,this);return t.detach(),!e},e.prototype.surroundContents=function(t){if(dt(t,rt),!this.canSurroundContents())throw new _("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);Tt(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},e.prototype.cloneRange=function(){vt(this);for(var t=new qt(Et(this)),e=0,n=wt;e<n.length;e++){var o=n[e];t[o]=this[o]}return t},e.prototype.toString=function(){vt(this);var t=this.startContainer;if(t===this.endContainer&&I(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new St(this,!0);return Rt(n,(function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)})),n.detach(),e.join("")},e.prototype.compareNode=function(t){vt(this);var e=t.parentNode,n=R(t);if(!e)throw new _("NOT_FOUND_ERR");var o=this.comparePoint(e,n),r=this.comparePoint(e,n+1);return o<0?r>0?2:0:r>0?1:3},e.prototype.comparePoint=function(t,e){return vt(this),mt(t,"HIERARCHY_REQUEST_ERR"),ht(t,this.startContainer),F(t,e,this.startContainer,this.startOffset)<0?-1:F(t,e,this.endContainer,this.endOffset)>0?1:0},e.prototype.createContextualFragment=function(t){var e=this.startContainer,n=P(e);if(!e)throw new _("INVALID_STATE_ERR");var o=null;return 1==e.nodeType?o=e:I(e)&&(o=N(e)),(o=null===o||"HTML"==o.nodeName&&S(P(o).documentElement)&&S(o)?n.createElement("body"):o.cloneNode(!1)).innerHTML=t,U(o)},e.prototype.toHtml=function(){return It(this)},e.prototype.intersectsNode=function(t,e){if(vt(this),q(t)!=q(this.startContainer))return!1;var n=t.parentNode,o=R(t);if(!n)return!0;var r=F(n,o,this.endContainer,this.endOffset),i=F(n,o+1,this.startContainer,this.startOffset);return e?r<=0&&i>=0:r<0&&i>0},e.prototype.isPointInRange=function(t,e){return vt(this),mt(t,"HIERARCHY_REQUEST_ERR"),ht(t,this.startContainer),F(t,e,this.startContainer,this.startOffset)>=0&&F(t,e,this.endContainer,this.endOffset)<=0},e.prototype.intersectsRange=function(t){return xt(this,t,!1)},e.prototype.intersectsOrTouchesRange=function(t){return xt(this,t,!0)},e.prototype.intersection=function(t){if(this.intersectsRange(t)){var e=F(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=F(this.endContainer,this.endOffset,t.endContainer,t.endOffset),o=this.cloneRange();return-1==e&&o.setStart(t.startContainer,t.startOffset),1==n&&o.setEnd(t.endContainer,t.endOffset),o}return null},e.prototype.union=function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==F(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==F(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new _("Ranges do not intersect")},e.prototype.containsNode=function(t,e){return e?this.intersectsNode(t,!1):3==this.compareNode(t)},e.prototype.containsNodeContents=function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,O(t))<=0},e.prototype.containsRange=function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},e.prototype.containsNodeText=function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var o=n.pop();return e.setEnd(o,o.length),this.containsRange(e)}return this.containsNodeContents(t)},e.prototype.getNodes=function(t,e){return vt(this),function(t,e,n){var o,r=!(!e||!e.length),i=!!n;r&&(o=new RegExp("^("+e.join("|")+")$"));var s=[];return Rt(new St(t,!1),(function(e){if((!r||o.test(e.nodeType.toString()))&&(!i||n(e))){var a=t.startContainer;if(e!=a||!I(a)||t.startOffset!=a.length){var c=t.endContainer;e==c&&I(c)&&0==t.endOffset||s.push(e)}}})),s}(this,t,e)},e.prototype.getDocument=function(){return Et(this)},e.prototype.collapseBefore=function(t){this.setEndBefore(t),this.collapse(!1)},e.prototype.collapseAfter=function(t){this.setStartAfter(t),this.collapse(!0)},e.prototype.getBookmark=function(t){var e=Et(this),n=Yt(e);t=t||v(e),n.selectNodeContents(t);var o=this.intersection(n),r=0,i=0;return o&&(n.setEnd(o.startContainer,o.startOffset),i=(r=n.toString().length)+o.toString().length),{start:r,end:i,containerNode:t}},e.prototype.moveToBookmark=function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var o,r,i,s,a=[e],c=!1,l=!1;!l&&(o=a.pop());)if(3==o.nodeType)r=n+o.length,!c&&t.start>=n&&t.start<=r&&(this.setStart(o,t.start-n),c=!0),c&&t.end>=n&&t.end<=r&&(this.setEnd(o,t.end-n),l=!0),n=r;else for(i=(s=o.childNodes).length;i--;)a.push(s[i])},e.prototype.getName=function(){return"DomRange"},e.prototype.equals=function(t){return Lt(this,t)},e.prototype.isValid=function(){return yt(this)},e.prototype.inspect=function(){return kt(this)},e.prototype.detach=function(){},e.prototype.select=function(t){Ee(this.getDocument()).setSingleRange(this,t)},e}(t)}function Lt(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}var Pt=new E("DomRange",["DomUtil"]);function Mt(t){return new Q(t.parentNode,R(t))}function jt(t){return new Q(t.parentNode,R(t)+1)}function Ht(t,e){vt(t);var n=t.startContainer,o=t.startOffset,r=t.endContainer,i=t.endOffset,s=n===r;I(r)&&i>0&&i<r.length&&L(r,i,e),I(n)&&o>0&&o<n.length&&(n=L(n,o,e),s?(i-=o,r=n):r==n.parentNode&&i>=R(n)&&i++,o=0),t.setStartAndEnd(n,o,r,i)}function Wt(t,e){return function(){vt(this);var n,o=this.startContainer,r=this.startOffset,i=this.commonAncestorContainer,s=new St(this,!0);o!==i&&(o=(n=jt(k(o,i,!0))).node,r=n.offset),Rt(s,pt),s.reset();var a=t(s);return s.detach(),e(this,o,r,o,r),a}}function zt(t,e){var n=Bt(t);Object.assign(n.prototype,Dt);var o=function(t,e){function n(t,e){return function(n){dt(n,et),dt(q(n),nt);var i=(t?Mt:jt)(n);(e?o:r)(this,i.node,i.offset)}}function o(t,n,o){var r=t.endContainer,i=t.endOffset;n===t.startContainer&&o===t.startOffset||(q(n)==q(r)&&1!=F(n,o,r,i)||(r=n,i=o),e(t,n,o,r,i))}function r(t,n,o){var r=t.startContainer,i=t.startOffset;n===t.endContainer&&o===t.endOffset||(q(n)==q(r)&&-1!=F(n,o,r,i)||(r=n,i=o),e(t,r,i,n,o))}return function(t){function i(){var o=null!==t&&t.apply(this,arguments)||this;return o.setStartBefore=n(!0,!0),o.setStartAfter=n(!1,!0),o.setEndBefore=n(!0,!1),o.setEndAfter=n(!1,!1),o.extractContents=Wt(At,e),o.deleteContents=Wt(Ot,e),o}return X(i,t),i.prototype.setStart=function(t,e){ut(t,!0),ft(t,e),o(this,t,e)},i.prototype.setEnd=function(t,e){ut(t,!0),ft(t,e),r(this,t,e)},i.prototype.setStartAndEnd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t[0],r=t[1],i=o,s=r;switch(t.length){case 3:s=t[2];break;case 4:i=t[2],s=t[3]}ut(o,!0),ft(o,r),ut(i,!0),ft(i,s),e(this,o,r,i,s)},i.prototype.setBoundary=function(t,e,n){this["set"+(n?"Start":"End")](t,e)},i.prototype.collapse=function(t){vt(this),t?e(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):e(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},i.prototype.selectNodeContents=function(t){ut(t,!0),e(this,t,0,t,O(t))},i.prototype.selectNode=function(t){ut(t,!1),dt(t,et);var n=Mt(t),o=jt(t);e(this,n.node,n.offset,o.node,o.offset)},i.prototype.splitBoundaries=function(){Ht(this)},i.prototype.splitBoundariesPreservingPositions=function(t){Ht(this,t)},i.prototype.normalizeBoundaries=function(){vt(this);var t,n=this.startContainer,o=this.startOffset,r=this.endContainer,i=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(r=t,i=t.length,t.appendData(e.data),Y(e))},a=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){n=t;var s=t.length;if(o=e.length,t.insertData(0,e.data),Y(e),n==r)i+=o,r=n;else if(r==t.parentNode){var a=R(t);i==a?(r=t,i=s):i>a&&i--}}},c=!0;if(I(r))i==r.length?s(r):0==i&&(t=r.previousSibling)&&t.nodeType==r.nodeType&&(i=t.length,n==r&&(c=!1),t.appendData(r.data),Y(r),r=t);else{if(i>0){var l=r.childNodes[i-1];l&&I(l)&&s(l)}c=!this.collapsed}if(c){if(I(n))0==o?a(n):o==n.length&&(t=n.nextSibling)&&t.nodeType==n.nodeType&&(r==t&&(r=n,i+=n.length),n.appendData(t.data),Y(t));else if(o<n.childNodes.length){var u=n.childNodes[o];u&&I(u)&&a(u)}}else n=r,o=i;e(this,n,o,r,i)},i.prototype.collapseToPoint=function(t,e){ut(t,!0),ft(t,e),this.setStartAndEnd(t,e)},i.prototype.parentElement=function(){return vt(this),lt(this.commonAncestorContainer,!0)},i}(t)}(n,e);return Object.assign(o,Dt)}var qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.inspect=kt,e.toHtml=It,e.getRangeDocument=Et,e.rangesEqual=Lt,e}(zt(Ct,_t));function Ft(t){return t=z(t,Pt,"createRangyRange"),new qt(t)}Object.assign(qt,{rangeProperties:wt,RangeIterator:St,copyComparisonConstants:function(t){Object.assign(t,Dt),Object.assign(t.prototype,Dt)},createPrototypeRange:zt});var $t=new E("WrappedRange",["DomRange"]);function Ut(t){for(var e=0,n=wt;e<n.length;e++){var o=n[e];t[o]=t.nativeRange[o]}t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}var Vt=function(t){function e(n){var o=t.call(this)||this;if(o.nativeRange=n,o.setStartBefore=e.createBeforeAfterNodeSetter("setStartBefore"),o.setStartAfter=e.createBeforeAfterNodeSetter("setStartAfter"),o.setEndBefore=e.createBeforeAfterNodeSetter("setEndBefore"),o.setEndAfter=e.createBeforeAfterNodeSetter("setEndAfter"),!n)throw $t.createError("WrappedRange: Range must be specified");return Ut(o),o}return X(e,t),e.prototype.selectNode=function(t){this.nativeRange.selectNode(t),Ut(this)},e.prototype.cloneContents=function(){return this.nativeRange.cloneContents()},e.prototype.surroundContents=function(t){this.nativeRange.surroundContents(t),Ut(this)},e.prototype.collapse=function(t){this.nativeRange.collapse(t),Ut(this)},e.prototype.cloneRange=function(){return new e(this.nativeRange.cloneRange())},e.prototype.refresh=function(){Ut(this)},e.prototype.toString=function(){return this.nativeRange.toString()},e.prototype.setStart=function(t,e){this.nativeRange.setStart(t,e),Ut(this)},e.prototype.setEnd=function(t,e){this.nativeRange.setEnd(t,e),Ut(this)},e.createBeforeAfterNodeSetter=function(t){return function(e){this.nativeRange[t](e),Ut(this)}},e.prototype.selectNodeContents=function(t){this.setStartAndEnd(t,0,O(t))},e.prototype.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},e.prototype.getName=function(){return"WrappedRange"},e}(zt(bt,(function(t,e,n,o,r){var i=t.startContainer!==e||t.startOffset!=n,s=t.endContainer!==o||t.endOffset!=r,a=!t.equals(t.nativeRange);(i||s||a)&&(t.setEnd(o,r),t.setStart(e,n))})));function Kt(t){return(t=z(t,$t,"createNativeRange")).createRange()}function Yt(t){return t=z(t,$t,"createRange"),new Vt(Kt(t))}function Gt(t){t||(t=window);var e=t.document;void 0===e.createRange&&(e.createRange=function(){return Yt(e)})}u((function(){var t=document.createTextNode("test");v(document).appendChild(t);var e=document.createRange(),n=document.createElement("div");n.innerHTML="123";var o=n.firstChild,r=v(document);r.appendChild(n),e.setStart(o,1),e.setEnd(o,2),e.deleteContents();var i=Vt.prototype;"13"==o.data&&(i.deleteContents=function(){this.nativeRange.deleteContents(),Ut(this)},i.extractContents=function(){var t=this.nativeRange.extractContents();return Ut(this),t}),r.removeChild(n),d(e,"createContextualFragment")&&(i.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),r.removeChild(t),r=null}));var Jt=new E("WrappedSelection",["DomRange","WrappedRange"]),Qt="boolean",Zt="number";function Xt(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function te(t,e){return t?W(t)?t:t instanceof _e?t.win:M(z(t,Jt,e)):window}function ee(t){return te(t,"getWinSelection").getSelection()}var ne=function(t){var e=!1;return t.anchorNode&&(e=1==F(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e};function oe(){return!0}var re=ee();re||Jt.fail("Native selection was null (possibly issue 138?)");var ie,se=Kt(document),ae=c.selectionHasAnchorAndFocus=y(re,["anchorNode","focusNode","anchorOffset","focusOffset"]),ce=c.selectionHasExtend=d(re,"extend"),le=c.selectionHasRangeCount=typeof re.rangeCount==Zt,ue=ce?function(t,e){var n=Yt(qt.getRangeDocument(e));n.collapseToPoint(e.endContainer,e.endOffset),t.addRange(pe(n)),t.extend(e.startContainer,e.startOffset)}:null,de=ae?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};function fe(t,e,n){var o=n?"end":"start",r=n?"start":"end";t.anchorNode=e[o+"Container"],t.anchorOffset=e[o+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function he(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function pe(t){var e;return t instanceof qt?((e=Kt(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof Vt?e=t.nativeRange:t instanceof Range&&(e=t),e}function me(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}d(re,"getRangeAt")?ie=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:ae&&(ie=function(t){var e=Yt(P(t.anchorNode));return e.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),e.collapsed!==this.isCollapsed&&e.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),e});var ge,ye=[];function ve(t,e){for(var n,o,r=ye.length;r--;)if(o=(n=ye[r]).selection,"deleteAll"==e)me(o);else if(n.win==t)return"delete"==e?(ye.splice(r,1),!0):o;return"deleteAll"==e&&(ye.length=0),null}function Ee(t){if(t&&t instanceof _e)return t.refresh(),t;var e=ve(t=te(t,"getNativeSelection")),n=ee(t);return e?(e.nativeSelection=n,e.refresh()):(e=new _e(n,t),ye.push({win:t,selection:e})),e}d(re,"getRangeAt")&&typeof re.rangeCount==Zt?ge=function(t){if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new Vt(t.nativeSelection.getRangeAt(e));fe(t,t._ranges[t.rangeCount-1],ne(t.nativeSelection)),t.isCollapsed=de(t)}else he(t)}:ae&&typeof re.isCollapsed==Qt&&typeof se.collapsed==Qt&&c.implementsDomRange?ge=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=ie(n,0),t._ranges=[e],t.rangeCount=1,function(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}(t),t.isCollapsed=de(t)):he(t)}:Jt.fail("No means of obtaining a Range or TextRange from the user's selection was found");var _e=function(t){var e;function n(t,e){ue(t.nativeSelection,e),t.refresh()}var o=le?function(t,e){if(Xt(e)&&ce)n(this,t);else{var o;c.selectionSupportsMultipleRanges?o=this.rangeCount:(this.removeAllRanges(),o=0);var r=pe(t).cloneRange();try{this.nativeSelection.addRange(r)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(l.checkSelectionRanges){var i=ie(this.nativeSelection,this.rangeCount-1);i&&!Lt(i,t)&&(t=new Vt(i))}this._ranges[this.rangeCount-1]=t,fe(this,t,ne(this.nativeSelection)),this.isCollapsed=de(this)}else this.refresh()}}:function(t,e){Xt(e)&&ce?n(this,t):(this.nativeSelection.addRange(pe(t)),this.refresh())};function r(t,e){if(t.win.document!=P(e))throw new _("WRONG_DOCUMENT_ERR")}function i(t){return function(e,n){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(t?"Start":"End")](e,n):(o=Yt(this.win.document)).setStartAndEnd(e,n),this.setSingleRange(o,this.isBackward())}}return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addRange=o,e.isBackwards=e.isBackward,e.setStart=i(!0),e.setEnd=i(!1),e}return X(e,t),e.prototype.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),he(this)},e.prototype.setRanges=function(t){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])},e.prototype.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new _("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},e.prototype.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,o=this.anchorOffset;if(ge(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=o)return!0;for(;r--;)if(!Lt(e[r],this._ranges[r]))return!0;return!1}},e.prototype.removeRange=function(t){!function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var o=0,r=n.length;o<r;++o)Lt(e,n[o])||t.addRange(n[o]);t.rangeCount||he(t)}(this,t)},e.prototype.isBackward=function(){return ne(this)},e.prototype.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},e.prototype.collapse=function(t,e){r(this,t);var n=Yt(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},e.prototype.collapseToStart=function(){if(!this.rangeCount)throw new _("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},e.prototype.collapseToEnd=function(){if(!this.rangeCount)throw new _("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},e.prototype.selectAllChildren=function(t){r(this,t);var e=Yt(t);e.selectNodeContents(t),this.setSingleRange(e)},e.prototype.deleteFromDocument=function(){if(this.rangeCount){var t=this.getAllRanges();if(t.length){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)t[e].deleteContents();this.addRange(t[n-1])}}},e.prototype.eachRange=function(t,e){for(var n=0,o=this._ranges.length;n<o;++n)if(t(this.getRangeAt(n)))return e},e.prototype.getAllRanges=function(){var t=[];return this.eachRange((function(e){t.push(e)})),t},e.prototype.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},e.prototype.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange((function(o){n.push(o[t].apply(o,e||[]))})),n},e.prototype.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange((function(n){t(n),e.push(n)})),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},e.prototype.containsNode=function(t,e){return this.eachRange((function(n){return n.containsNode(t,e)}),!0)||!1},e.prototype.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},e.prototype.moveToBookmark=function(t){for(var e,n,o=[],r=0;e=t.rangeBookmarks[r++];)(n=Yt(this.win)).moveToBookmark(e),o.push(n);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},e.prototype.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},e.prototype.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},e.prototype.toHtml=function(){var t=[];return this.eachRange((function(e){t.push(qt.toHtml(e))})),t.join("")},e.inspect=function(t){var e=[],n=new Q(t.anchorNode,t.anchorOffset),o=new Q(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var i=0,s=t.rangeCount;i<s;++i)e[i]=qt.inspect(t.getRangeAt(i));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+o.inspect()+"]"},e.prototype.getName=function(){return"WrappedSelection"},e.prototype.inspect=function(){return e.inspect(this)},e.prototype.detach=function(){ve(this.win,"delete"),me(this)},e.detachAll=function(){ve(null,"deleteAll")},e}(t),e.isDirectionBackward=Xt,e}((function(t,e){this.nativeSelection=t,this.win=e,this._ranges=[],3==arguments.length&&(this.win=arguments[2]),this.refresh()})),we=_e;function be(t){t||(t=window),void 0===t.getSelection&&(t.getSelection=function(){return Ee(t)})}function Ce(t){Gt(t=t||window),be(t)}},3033:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof window?window:null,e=null===t,n=e?void 0:t.document,o="addEventListener",r="removeEventListener",i="getBoundingClientRect",s="_a",a="_b",c="_c",l="horizontal",u=function(){return!1},d=e?"calc":["","-webkit-","-moz-","-o-"].filter((function(t){var e=n.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length})).shift()+"calc",f=function(t){return"string"==typeof t||t instanceof String},h=function(t){if(f(t)){var e=n.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},p=function(t,e,n){var o=t[e];return void 0!==o?o:n},m=function(t,e,n,o){if(e){if("end"===o)return 0;if("center"===o)return t/2}else if(n){if("start"===o)return 0;if("center"===o)return t/2}return t},g=function(t,e){var o=n.createElement("div");return o.className="gutter gutter-"+e,o},y=function(t,e,n){var o={};return f(e)?o[t]=e:o[t]=d+"("+e+"% - "+n+"px)",o},v=function(t,e){var n;return(n={})[t]=e+"px",n};return function(d,f){if(void 0===f&&(f={}),e)return{};var E,_,w,b,C,S,N=d;Array.from&&(N=Array.from(N));var R=h(N[0]).parentNode,O=getComputedStyle?getComputedStyle(R):null,A=O?O.flexDirection:null,T=p(f,"sizes")||N.map((function(){return 100/N.length})),x=p(f,"minSize",100),k=Array.isArray(x)?x:N.map((function(){return x})),I=p(f,"maxSize",1/0),D=Array.isArray(I)?I:N.map((function(){return I})),B=p(f,"expandToMin",!1),L=p(f,"gutterSize",10),P=p(f,"gutterAlign","center"),M=p(f,"snapOffset",30),j=p(f,"dragInterval",1),H=p(f,"direction",l),W=p(f,"cursor",H===l?"col-resize":"row-resize"),z=p(f,"gutter",g),q=p(f,"elementStyle",y),F=p(f,"gutterStyle",v);function $(t,e,n,o){var r=q(E,e,n,o);Object.keys(r).forEach((function(e){t.style[e]=r[e]}))}function U(t,e,n){var o=F(E,e,n);Object.keys(o).forEach((function(e){t.style[e]=o[e]}))}function V(){return S.map((function(t){return t.size}))}function K(t){return"touches"in t?t.touches[0][_]:t[_]}function Y(t){var e=S[this.a],n=S[this.b],o=e.size+n.size;e.size=t/this.size*o,n.size=o-t/this.size*o,$(e.element,e.size,this[a],e.i),$(n.element,n.size,this[c],n.i)}function G(t){var e,n=S[this.a],o=S[this.b];this.dragging&&(e=K(t)-this.start+(this[a]-this.dragOffset),j>1&&(e=Math.round(e/j)*j),e<=n.minSize+M+this[a]?e=n.minSize+this[a]:e>=this.size-(o.minSize+M+this[c])&&(e=this.size-(o.minSize+this[c])),e>=n.maxSize-M+this[a]?e=n.maxSize+this[a]:e<=this.size-(o.maxSize-M+this[c])&&(e=this.size-(o.maxSize+this[c])),Y.call(this,e),p(f,"onDrag",u)(V()))}function J(){var t=S[this.a].element,e=S[this.b].element,n=t[i](),o=e[i]();this.size=n[E]+o[E]+this[a]+this[c],this.start=n[w],this.end=n[b]}function Q(t){if(!getComputedStyle)return null;var e=getComputedStyle(t);if(!e)return null;var n=t[C];return 0===n?null:n-=H===l?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}function Z(t){var e=Q(R);if(null===e)return t;if(k.reduce((function(t,e){return t+e}),0)>e)return t;var n=0,o=[],r=t.map((function(r,i){var s=e*r/100,a=m(L,0===i,i===t.length-1,P),c=k[i]+a;return s<c?(n+=c-s,o.push(0),c):(o.push(s-c),s)}));return 0===n?t:r.map((function(t,r){var i=t;if(n>0&&o[r]-n>0){var s=Math.min(n,o[r]-n);n-=s,i=t-s}return i/e*100}))}function X(){var e=this,o=S[e.a].element,i=S[e.b].element;e.dragging&&p(f,"onDragEnd",u)(V()),e.dragging=!1,t[r]("mouseup",e.stop),t[r]("touchend",e.stop),t[r]("touchcancel",e.stop),t[r]("mousemove",e.move),t[r]("touchmove",e.move),e.stop=null,e.move=null,o[r]("selectstart",u),o[r]("dragstart",u),i[r]("selectstart",u),i[r]("dragstart",u),o.style.userSelect="",o.style.webkitUserSelect="",o.style.MozUserSelect="",o.style.pointerEvents="",i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",n.body.style.cursor=""}function tt(e){if(!("button"in e)||0===e.button){var r=this,i=S[r.a].element,s=S[r.b].element;r.dragging||p(f,"onDragStart",u)(V()),e.preventDefault(),r.dragging=!0,r.move=G.bind(r),r.stop=X.bind(r),t[o]("mouseup",r.stop),t[o]("touchend",r.stop),t[o]("touchcancel",r.stop),t[o]("mousemove",r.move),t[o]("touchmove",r.move),i[o]("selectstart",u),i[o]("dragstart",u),s[o]("selectstart",u),s[o]("dragstart",u),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",s.style.userSelect="none",s.style.webkitUserSelect="none",s.style.MozUserSelect="none",s.style.pointerEvents="none",r.gutter.style.cursor=W,r.parent.style.cursor=W,n.body.style.cursor=W,J.call(r),r.dragOffset=K(e)-r.end}}H===l?(E="width",_="clientX",w="left",b="right",C="clientWidth"):"vertical"===H&&(E="height",_="clientY",w="top",b="bottom",C="clientHeight"),T=Z(T);var et=[];function nt(t){var e=t.i===et.length,n=e?et[t.i-1]:et[t.i];J.call(n);var o=e?n.size-t.minSize-n[c]:t.minSize+n[a];Y.call(n,o)}function ot(t){var e=Z(t);e.forEach((function(t,n){if(n>0){var o=et[n-1],r=S[o.a],i=S[o.b];r.size=e[n-1],i.size=t,$(r.element,r.size,o[a],r.i),$(i.element,i.size,o[c],i.i)}}))}function rt(t,e){et.forEach((function(n){if(!0!==e?n.parent.removeChild(n.gutter):(n.gutter[r]("mousedown",n[s]),n.gutter[r]("touchstart",n[s])),!0!==t){var o=q(E,n.a.size,n[a]);Object.keys(o).forEach((function(t){S[n.a].element.style[t]="",S[n.b].element.style[t]=""}))}}))}return(S=N.map((function(t,e){var n,r={element:h(t),size:T[e],minSize:k[e],maxSize:D[e],i:e};if(e>0&&((n={a:e-1,b:e,dragging:!1,direction:H,parent:R})[a]=m(L,e-1==0,!1,P),n[c]=m(L,!1,e===N.length-1,P),"row-reverse"===A||"column-reverse"===A)){var i=n.a;n.a=n.b,n.b=i}if(e>0){var l=z(e,H,r.element);U(l,L,e),n[s]=tt.bind(n),l[o]("mousedown",n[s]),l[o]("touchstart",n[s]),R.insertBefore(l,r.element),n.gutter=l}return $(r.element,r.size,m(L,0===e,e===N.length-1,P),e),e>0&&et.push(n),r}))).forEach((function(t){var e=t.element[i]()[E];e<t.minSize&&(B?nt(t):t.minSize=e)})),{setSizes:ot,getSizes:V,collapse:function(t){nt(S[t])},destroy:rt,parent:R,pairs:et}}}()}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(5007),e=n(5410),o=n(813),r=n.n(o);class i{constructor(t,e,n,o,r,i,u,d){this.updated=!1,this.removeSpan=(t,e,n)=>{if(e.forEach((e=>{t.classList.remove(e)})),n.forEach((e=>{t.removeAttribute(e)})),0===t.classList.length){const e=t.parentElement;t.replaceWith(...Array.from(t.childNodes)),e.normalize()}},this.getOffset=(t,e)=>{let n=t.offsetTop,o=t.offsetLeft,r=t.offsetParent;for(;r!==e&&null!==r;)n+=r.offsetTop+2*Number(this.content_window.getComputedStyle(r).borderWidth.slice(0,-2)),o+=r.offsetLeft,r=r.offsetParent;return{offset_top:n,offset_left:o}},this.rgbTo16=t=>{var e;return"#"+(null===(e=t.match(/\d+/g))||void 0===e?void 0:e.map((t=>("0"+parseInt(t).toString(16)).slice(-2))).join(""))},this.hslToRgb=(t,e,n)=>{const o=Math.min(t,359)/60,r=(1-Math.abs(2*n-1))*e,i=r*(1-Math.abs(o%2-1)),s=n-.5*r;let a=s,c=s,l=s;return o<1?(a+=r,c=+i,l+=0):o<2?(a+=i,c+=r,l+=0):o<3?(a+=0,c+=r,l+=i):o<4?(a+=0,c+=i,l+=r):o<5?(a+=i,c+=0,l+=r):o<6?(a+=r,c+=0,l+=i):(a=0,c=0,l=0),"#"+`0${Math.floor(255*a).toString(16)}`.slice(-2)+`0${Math.floor(255*c).toString(16)}`.slice(-2)+`0${Math.floor(255*l).toString(16)}`.slice(-2)},this.getSelectorFromElement=t=>{const e=[];for(;t;){let n=t.nodeName.toLowerCase();if(t.id){n+="#"+t.id,e.unshift(n);break}n+=":nth-of-type("+this.getSiblingElementsIndex(t,n)+")",e.unshift(n),t=t.parentNode}return e},this.getSiblingElementsIndex=(t,e)=>{let n=1,o=t;for(;o=o.previousElementSibling;)o.nodeName.toLowerCase()===e&&++n;return n},this.tool_type=t,this.content_root=e,this.content_window=n,this.dark_mode=u,this.word=new s(this,r,d),this.cv=new a(this,o),this.comment=new l(this,i),this.decoration=new c(this)}}class s{constructor(t,e,n){this.option={},this.selected_color={},this.block_mode=!1,this.setOption=t=>{this.option=t,Object.keys(this.option).forEach((t=>{this.option[t]&&this.selected_color[t]&&(this.option[t].color=this.selected_color[t])}))},this.setColor=(t,e)=>{this.selected_color[t]=e,this.option[t]&&(this.option[t].color=e)},this.clear=t=>{Array.from(t.querySelectorAll("span.word_inversion")).forEach((t=>{if(Array.from(t.classList).forEach((e=>{-1!==e.indexOf("word_inversion")&&t.classList.remove(e)})),t.removeAttribute("data-markjs"),0===t.classList.length&&1===t.attributes.length){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t),e.normalize()}}));let e=this.sat.content_window.document.head.querySelector("style#SAT_word_inversion");null!==e&&e.remove(),"pdf_canvas"===this.sat.tool_type&&(e=document.head.querySelector("style#SAT_word_inversion"),null!==e&&e.remove())},this.getWordColors=t=>{const e=[],n=360/t,o=this.sat.dark_mode?.3:.7;for(let r=1;r<=t;r++)e.push(this.sat.hslToRgb((270+r*n)%360,1,o));return e},this.calcWordColor=t=>.299*parseInt(t.substr(1,2),16)+.587*parseInt(t.substr(3,2),16)+.114*parseInt(t.substr(5,2),16)>=140?"#111":"#eed",this.sat=t,this.selected_color=e,this.block_mode=n}invert(t){this.clear(t);const e=new(r())(t),n={element:"span",accuracy:"partially",separateWordSearch:!1,acrossElements:!0,ignoreJoiners:!0,ignorePunctuation:":;.,-–—‒_(){}[]!'\"+=".split(""),each:t=>{t.classList.add("word_inversion")},className:""};"web"===this.sat.tool_type&&(n.accuracy="complementary");const o=document.createElement("style");o.type="text/css",o.id="SAT_word_inversion";const i=document.createElement("style");i.type="text/css",i.id="SAT_word_inversion",this.sat.content_window.document.head.prepend(o),"pdf_canvas"===this.sat.tool_type&&document.head.prepend(i);for(const t in this.option){n.className=`word_inversion_class${Number(t)}`;const r=this.option[t].color;o.sheet.insertRule(`span.word_inversion_class${t} {background-color: ${r} !important; color: ${"pdf_canvas"===this.sat.tool_type?r:this.calcWordColor(r)}}`,0),"pdf_canvas"===this.sat.tool_type&&i.sheet.insertRule(`span.word_inversion_class${t} {background-color: ${r} ! important; color: ${this.calcWordColor(r)}}`,0),this.option[t].words.forEach((t=>{if(/^\/.*\/[dgimsuy]*$/.test(t)){let o,r="";t.match(/([dgimsuy]+)$/)&&(r=t.match(/([dgimsuy]+)$/)[0],t=t.slice(0,-r.length)),o=this.block_mode?new RegExp(`[ア-ンー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*${t.slice(1,-1)}[ア-ンー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*`,r):new RegExp(t.slice(1,-1),r),e.markRegExp(o,n)}else if(this.block_mode){const o=new RegExp(`[ア-ンー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*${t}[ア-ンー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*`,"i");e.markRegExp(o,n)}else e.mark(t,n)}))}}}class a{constructor(t,e){this.word_rect=[],this.comment_circle=[],this.highlight_circle=[],this.updateData=()=>{this.word_rect=[];const t={};Array.from(new Set(Object.keys(this.sat.word.option).map((t=>this.sat.word.option[t].color)))).filter((t=>""!==t)).forEach(((e,n)=>{t[e]=n}));const e=Object.keys(t).length,n=this.sat.content_root.parentElement.scrollHeight;Array.from(this.sat.content_root.querySelectorAll("span.word_inversion")).forEach((o=>{const r=this.sat.rgbTo16(window.getComputedStyle(o).backgroundColor),i="web"===this.sat.tool_type||"pdf_canvas"===this.sat.tool_type?0:35,s=i+(this.element.width-i)*(t[r]/e),a=this.sat.getOffset(o,this.sat.content_root.offsetParent),c=this.element.height*(a.offset_top/n),l=3*Math.max(o.offsetHeight/this.element.height,2);this.word_rect.push([r,Math.round(s)-.5,Math.round(c-l/2)-.5,Math.round((this.element.width-i)/e)+0,5,Math.round(l/2)])})),this.comment_circle=[];const o=Array.from(this.sat.content_root.querySelectorAll("span.commented")).map((t=>{const e=this.sat.getOffset(t,this.sat.content_root.offsetParent);return t.setAttribute("offset_top",e.offset_top.toString()),t.setAttribute("offset_left",e.offset_left.toString()),t})).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=[...t[e.getAttribute("comment_id")]||[],e],t)),{});Object.keys(o).map((t=>o[t].sort(((t,e)=>t.getAttribute("offset_top")!==e.getAttribute("offset_top")?t.getAttribute("offset_top")<e.getAttribute("offset_top")?-1:1:t.getAttribute("offset_left")<e.getAttribute("offset_left")?-1:1)))).sort(((t,e)=>t[0].getAttribute("offset_top")!==e[0].getAttribute("offset_top")?t[0].getAttribute("offset_top")<e[0].getAttribute("offset_top")?-1:1:t[0].getAttribute("offset_left")<e[0].getAttribute("offset_left")?-1:1)).forEach((t=>{this.comment_circle.push({y:this.element.height*(this.sat.getOffset(t[0],this.sat.content_root.offsetParent).offset_top/n),color:t[0].style.backgroundColor})})),this.highlight_circle=[],Array.from(document.querySelectorAll("span.highlighted")).forEach((t=>{this.highlight_circle.push({y:this.element.height*(this.sat.getOffset(t,this.sat.content_root.offsetParent).offset_top/n),color:t.style.backgroundColor})}))},this.draw=()=>{const t=this.element.getContext("2d");let e;t.clearRect(0,0,this.element.width,this.element.height),"web"===this.sat.tool_type||"pdf_canvas"===this.sat.tool_type?(t.fillStyle="black",t.fillRect(0,0,200,window.innerHeight)):(t.fillStyle="#333333",t.fillRect(0,0,30,window.innerHeight)),this.word_rect.forEach((e=>{t.fillStyle=e[0],t.fillRect(e[1],e[2],e[3],e[4])})),this.comment_circle.forEach((e=>{t.fillStyle=e.color,t.beginPath(),t.arc(10,e.y,5,0,2*Math.PI,!1),t.fill()})),this.highlight_circle.forEach((e=>{t.fillStyle=e.color,t.beginPath(),t.arc(25,e.y,5,0,2*Math.PI,!1),t.fill(),t.fillStyle="#333333",t.beginPath(),t.arc(25,e.y,2,0,2*Math.PI,!1),t.fill()})),t.strokeStyle="white",t.lineWidth=5,e="pdf_canvas"===this.sat.tool_type?this.sat.content_root.parentElement:"web"===this.sat.tool_type?document.scrollingElement:document.getElementById("main");const n=e.scrollTop,o=e.scrollHeight,r=document.querySelector("div.top")?document.querySelector("div.top").offsetHeight:0;t.strokeRect(2.5,n*(this.element.height/o),this.element.width-2.5,(window.innerHeight-r)*(this.element.height/o))},this.sat=t,this.element=e}}class c{constructor(n){this.add=t=>{(0,e.createClassApplier)(t,{elementTagName:"span",normalize:!0}).toggleSelection(this.sat.content_window)},this.highlight=n=>{(0,e.createClassApplier)("highlighted_tmp",{elementTagName:"span",normalize:!1}).toggleSelection(this.sat.content_window);const o=(0,t.getSelection)(this.sat.content_window);o.getRangeAt(0).getNodes([],(t=>t instanceof HTMLSpanElement&&t.classList.contains("highlighted_tmp"))).forEach((t=>{t.style.backgroundColor=n,t.style.borderBottomColor=n,t.classList.remove("highlighted_tmp"),t.classList.add("highlighted")}));let r=o.getRangeAt(0).commonAncestorContainer.parentElement.closest("span.commented");r&&(r.style.backgroundColor=n,r.classList.remove("highlighted_tmp"),r.classList.add("highlighted")),this.sat.cv.updateData(),this.sat.cv.draw()},this.dehighlight=()=>{const e=(0,t.getSelection)(this.sat.content_window);e.rangeCount&&(e.getRangeAt(0).getNodes([1]).forEach((t=>{t instanceof HTMLSpanElement&&(t.classList.length>0?Array.from(t.classList).forEach((e=>{"highlighted"===e&&(t.style.backgroundColor="",t.style.borderBottomColor="",this.sat.removeSpan(t,[e],[]))})):t.style.backgroundColor="")})),[(0,t.getSelection)(this.sat.content_window).getRangeAt(0).startContainer,(0,t.getSelection)(this.sat.content_window).getRangeAt(0).endContainer].forEach((t=>{for(;t&&t!==this.sat.content_root;){const e=t.parentElement;t instanceof HTMLSpanElement&&(t.classList.length>0?Array.from(t.classList).forEach((e=>{"highlighted"===e&&(t.style.backgroundColor="",t.style.borderBottomColor="",this.sat.removeSpan(t,[e],[]))})):t.style.backgroundColor=""),t=e}}))),this.sat.cv.updateData(),this.sat.cv.draw()},this.sat=n}}class l{constructor(t,n){this.comment_index=0,this.span_info={},this.box_info={},this.box_sorted_info=[],this.addComment=()=>{const t=this.addSpan();this.addBox(t),this.sort(),this.arrange();const e=window.document.createRange(),n=window.document.querySelector(`div.comment[comment_id="${t}"] > p`);e.setStart(n,0),e.setEnd(n,0),window.focus(),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),this.sat.cv.updateData(),this.sat.cv.draw()},this.remove=t=>{var e;this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`).forEach(((t,e)=>{this.sat.removeSpan(t,["commented","span_onmouse"],["comment_id"])})),null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.remove(),Array.from(document.getElementById("comment_svg").querySelectorAll(`polygon[comment_id="${t}"]`)).forEach((t=>{t.remove()})),delete this.span_info[t],delete this.box_info[t]},this.addSpan=()=>{(0,e.createClassApplier)("commented",{elementTagName:"span",normalize:!0}).toggleSelection(this.sat.content_window);const t={},n=[];for(Array.from(this.sat.content_root.querySelectorAll("span.commented")).forEach((e=>{null!==e.getAttribute("comment_id")?t[e.getAttribute("comment_id")]="commented":n.push(e)}));t[this.comment_index];)this.comment_index++;const o=this.comment_index;return this.comment_index++,n.forEach((t=>{t.setAttribute("comment_id",o.toString()),t.style.backgroundColor=this.background_color,t.style.borderColor=this.background_color;const e=this.sat.getOffset(t,this.sat.content_root.offsetParent);t.setAttribute("offset_top",e.offset_top.toString()),t.setAttribute("offset_left",e.offset_left.toString())})),n.forEach((t=>{t.addEventListener("mouseover",(e=>{this.onMouseOver(t.getAttribute("comment_id"))}))})),n.forEach((t=>{t.addEventListener("mouseout",(e=>{e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`span.commented[comment_id="${t.getAttribute("comment_id")}"]`)||this.onMouseOut(t.getAttribute("comment_id"))}))})),o.toString()},this.addBox=t=>{var e;const n=document.createElement("p");"pdf_canvas"===this.sat.tool_type&&(this.box_info[t]?n.innerText=this.box_info[t].content:this.box_info[t]={content:"",page_number:null===(e=this.span_info[t])||void 0===e?void 0:e.map((t=>Number(t.page_number))).reduce(((t,e)=>Math.min(t,e)))});const o=document.createElement("div");o.classList.add("comment"),o.contentEditable="true",o.id=t,o.setAttribute("comment_id",t),o.style.backgroundColor=this.background_color,o.style.borderColor=this.background_color,o.appendChild(n),document.getElementById("comment_div").appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","polygon");r.setAttribute("comment_id",t),r.style.fill=this.background_color,r.style.stroke=this.background_color,document.getElementById("comment_svg").querySelector("svg").appendChild(r),o.addEventListener("mouseover",(t=>{this.onMouseOver(o.getAttribute("comment_id"))})),o.addEventListener("mouseout",(t=>{t.relatedTarget instanceof HTMLElement&&null!==t.relatedTarget.parentElement&&null!==t.relatedTarget.parentElement.closest(`div.comment[comment_id="${o.getAttribute("comment_id")}"]`)||this.onMouseOut(o.getAttribute("comment_id"))})),o.addEventListener("input",this.onInput),r.addEventListener("click",(t=>{this.onPolygonClick(o.getAttribute("comment_id"))}))},this.onMouseOver=t=>{var e;null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.classList.add("div_onmouse"),Array.from(this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`)).forEach((t=>{t.classList.add("span_onmouse")}))},this.onMouseOut=t=>{var e;null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.classList.remove("div_onmouse"),Array.from(this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`)).forEach((t=>{t.classList.remove("span_onmouse")}))},this.onInput=()=>{this.sat.updated=!0},this.onPolygonClick=t=>{const e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`),n=document.getElementById("color_picker"),o=document.getElementById("color_picker_comment");o.setAttribute("color_id","comment_color"),o.style.display="block";const r=this.sat.getOffset(e,this.sat.content_root);o.style.top=`${Math.max(r.offset_top-o.offsetHeight/2+10,40)}px`;const i=document.getElementById("zumen");o.style.left=i?r.offset_left-o.offsetWidth-i.offsetWidth-15+"px":r.offset_left-o.offsetWidth-15+"px",n.setAttribute("mode","comment"),n.setAttribute("comment_id",t),n.setAttribute("comment_color",e.style.backgroundColor)},this.sort=()=>{const t=Array.from(this.sat.content_root.querySelectorAll("span.commented")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=[...t[e.getAttribute("comment_id")]||[],e],t)),{}),e=Object.keys(t).map((e=>t[e].sort(((t,e)=>Number(t.getAttribute("offset_top"))!==Number(e.getAttribute("offset_top"))?Number(t.getAttribute("offset_top"))<Number(e.getAttribute("offset_top"))?-1:1:Number(t.getAttribute("offset_left"))<Number(e.getAttribute("offset_left"))?-1:1)))).sort(((t,e)=>Number(t[0].getAttribute("offset_top"))!==Number(e[0].getAttribute("offset_top"))?Number(t[0].getAttribute("offset_top"))<Number(e[0].getAttribute("offset_top"))?-1:1:Number(t[0].getAttribute("offset_left"))<Number(e[0].getAttribute("offset_left"))?-1:1)),n=Array.from(document.getElementById("comment_div").querySelectorAll("div.comment")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=e,t)),{}),o=Array.from(document.getElementById("comment_svg").querySelectorAll("polygon")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=e,t)),{});this.box_sorted_info=e.map((t=>({comment_id:t[0].getAttribute("comment_id"),first_span:t[0],div:n[t[0].getAttribute("comment_id")],polygon:o[t[0].getAttribute("comment_id")]})))},this.arrange=t=>{for(let t=0;t<this.box_sorted_info.length;t++){let e=0;t>0&&(e=this.box_sorted_info[t-1].div.offsetTop+this.box_sorted_info[t-1].div.offsetHeight),this.box_sorted_info[t].div.style.top=`${Math.max(e+10,parseInt(this.box_sorted_info[t].first_span.getAttribute("offset_top")))}px`,this.box_sorted_info[t].polygon.setAttribute("points",`0 ${Number(this.box_sorted_info[t].first_span.getAttribute("offset_top"))+8}, 15 ${this.box_sorted_info[t].div.offsetTop+5}, 15 ${this.box_sorted_info[t].div.offsetTop+30}`)}},this.sat=t,this.background_color=n}}var u=n(3033),d=n.n(u),f=n(3031),h=n.n(f),p=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};let m,g=!1;function y(){return p(this,void 0,void 0,(function*(){m.content_root.normalize(),Array.from(document.querySelectorAll("img")).forEach((t=>{"data:image/"!==t.src.substr(0,11)&&(t.src=function(t){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.naturalWidth,e.height=t.naturalHeight,n.drawImage(t,0,0),e.toDataURL("image/png")}(t))}));const t=document.querySelector("html").cloneNode(!0);Array.from(t.querySelectorAll(".gutter")).forEach((t=>{t.remove()})),t.querySelector("#spinner").classList.remove("visible"),Array.from(t.querySelectorAll("script")).forEach((t=>{/log[^/]*\.js/.test(t.src)&&t.remove()})),t.querySelector("#doc_title").setAttribute("value",t.querySelector("#doc_title").value),t.querySelector("#dark_mode").checked&&t.querySelector("#dark_mode").setAttribute("checked",""),t.querySelector("#block_mode").checked&&t.querySelector("#block_mode").setAttribute("checked",""),t.querySelector("#word_query").innerHTML=t.querySelector("#word_query").innerHTML,t.querySelector("#selected_color").innerHTML=JSON.stringify(m.word.selected_color);let e=Array.from(t.querySelectorAll("link")).filter((t=>"stylesheet"===t.rel)).map((e=>()=>new Promise(((n,o)=>{fetch(e.href).then((t=>t.text())).then((o=>{e.remove();const r=document.createElement("style");r.innerHTML=o,t.querySelector("head").appendChild(r),n(null)}))}))));yield v(e),e=Array.from(t.querySelectorAll("script")).filter((t=>void 0!==t.src&&""!==t.src)).map((t=>()=>new Promise(((e,n)=>{-1===t.src.indexOf("js-tazumen")?fetch(t.src).then((t=>t.text())).then((n=>{t.removeAttribute("src"),t.innerHTML=n,e(null)})):e(null)})))),yield v(e);const n=t.innerHTML,o=document.doctype.name,r=document.doctype.publicId,i=document.doctype.systemId,s="<!DOCTYPE "+o+(r?' PUBLIC "'+r+'"':"")+(i?' "'+i+'"':"")+">";let a="<html";const c=t.attributes;for(let t=0,e=c.length;t<e;t++){const e=c[t];a+=" "+e.nodeName+(e.nodeValue?'="'+e.nodeValue+'"':"")}a+=">";const l=new Blob([s,"\n",a,"\n",n,"\n</html>"]),u=(window.URL||window.webkitURL).createObjectURL(l),d=document.createElement("a");d.download=`${document.title}.html`,d.href=u,document.body.appendChild(d),d.click(),document.body.removeChild(d),m.updated=!1}))}function v(t){let e=Promise.resolve();return t.forEach((t=>{e=e.then(t)})),e}function E(t){const e=m.content_window.getSelection();e&&m.content_root.contains(e.anchorNode)&&m.content_root.contains(e.focusNode)&&(m.decoration.add(t),m.updated=!0)}function _(){const t=document.getElementById("btn_highlight").getAttribute("highlightColor"),e=m.content_window.getSelection();e&&m.content_root.contains(e.anchorNode)&&m.content_root.contains(e.focusNode)&&(m.decoration.highlight(t),m.updated=!0)}function w(){m.decoration.dehighlight()}function b(){const e=m.content_window.getSelection();if(!e)return;if(!m.content_root.contains(e.anchorNode)||!m.content_root.contains(e.focusNode))return;const n=(0,t.getSelection)(m.content_window);if(n.rangeCount){if(n.getRangeAt(0).getNodes([],(t=>t instanceof Element&&t.classList.contains("commented"))).length>0)return void alert("同じ領域に複数のコメントをつけることはできません。");if(null!==n.getRangeAt(0).commonAncestorContainer.parentElement.closest("span.commented"))return void alert("同じ領域に複数のコメントをつけることはできません。")}m.comment.addComment(),m.updated=!0}function C(){const t=document.getElementById("word_query").innerText.trim().replace(/[\r\n]+/g," ");if(""===t||/^\s+$/.test(t))return{};const e=t.split(/\s+/).map((t=>{const e=t.match(/(^\/|[^\\]\/|\/$)/g);return e&&e.length>0&&e.length%2==0?S(t,[]):t.split(/[+＋]/g)})),n=m.word.getWordColors(e.length),o={};return e.forEach(((t,e)=>{t.forEach((t=>{o[e]||(o[e]={words:[],color:""}),"/"!==t.substr(0,1)?o[e].words.push(t.replace(/_/g," ")):o[e].words.push(t),o[e].color=n[e]}))})),o}function S(t,e){if("/"!==t.substr(0,1)){const n=t.indexOf("+");return-1===n?(e.push(t),e):(e.push(t.substring(0,n)),S(t.substring(n+1),e))}{const n=t.match(/[^\\]\/[dgimsuy]*/);return n?(e.push(t.substring(0,n.index+n[0].length)),t.length===n.index+n[0].length?e:S(t.substring(n.index+n[0].length+1),e)):e}}function N(){const t=document.getElementById("word_query");t.innerHTML="",Object.keys(m.word.option).forEach((e=>{m.word.option[e].words.forEach(((n,o)=>{const r=document.createElement("span");r.innerText=n.replace(/ /g,"_"),r.setAttribute("mode","word_inversion"),r.setAttribute("color_id",e),r.classList.add("query_unit"),r.classList.add(`word_inversion_class${e}`),r.onclick=t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("color_id",t.target.getAttribute("color_id")),e.style.display="block",e.style.left=m.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",e.setAttribute("mode","word_inversion"),t.preventDefault(),t.stopPropagation()},t.appendChild(r),o!==m.word.option[e].words.length-1&&t.appendChild(document.createTextNode("+"))})),t.appendChild(document.createTextNode(" "))}))}function R(t){document.getElementById("doc_title").value=t.page_title,document.title=t.page_title,document.getElementById("content").innerHTML=t.text_content;const e=document.getElementById("zumen"),n={},o=document.getElementById("content").innerText.match(/【図[^】]+】[^【]+/g);o&&o.forEach((t=>{const e=t.match(/【(図[^】]+)】([^【]+)/);3===(null==e?void 0:e.length)&&(n[k(e[1])]=e[2])})),t.zumen_arr.forEach((t=>{const o=document.createElement("div"),r=document.createElement("h3");if(r.innerHTML=t.title,o.appendChild(r),n[t.title]){const e=document.createElement("div");e.innerText=n[t.title],e.classList.add("cap"),o.appendChild(e)}const i=document.createElement("img");i.src=t.data_url,document.getElementById("dark_mode").checked&&i.classList.add("dark"),o.appendChild(i);const s=document.createElement("div");s.setAttribute("contenteditable","true"),s.setAttribute("placeholder","メモを入力..."),s.classList.add("memo"),o.appendChild(s);const a=document.createElement("hr");o.appendChild(a),e.appendChild(o)})),O(),document.getElementById("word_query").innerText=t.word_arr.map((t=>t.join("+"))).join(" "),m.word.setOption(C()),m.word.invert(m.content_root),N(),m.cv.updateData(),m.cv.draw(),document.getElementById("spinner").classList.remove("visible"),m.updated=!1}function O(){Array.from(document.getElementById("zumen").querySelectorAll("img")).forEach((t=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement)if(g){const e=window.open("","","width=500,height=500,scrollbars=yes,resizable=yes,status=yes");let n=document.title;t.target.parentElement.querySelector("h3")&&(n=`図${t.target.parentElement.querySelector("h3").innerText.substr(1)} - ${n}`),e.document.title=n;const o=document.createElement("h3");o.innerText=n,o.style.textAlign="center",o.style.height="20px",e.document.body.append(o);const r=document.createElement("div");r.style.width="90%",r.style.height="90%",r.style.textAlign="center";const i=t.target.cloneNode();if(i.style.objectFit="contain",i.style.width="90%",i.style.height="90%",document.body.classList.contains("dark")&&(e.document.body.style.color="#ddd",e.document.body.style.backgroundColor="#333",i.style.filter="invert(100%)"),r.appendChild(i),e.document.body.append(r),t.target.parentElement.querySelector("div.cap")){const n=document.createElement("div");n.innerText=t.target.parentElement.querySelector("div.cap").innerText,n.style.textAlign="center",e.document.body.append(n)}g=!1}else g=!0,setTimeout((()=>(t=>{g&&t.target instanceof HTMLImageElement&&(t.target.src=function(t){const e=document.createElement("canvas"),n=e.getContext("2d"),o=new Image;return o.src=t,e.height=o.width,e.width=o.height,n.rotate(90*Math.PI/180),n.translate(0,-e.width),n.drawImage(o,0,0),e.toDataURL("image/jpeg",100)}(t.target.src)),g=!1})(t)),300)}))})),Array.from(document.getElementById("content").querySelectorAll("a")).forEach((t=>{t.addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=k(t.target.innerText);Array.from(document.getElementById("zumen").querySelectorAll("h3")).some((t=>t.innerText===e&&(t.scrollIntoView(),!0)))}))}))}function A(){const t=document.getElementById("zumen");null!==t&&("none"===window.getComputedStyle(t).display?t.style.display="inline":t.style.display="none",m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange())}function T(t){const e=m.content_window.document.getElementById("viewer").querySelector(`div.page[data-page-number="${t}"]`);m.word.invert(e),m.cv.updateData(),m.cv.draw()}function x(t,e,n){document.getElementById("loading_message").innerHTML=t;const o=document.getElementById("spinner");o.classList.add("visible"),new Promise(((t,o)=>{setTimeout((()=>{n(),t(null)}),e)})).then((()=>{o.classList.remove("visible")}))}function k(t){return t.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(t=>String.fromCharCode(t.charCodeAt(0)-65248)))}window.addEventListener("load",(()=>p(void 0,void 0,void 0,(function*(){const t=document.getElementById("tool_type").innerText;let e,n;"pdf_canvas"===t?(window.decoratePage=T,yield new Promise(((t,e)=>{const n=setInterval((()=>{document.querySelector("iframe").contentWindow.document.body&&""!==document.querySelector("iframe").contentWindow.document.body.innerHTML&&(clearInterval(n),t(null))}),500)})).then((()=>{n=document.querySelector("iframe").contentWindow,e=n.document.getElementById("viewer")}))):(n=window,e=document.getElementById("content"));const o=window.getComputedStyle(document.getElementById("spectrum")),r=document.getElementById("spectrum_bar");r.width=Number(o.width.replace("px","")),r.height=Number(o.height.replace("px",""));const s=document.getElementById("selected_color").innerHTML,a=s?JSON.parse(s):{};m=new i(t,e,n,r,a,document.getElementById("comment_color").innerText,document.getElementById("dark_mode").checked,document.getElementById("block_mode").checked),function(){p(this,void 0,void 0,(function*(){document.addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");"none"===e.style.display||e.contains(t.target)||(e.style.display="none");const n=document.getElementById("color_picker_comment");"none"===n.style.display||n.contains(t.target)||(n.style.display="none");const o=document.getElementById("help");"none"===o.style.display||o.contains(t.target)||(o.style.display="none")})),Array.from(document.querySelectorAll("div.comment")).forEach((t=>{t.addEventListener("mouseover",(e=>{m.comment.onMouseOver(t.getAttribute("comment_id"))})),t.addEventListener("mouseout",(e=>{e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`div.comment[comment_id="${t.getAttribute("comment_id")}"]`)||m.comment.onMouseOut(t.getAttribute("comment_id"))}))})),Array.from(document.getElementById("comment_svg").querySelectorAll("polygon")).forEach((t=>{t.addEventListener("click",(t=>{t.target instanceof SVGPolygonElement&&m.comment.onPolygonClick(t.target.getAttribute("comment_id"))}))})),Array.from(m.content_root.querySelectorAll("span.commented")).forEach((t=>{t.addEventListener("mouseover",(e=>{m.comment.onMouseOver(t.getAttribute("comment_id"))})),t.addEventListener("mouseout",(e=>{e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`span.commented[comment_id="${t.getAttribute("comment_id")}"]`)||m.comment.onMouseOut(t.getAttribute("comment_id"))}))})),"pdf_canvas"===m.tool_type?m.content_root.parentElement.addEventListener("scroll",(t=>{m.cv.draw();const e=document.getElementById("comment_container");e.scrollTo(0,t.target.scrollTop*(e.scrollHeight/t.target.scrollHeight))})):document.getElementById("main").addEventListener("scroll",(t=>{m.cv.draw()})),window.addEventListener("resize",(t=>{setTimeout((()=>{const t=window.getComputedStyle(document.getElementById("spectrum")),e=document.getElementById("spectrum_bar");e.width=Number(t.width.replace("px","")),e.height=Number(t.height.replace("px","")),m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange()}),0)})),m.cv.element.onclick=t=>{"pdf_canvas"===m.tool_type?m.content_root.parentElement.scrollTo(0,t.layerY*(m.content_root.parentElement.scrollHeight/m.cv.element.height)-m.cv.element.height/2):document.getElementById("main").scrollTo(0,t.layerY*(document.getElementById("main").scrollHeight/m.cv.element.height)-m.cv.element.height/2)},m.cv.element.onmousedown=t=>{m.cv.element.onmousemove=t=>{"pdf_canvas"===m.tool_type?(m.content_root.parentElement.scrollTo(0,t.layerY*(m.content_root.parentElement.scrollHeight/m.cv.element.height)-m.cv.element.height/2),document.getElementById("comment_container").scrollTo(0,t.layerY*(document.getElementById("comment_container").scrollHeight/m.cv.element.height)-m.cv.element.height/2)):document.getElementById("main").scrollTo(0,t.layerY*(document.getElementById("main").scrollHeight/m.cv.element.height)-m.cv.element.height/2)},m.cv.element.onmouseup=()=>{m.cv.element.onmousemove=null,m.cv.element.onmouseup=null}},m.cv.element.onmouseover=()=>{m.cv.element.onmousemove=null},window.addEventListener("beforeunload",(t=>{m.updated&&(t.returnValue="編集内容が保存されていませんが、ページを離れてもよろしいですか？")})),document.getElementById("doc_title").addEventListener("input",(t=>{t.target instanceof HTMLInputElement&&(""!==t.target.value?document.title=t.target.value:"free_text"===m.tool_type?document.title="SAT（フリーテキスト版）":"pdf_canvas"===m.tool_type||"pdf_svg"===m.tool_type?document.title="SAT（PDF版）":document.title="SAT (Spectrum Annotation Tool)")})),document.getElementById("block_mode").addEventListener("change",(t=>{x("ワード反転中...",10,(()=>{t.target instanceof HTMLInputElement&&t.target.checked?(m.word.block_mode=!0,m.word.invert(m.content_root),m.cv.updateData(),m.cv.draw()):(m.word.block_mode=!1,m.word.invert(m.content_root),m.cv.updateData(),m.cv.draw())}))})),document.getElementById("btn_bold").addEventListener("click",(()=>{E("bold")})),document.getElementById("btn_underline").addEventListener("click",(()=>{E("underline")})),document.getElementById("btn_highlight").addEventListener("click",(()=>{var t;_(),null===(t=m.content_window.getSelection())||void 0===t||t.removeAllRanges()})),document.getElementById("btn_select_highlight_color").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("mode","highlight"),e.style.display="block",e.style.left=m.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation()})),document.getElementById("btn_select_comment_color").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("mode","comment"),e.style.display="block",e.style.left=m.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation()})),document.getElementById("btn_erase").addEventListener("click",(t=>{var e;w(),null===(e=m.content_window.getSelection())||void 0===e||e.removeAllRanges()})),document.getElementById("btn_comment").addEventListener("click",(()=>{b()})),document.getElementById("btn_download").addEventListener("click",(()=>{x("ダウンロードファイル生成中...",150,y)})),document.getElementById("btn_figureOn").addEventListener("click",(()=>{A(),document.getElementById("li_figureOn").classList.add("hidden"),document.getElementById("li_figureOff").classList.remove("hidden")})),document.getElementById("btn_figureOff").addEventListener("click",(()=>{A(),document.getElementById("li_figureOff").classList.add("hidden"),document.getElementById("li_figureOn").classList.remove("hidden")})),document.getElementById("btn_editUnlock").addEventListener("click",(()=>{document.getElementById("content").contentEditable="true",document.getElementById("li_editUnlock").classList.add("hidden"),document.getElementById("li_editLock").classList.remove("hidden")})),document.getElementById("btn_editLock").addEventListener("click",(()=>{document.getElementById("content").contentEditable="false",document.getElementById("li_editLock").classList.add("hidden"),document.getElementById("li_editUnlock").classList.remove("hidden")})),document.getElementById("word_query").addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),x("ワード反転中...",0,(()=>{m.word.setOption(C()),m.word.invert(m.content_root),N(),m.cv.updateData(),m.cv.draw(),document.getElementById("word_query").blur(),m.updated=!0})))})),document.getElementById("btn_word_inversion_help").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("help");"block"===e.style.display?e.style.display="none":(e.style.display="block",e.innerHTML='\n            <h3>ワード反転方法</h3>\n            <p> （入力例）<img src="./img/word_inversion_example.png" style="vertical-align: middle";/></p>\n            <ul>\n              <li>\n                反転したいワードを、スペースで区切って入力した後、Enterキーを押してください。\n              </li>\n              <li>＋で繋いだワードは同じ色に反転されます。</li>\n              <li>\n                _（アンダーバー）は、色反転時に半角スペースとして変換されます。英語の複数語をまとめて色反転したい場合にご使用ください。<br />\n              </li>\n              <li>\n                /でワードを囲むと、正規表現として認識されます。（例：/請求項[0-9０-９]+/）<br />\n                末尾のオプションは省略可能です。（自動でgオプションがつきます）\n              </li>\n  \n              <li>\n                ワード反転後、ボックス中のワードをクリックすると、反転色を変更できます。\n              </li>\n              <li>\n                ブロック反転にチェックを入れると、漢字・カタカナ・英数字を含めたブロック単位で反転を行います。\n              </li>\n            </ul>',e.style.left=m.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("help").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation())})),document.getElementById("btn_marker_help").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("help");"block"===e.style.display?e.style.display="none":(e.style.display="block",e.innerHTML="\n          <h3>本文の装飾方法</h3>\n          <p> マーカーなどの装飾を行いたい箇所をドラッグして選択した後に、ボタンを押してください。</p>\n          <p> コメントボタンで挿入したコメントを削除したい場合は、右側のコメントボックス内の文字を全て削除して空にした状態で、さらにBackspaceキーを押してください。</p>\n          <p> 挿入したコメントの吹き出しの三角形をクリックすると、コメントの色を変えることができます。</p>\n          <p> マーカーを削除したい場合は、<b>同じ色で</b>削除したい部分をマークするか、ハイライト削除ボタンを使用してください。</p>",e.style.left=m.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("help").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation())})),document.getElementById("dark_mode").addEventListener("change",(t=>{t.target instanceof HTMLInputElement&&(t.target.checked?(document.body.classList.add("dark"),m.dark_mode=!0,"#ffcccc"===m.comment.background_color&&(m.comment.background_color="#cc3300",document.getElementById("btn_comment").style.backgroundColor="#cc3300",document.getElementById("comment_color").innerText="#cc3300")):(document.body.classList.remove("dark"),m.dark_mode=!1,"#cc3300"===m.comment.background_color&&(m.comment.background_color="#ffcccc",document.getElementById("btn_comment").style.backgroundColor="#ffcccc",document.getElementById("comment_color").innerText="#ffcccc")),"pdf_canvas"===m.tool_type&&(t.target.checked?m.content_window.document.body.classList.add("dark"):m.content_window.document.body.classList.remove("dark")),m.cv.updateData(),m.cv.draw())})),document.getElementById("colormap").addEventListener("mouseout",(t=>{!function(){const t=document.getElementById("color_picker").getAttribute("mode");if("highlight"===t)return;if("comment"===t){const t=document.getElementById("color_picker").getAttribute("comment_id"),e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`),n=document.getElementById("comment_svg").querySelector(`polygon[comment_id="${t}"]`),o=document.querySelectorAll(`span.commented[comment_id="${t}"]`);let r=document.getElementById("color_picker").getAttribute("comment_color");e.style.backgroundColor=r,e.style.borderColor=r,n.style.fill=r,n.style.stroke=r,o.forEach((t=>{t.style.backgroundColor=r,t.style.borderColor=r}))}else{const t=document.getElementById("color_picker").getAttribute("color_id");Array.from(document.getElementById("word_query").querySelectorAll("span")).filter((e=>e.getAttribute("color_id")===t)).forEach((t=>{t.removeAttribute("style")}))}}()})),Array.from(document.getElementById("colormap").querySelectorAll("area")).forEach((t=>{t.addEventListener("mouseover",(e=>{!function(t){const e=document.getElementById("color_picker").getAttribute("mode");if("highlight"===e)return;if("comment"===e){const e=document.getElementById("color_picker").getAttribute("comment_id"),n=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${e}"]`),o=document.getElementById("comment_svg").querySelector(`polygon[comment_id="${e}"]`),r=document.querySelectorAll(`span.commented[comment_id="${e}"]`);n.style.backgroundColor=t,n.style.borderColor=t,o.style.fill=t,o.style.stroke=t,r.forEach((e=>{e.style.backgroundColor=t,e.style.borderColor=t}))}else{const e=document.getElementById("color_picker").getAttribute("color_id");Array.from(document.getElementById("word_query").querySelectorAll("span")).filter((t=>t.getAttribute("color_id")===e)).forEach((e=>{console.log(t),e.style.setProperty("background-color",t,"important"),e.style.color=m.word.calcWordColor(t)}))}}(t.alt)})),t.addEventListener("click",(e=>{!function(t){t=t.toLowerCase();const e=document.getElementById("color_picker").getAttribute("mode");if("highlight"===e){const e=document.getElementById("btn_highlight");e.setAttribute("highlightColor",t),e.style.backgroundColor=t}else if("comment"===e)document.getElementById("btn_comment").style.backgroundColor=t,document.getElementById("comment_color").innerText=t,m.comment.background_color=t,document.getElementById("color_picker").setAttribute("comment_color",t),m.cv.updateData(),m.cv.draw();else{const e=document.getElementById("color_picker").getAttribute("color_id");x("ワード反転中...",0,(()=>{m.word.setColor(Number(e),t),m.word.invert(m.content_root),N(),m.cv.updateData(),m.cv.draw()}))}document.getElementById("color_picker").style.display="none"}(t.alt)}))}));new MutationObserver((t=>{t.forEach((t=>{t.removedNodes.forEach((t=>{if(t instanceof HTMLSpanElement&&t.classList.contains("commented")){const e=t.getAttribute("comment_id");document.getElementById("content").querySelector(`span.commented[comment_id="${e}"]`)||m.comment.remove(e),m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange()}}))}))})).observe(document.getElementById("content"),{childList:!0,subtree:!0});new MutationObserver((t=>{m.comment.arrange()})).observe(document.getElementById("comment_div"),{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height"]});new MutationObserver((t=>{m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange()})).observe(document.body,{attributes:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height","offsetWidth","clientWidth","scrollWidth","width"]});if(new MutationObserver((t=>{m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange()})).observe(document.getElementById("spectrum"),{attributes:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height","offsetWidth","clientWidth","scrollWidth","width"]}),document.getElementById("content").addEventListener("input",(t=>{m.updated=!0,m.comment.arrange()})),document.getElementById("word_query").addEventListener("click",(t=>{t.target instanceof HTMLElement&&t.target.querySelectorAll("span").forEach((t=>{t.className="",t.onclick=null}))})),document.getElementById("word_query").addEventListener("paste",(t=>{t.preventDefault();const e=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e)})),"pdf_canvas"!==m.tool_type&&d()(["#content","#comment_container"],{sizes:[70,30],minSize:[50,50],elementStyle:(t,e,n,o)=>({width:`${e}%`}),onDragEnd:t=>{setTimeout((()=>{m.comment.arrange(),m.cv.updateData(),m.cv.draw()}),0),m.comment.arrange(),m.cv.updateData(),m.cv.draw()},gutterSize:5}),"tazumen"===m.tool_type&&(d()(["div#zumen","div#text"],{sizes:[30,70],elementStyle:(t,e,n,o)=>({width:`calc(${e}% - ${n+20}px)`}),onDragEnd:t=>{setTimeout((()=>{m.comment.arrange(),m.cv.updateData(),m.cv.draw()}),0),m.comment.arrange(),m.cv.updateData(),m.cv.draw()},gutterSize:4}),O()),"tazumen"===m.tool_type&&"tazumen_gyomu"===document.getElementById("content").innerHTML){const t=document.getElementById("paste_modal_window");t.style.display="block";const e=document.getElementById("paste_modal_input");e.focus(),e.addEventListener("paste",(e=>{const n=(e.clipboardData||window.clipboardData).getData("text");console.log(n),t.style.display="none",e.preventDefault(),R(JSON.parse(n))}))}window.addEventListener("message",(t=>{switch(console.log(t),t.data.message_type){case"tazumen":"http://npsx8.jpo.go.jp"===t.origin&&R(t.data);break;case"free_text":m.content_root.innerText=t.data.innerText}}))}))}(),function(){h().filter=t=>!0,"free_text"===m.tool_type&&(h()("ctrl+b",((t,e)=>{t.preventDefault(),E("bold")})),h()("ctrl+u",((t,e)=>{t.preventDefault(),E("underline")})));h()("ctrl+h",((t,e)=>{var n;t.preventDefault(),_(),null===(n=m.content_window.getSelection())||void 0===n||n.removeAllRanges()})),h()("ctrl+d",((t,e)=>{var n;t.preventDefault(),w(),null===(n=m.content_window.getSelection())||void 0===n||n.removeAllRanges()})),h()("ctrl+1",((t,e)=>{t.preventDefault(),b()})),h()("ctrl+s",((t,e)=>{t.preventDefault(),"pdf_canvas"===m.tool_type||x("ダウンロードファイル生成中...",150,y)})),h()("ctrl+shift+f",((t,e)=>{function n(t){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(t),e.collapse(!1),null==n||n.removeAllRanges(),null==n||n.addRange(e),t.focus(),e.detach()}t.preventDefault();const o=document.getElementById("word_query");o.click(),n(o)})),document.addEventListener("keydown",(t=>{var e,n,o;if(t instanceof KeyboardEvent)if(8===t.keyCode){let r=!0;const i=t.target;if("word_query"===i.id)r=!1;else if(i.isContentEditable){r=!1;const t=null===(o=null===(n=null===(e=window.getSelection())||void 0===e?void 0:e.anchorNode)||void 0===n?void 0:n.parentElement)||void 0===o?void 0:o.closest("div.comment");!t||"\n"!==t.innerText&&""!==t.innerText||(r=!0,m.updated=!0,m.comment.remove(t.getAttribute("comment_id")),m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange())}else("INPUT"===i.tagName||"TEXTAREA"===i.tagName)&&(r=!1);if(r)return void t.preventDefault()}else 112===t.keyCode&&(A(),t.preventDefault())}))}(),m.word.setOption(C()),m.word.invert(m.content_root),N(),setTimeout((()=>{m.cv.updateData(),m.cv.draw(),m.comment.sort(),m.comment.arrange()}),0)}))))})()})();