/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={3462:(t,e,n)=>{n(6699);var r=n(2649);t.exports=r("Array","includes")},9116:(t,e,n)=>{n(9601);var r=n(857);t.exports=r.Object.assign},4577:(t,e,n)=>{var r=n(6575);t.exports=r},7671:(t,e,n)=>{var r=n(4977);t.exports=r},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},1223:(t,e,n)=>{var r=n(5112),o=n(30),i=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,n)=>{var r=n(5656),o=n(7466),i=n(1400),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,n)=>{var r=n(6656),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},8880:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l?o=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},2649:(t,e,n)=>{var r=n(7854),o=n(9974),i=Function.call;t.exports=function(t,e,n){return o(i,r[t].prototype[e],n)}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),a=n(1320),s=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,l,f,d,h,p=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(m?l:p+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(t,e,n)=>{var r=n(7908),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(r(t),e)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(7293),o=n(4326),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:(t,e,n)=>{var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,o,i,a=n(8536),s=n(7854),c=n(111),u=n(8880),l=n(6656),f=n(5465),d=n(6200),h=n(3501),p="Object already initialized",m=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new m),y=g.get,v=g.has,b=g.set;r=function(t,e){if(v.call(g,t))throw new TypeError(p);return e.facade=t,b.call(g,t,e),e},o=function(t){return y.call(g,t)||{}},i=function(t){return v.call(g,t)}}else{var w=d("state");h[w]=!0,r=function(t,e){if(l(t,w))throw new TypeError(p);return e.facade=t,u(t,w,e),e},o=function(t){return l(t,w)?t[w]:{}},i=function(t){return l(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},4705:(t,e,n)=>{var r=n(7293),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},2190:(t,e,n)=>{var r=n(5005),o=n(3307);t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},133:(t,e,n)=>{var r=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(t,e,n)=>{var r=n(7854),o=n(2788),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},1574:(t,e,n)=>{"use strict";var r=n(9781),o=n(7293),i=n(1956),a=n(5181),s=n(5296),c=n(7908),u=n(8361),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||i(l({},e)).join("")!=o}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,d=s.f;o>l;)for(var h,p=u(arguments[l++]),m=f?i(p).concat(f(p)):i(p),g=m.length,y=0;g>y;)h=m[y++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},30:(t,e,n)=>{var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200),f=l("IE_PROTO"),d=function(){},h=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;m="undefined"!=typeof document?document.domain&&r?p(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):p(r);for(var n=a.length;n--;)delete m.prototype[a[n]];return m()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=o(t),n=new d,d.prototype=null,n[f]=t):n=m(),void 0===e?n:i(n,e)}},6048:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9670),a=n(1956);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),o=n(4664),i=n(9670),a=n(4948),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),o=n(5296),i=n(9114),a=n(5656),s=n(4948),c=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,n)=>{var r=n(6656),o=n(5656),i=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},1956:(t,e,n)=>{var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2140:(t,e,n)=>{var r=n(111);t.exports=function(t,e){var n,o;if("string"===e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if("string"!==e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},3887:(t,e,n)=>{var r=n(5005),o=n(8006),i=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},1320:(t,e,n)=>{var r=n(7854),o=n(8880),i=n(6656),a=n(3505),s=n(2788),c=n(9909),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var c,u=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(c=l(n)).source||(c.source=f.join("string"==typeof e?e:""))),t!==r?(u?!h&&t[e]&&(d=!0):delete t[e],d?t[e]=n:o(t,e,n)):d?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:(t,e,n)=>{var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,n)=>{var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:(t,e,n)=>{var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1400:(t,e,n)=>{var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:(t,e,n)=>{var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:(t,e,n)=>{var r=n(111),o=n(2190),i=n(2140),a=n(5112)("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,s=t[a];if(void 0!==s){if(void 0===e&&(e="default"),n=s.call(t,e),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),i(t,e)}},4948:(t,e,n)=>{var r=n(7593),o=n(2190);t.exports=function(t){var e=r(t,"string");return o(e)?e:String(e)}},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),o=n(2309),i=n(6656),a=n(9711),s=n(133),c=n(3307),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)&&(s||"string"==typeof u[t])||(s&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},6699:(t,e,n)=>{"use strict";var r=n(2109),o=n(1318).includes,i=n(1223);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},9601:(t,e,n)=>{var r=n(2109),o=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},6575:(t,e,n)=>{var r=n(3462);t.exports=r},4977:(t,e,n)=>{var r=n(9116);t.exports=r},3031:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function e(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function n(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function r(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function o(t,e){for(var n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,o=!0,i=0;i<n.length;i++)-1===r.indexOf(n[i])&&(o=!1);return o}for(var i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":t?173:189,"=":t?61:187,";":t?59:186,"'":222,"[":219,"]":221,"\\":220},a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},s={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},c={16:!1,18:!1,17:!1,91:!1},u={},l=1;l<20;l++)i["f".concat(l)]=111+l;var f=[],d="all",h=[],p=function(t){return i[t.toLowerCase()]||a[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function m(t){d=t||"all"}function g(){return d||"all"}function y(){return f.slice(0)}function v(t){var e=t.target||t.srcElement,n=e.tagName,r=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(r=!1),r}function b(t){return"string"==typeof t&&(t=p(t)),-1!==f.indexOf(t)}function w(t,e){var n,r;for(var o in t||(t=g()),u)if(Object.prototype.hasOwnProperty.call(u,o))for(n=u[o],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;g()===t&&m(e||"all")}function E(t){var e=t.keyCode||t.which||t.charCode,n=f.indexOf(e);if(n>=0&&f.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&f.splice(0,f.length),93!==e&&224!==e||(e=91),e in c)for(var r in c[e]=!1,a)a[r]===e&&(R[r]=!1)}function _(t){if(t){if(Array.isArray(t))t.forEach((function(t){t.key&&S(t)}));else if("object"==typeof t)t.key&&S(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];"function"==typeof o&&(i=o,o=""),S({key:t,scope:o,method:i,splitKey:"+"})}}else Object.keys(u).forEach((function(t){return delete u[t]}))}var S=function(t){var e=t.key,i=t.scope,s=t.method,c=t.splitKey,l=void 0===c?"+":c;r(e).forEach((function(t){var e=t.split(l),r=e.length,c=e[r-1],f="*"===c?"*":p(c);if(u[f]){i||(i=g());var d=r>1?n(a,e):[];u[f]=u[f].map((function(t){return s&&t.method!==s||t.scope!==i||!o(t.mods,d)?t:{}}))}}))};function C(t,e,n){var r;if(e.scope===n||"all"===e.scope){for(var o in r=e.mods.length>0,c)Object.prototype.hasOwnProperty.call(c,o)&&(!c[o]&&e.mods.indexOf(+o)>-1||c[o]&&-1===e.mods.indexOf(+o))&&(r=!1);(0!==e.mods.length||c[16]||c[18]||c[17]||c[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function O(t){var e=u["*"],n=t.keyCode||t.which||t.charCode;if(R.filter.call(this,t)){if(93!==n&&224!==n||(n=91),-1===f.indexOf(n)&&229!==n&&f.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=s[e];t[e]&&-1===f.indexOf(n)?f.push(n):!t[e]&&f.indexOf(n)>-1?f.splice(f.indexOf(n),1):"metaKey"===e&&t[e]&&3===f.length&&(t.ctrlKey||t.shiftKey||t.altKey||(f=f.slice(f.indexOf(n))))})),n in c){for(var r in c[n]=!0,a)a[r]===n&&(R[r]=!0);if(!e)return}for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(c[o]=t[s[o]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===f.indexOf(17)&&f.push(17),-1===f.indexOf(18)&&f.push(18),c[17]=!0,c[18]=!0);var i=g();if(e)for(var l=0;l<e.length;l++)e[l].scope===i&&("keydown"===t.type&&e[l].keydown||"keyup"===t.type&&e[l].keyup)&&C(t,e[l],i);if(n in u)for(var d=0;d<u[n].length;d++)if(("keydown"===t.type&&u[n][d].keydown||"keyup"===t.type&&u[n][d].keyup)&&u[n][d].key){for(var h=u[n][d],m=h.splitKey,y=h.key.split(m),v=[],b=0;b<y.length;b++)v.push(p(y[b]));v.sort().join("")===f.sort().join("")&&C(t,h,i)}}}function N(t){return h.indexOf(t)>-1}function R(t,o,i){f=[];var s=r(t),c=[],l="all",d=document,m=0,g=!1,y=!0,v="+";for(void 0===i&&"function"==typeof o&&(i=o),"[object Object]"===Object.prototype.toString.call(o)&&(o.scope&&(l=o.scope),o.element&&(d=o.element),o.keyup&&(g=o.keyup),void 0!==o.keydown&&(y=o.keydown),"string"==typeof o.splitKey&&(v=o.splitKey)),"string"==typeof o&&(l=o);m<s.length;m++)c=[],(t=s[m].split(v)).length>1&&(c=n(a,t)),(t="*"===(t=t[t.length-1])?"*":p(t))in u||(u[t]=[]),u[t].push({keyup:g,keydown:y,scope:l,mods:c,shortcut:s[m],method:i,key:s[m],splitKey:v});void 0!==d&&!N(d)&&window&&(h.push(d),e(d,"keydown",(function(t){O(t)})),e(window,"focus",(function(){f=[]})),e(d,"keyup",(function(t){O(t),E(t)})))}var x={setScope:m,getScope:g,deleteScope:w,getPressedKeyCodes:y,isPressed:b,filter:v,unbind:_};for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(R[A]=x[A]);if("undefined"!=typeof window){var T=window.hotkeys;R.noConflict=function(t){return t&&window.hotkeys===R&&(window.hotkeys=T),R},window.hotkeys=R}return R}()},813:function(t){t.exports=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=n,this.iframes=r,this.exclude=o,this.iframesTimeout=i}return n(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var n=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=void 0;try{var o=t.contentWindow;if(r=o.document,!o||!r)throw new Error("iframe inaccessible")}catch(t){n()}r&&e(r)}},{key:"isIframeBlank",value:function(t){var e="about:blank",n=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&n!==e&&n}},{key:"observeIframeLoad",value:function(t,e,n){var r=this,o=!1,i=null,a=function a(){if(!o){o=!0,clearTimeout(i);try{r.isIframeBlank(t)||(t.removeEventListener("load",a),r.getIframeContents(t,e,n))}catch(t){n()}}};t.addEventListener("load",a),i=setTimeout(a,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,n){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,n):this.getIframeContents(t,e,n):this.observeIframeLoad(t,e,n)}catch(t){n()}}},{key:"waitForIframes",value:function(t,e){var n=this,r=0;this.forEachIframe(t,(function(){return!0}),(function(t){r++,n.waitForIframes(t.querySelector("html"),(function(){--r||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=e.querySelectorAll("iframe"),s=a.length,c=0;a=Array.prototype.slice.call(a);var u=function(){--s<=0&&i(c)};s||u(),a.forEach((function(e){t.matches(e,o.exclude)?u():o.onIframeReady(e,(function(t){n(e)&&(c++,r(t)),u()}),u)}))}},{key:"createIterator",value:function(t,e,n){return document.createNodeIterator(t,e,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,n){if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,n,r){var o=!1,i=!1;return r.forEach((function(t,e){t.val===n&&(o=e,i=t.handled)})),this.compareNodeIframe(t,e,n)?(!1!==o||i?!1===o||i||(r[o].handled=!0):r.push({val:n,handled:!0}),!0):(!1===o&&r.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,n,r){var o=this;t.forEach((function(t){t.handled||o.getIframeContents(t.val,(function(t){o.createInstanceOnIframe(t).forEachNode(e,n,r)}))}))}},{key:"iterateThroughNodes",value:function(t,e,n,r,o){for(var i=this,a=this.createIterator(e,t,r),s=[],c=[],u=void 0,l=void 0,f=function(){var t=i.getIteratorNode(a);return l=t.prevNode,u=t.node};f();)this.iframes&&this.forEachIframe(e,(function(t){return i.checkIframeFilter(u,l,t,s)}),(function(e){i.createInstanceOnIframe(e).forEachNode(t,(function(t){return c.push(t)}),r)})),c.push(u);c.forEach((function(t){n(t)})),this.iframes&&this.handleOpenIframes(s,t,n,r),o()}},{key:"forEachNode",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=this.getContexts(),a=i.length;a||o(),i.forEach((function(i){var s=function(){r.iterateThroughNodes(t,i,e,n,(function(){--a<=0&&o()}))};r.iframes?r.waitForIframes(i,s):s()}))}}],[{key:"matches",value:function(t,e){var n="string"==typeof e?[e]:e,r=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(r){var o=!1;return n.every((function(e){return!r.call(t,e)||(o=!0,!1)})),o}return!1}}]),t}(),i=function(){function i(t){e(this,i),this.ctx=t,this.ie=!1;var n=window.navigator.userAgent;(n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1)&&(this.ie=!0)}return n(i,[{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",r=this.opt.log;this.opt.debug&&"object"===(void 0===r?"undefined":t(r))&&"function"==typeof r[n]&&r[n]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",r=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var o in e)if(e.hasOwnProperty(o)){var i=e[o],a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o),s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(i):this.escapeStr(i);""!==a&&""!==s&&(t=t.replace(new RegExp("("+this.escapeStr(a)+"|"+this.escapeStr(s)+")","gm"+n),r+"("+this.processSynomyms(a)+"|"+this.processSynomyms(s)+")"+r))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,n){var r=n.charAt(e+1);return/[(|)\\]/.test(r)||""===r?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&e.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],r=[];return t.split("").forEach((function(o){n.every((function(n){if(-1!==n.indexOf(o)){if(r.indexOf(n)>-1)return!1;t=t.replace(new RegExp("["+n+"]","gm"+e),"["+n+"]"),r.push(n)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,n="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",r=this.opt.accuracy,o="string"==typeof r?r:r.value,i="string"==typeof r?[]:r.limiters,a="";switch(i.forEach((function(t){a+="|"+e.escapeStr(t)})),o){default:return"()("+t+")";case"complementary":return"()([^"+(a="\\s"+(a||this.escapeStr(n)))+"]*"+t+"[^"+a+"]*)";case"exactly":return"(^|\\s"+a+")("+t+")(?=$|\\s"+a+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,n=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===n.indexOf(t)&&n.push(t)})):t.trim()&&-1===n.indexOf(t)&&n.push(t)})),{keywords:n.sort((function(t,e){return e.length-t.length})),length:n.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var n=[],r=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var o=e.callNoMatchOnInvalidRanges(t,r),i=o.start,a=o.end;o.valid&&(t.start=i,t.length=a-i,n.push(t),r=a)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var n=void 0,r=void 0,o=!1;return t&&void 0!==t.start?(r=(n=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&r-e>0&&r-n>0?o=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:n,end:r,valid:o}}},{key:"checkWhitespaceRanges",value:function(t,e,n){var r=void 0,o=!0,i=n.length,a=e-i,s=parseInt(t.start,10)-a;return(r=(s=s>i?i:s)+parseInt(t.length,10))>i&&(r=i,this.log("End range automatically set to the max value of "+i)),s<0||r-s<0||s>i||r>i?(o=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===n.substring(s,r).replace(/\s+/g,"")&&(o=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:s,end:r,valid:o}}},{key:"getTextNodes",value:function(t){var e=this,n="",r=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){r.push({start:n.length,end:(n+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:n,nodes:r})}))}},{key:"matchesExclude",value:function(t){return o.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,n){var r=this.opt.element?this.opt.element:"mark",o=t.splitText(e),i=o.splitText(n-e),a=document.createElement(r);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=o.textContent,o.parentNode.replaceChild(a,o),i}},{key:"wrapRangeInMappedTextNode",value:function(t,e,n,r,o){var i=this;t.nodes.every((function(a,s){var c=t.nodes[s+1];if(void 0===c||c.start>e){if(!r(a.node))return!1;var u=e-a.start,l=(n>a.end?a.end:n)-a.start,f=t.value.substr(0,a.start),d=t.value.substr(l+a.start);if(a.node=i.wrapRangeInTextNode(a.node,u,l),t.value=f+d,t.nodes.forEach((function(e,n){n>=s&&(t.nodes[n].start>0&&n!==s&&(t.nodes[n].start-=l),t.nodes[n].end-=l)})),n-=l,o(a.node.previousSibling,a.start),!(n>a.end))return!1;e=a.end}return!0}))}},{key:"wrapMatches",value:function(t,e,n,r,o){var i=this,a=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var o=void 0;null!==(o=t.exec(e.textContent))&&""!==o[a];)if(n(o[a],e)){var s=o.index;if(0!==a)for(var c=1;c<a;c++)s+=o[c].length;e=i.wrapRangeInTextNode(e,s,s+o[a].length),r(e.previousSibling),t.lastIndex=0}})),o()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,n,r,o){var i=this,a=0===e?0:e+1;this.getTextNodes((function(e){for(var s=void 0;null!==(s=t.exec(e.value))&&""!==s[a];){var c=s.index;if(0!==a)for(var u=1;u<a;u++)c+=s[u].length;var l=c+s[a].length;i.wrapRangeInMappedTextNode(e,c,l,(function(t){return n(s[a],t)}),(function(e,n){t.lastIndex=n,r(e)}))}o()}))}},{key:"wrapRangeFromIndex",value:function(t,e,n,r){var o=this;this.getTextNodes((function(i){var a=i.value.length;t.forEach((function(t,r){var s=o.checkWhitespaceRanges(t,a,i.value),c=s.start,u=s.end;s.valid&&o.wrapRangeInMappedTextNode(i,c,u,(function(n){return e(n,t,i.value.substring(c,u),r)}),(function(e){n(e,t)}))})),r()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.removeChild(t.firstChild));e.replaceChild(n,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var n=this;this.opt=e,this.log('Searching with expression "'+t+'"');var r=0,o="wrapMatches",i=function(t){r++,n.opt.each(t)};this.opt.acrossElements&&(o="wrapMatchesAcrossElements"),this[o](t,this.opt.ignoreGroups,(function(t,e){return n.opt.filter(e,t,r)}),i,(function(){0===r&&n.opt.noMatch(t),n.opt.done(r)}))}},{key:"mark",value:function(t,e){var n=this;this.opt=e;var r=0,o="wrapMatches",i=this.getSeparatedKeywords("string"==typeof t?[t]:t),a=i.keywords,s=i.length,c=this.opt.caseSensitive?"":"i",u=function t(e){var i=new RegExp(n.createRegExp(e),"gm"+c),u=0;n.log('Searching with expression "'+i+'"'),n[o](i,1,(function(t,o){return n.opt.filter(o,e,r,u)}),(function(t){u++,r++,n.opt.each(t)}),(function(){0===u&&n.opt.noMatch(e),a[s-1]===e?n.opt.done(r):t(a[a.indexOf(e)+1])}))};this.opt.acrossElements&&(o="wrapMatchesAcrossElements"),0===s?this.opt.done(r):u(a[0])}},{key:"markRanges",value:function(t,e){var n=this;this.opt=e;var r=0,o=this.checkRanges(t);o&&o.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(o)),this.wrapRangeFromIndex(o,(function(t,e,r,o){return n.opt.filter(t,e,r,o)}),(function(t,e){r++,n.opt.each(t,e)}),(function(){n.opt.done(r)}))):this.opt.done(r)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var r=o.matches(t,n),i=e.matchesExclude(t);return!r||i?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=r({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new o(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),i}();function a(t){var e=this,n=new i(t);return this.mark=function(t,r){return n.mark(t,r),e},this.markRegExp=function(t,r){return n.markRegExp(t,r),e},this.markRanges=function(t,r){return n.markRanges(t,r),e},this.unmark=function(t){return n.unmark(t),e},this}return a}()},5410:function(t,e,n){!function(t,e){"use strict";var n=e.dom.DomPosition,r=e.util.isHostMethod,o=new e.Module("ClassApplier",["WrappedSelection"]),i="span",a=r(document,"createElementNS");function s(t,e){for(var n in t)if(t.hasOwnProperty(n)&&!1===e(n,t[n]))return!1;return!0}function c(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function u(t,e){return!!t&&new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t)}function l(t,e){return"object"==typeof t.classList?t.classList.contains(e):u("string"==typeof t.className?t.className:t.getAttribute("class"),e)}function f(t,e){if("object"==typeof t.classList)t.classList.add(e);else{var n="string"==typeof t.className,r=n?t.className:t.getAttribute("class");r?u(r,e)||(r+=" "+e):r=e,n?t.className=r:t.setAttribute("class",r)}}var d=function(){function t(t,e,n){return e&&n?" ":""}return function(e,n){if("object"==typeof e.classList)e.classList.remove(n);else{var r="string"==typeof e.className,o=r?e.className:e.getAttribute("class");o=o.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),t),r?e.className=o:e.setAttribute("class",o)}}}();function h(t){return"string"==typeof t.className?t.className:t.getAttribute("class")}function p(t){return t&&t.split(/\s+/).sort().join(" ")}function m(t){return p(h(t))}function g(t,e){return m(t)==m(e)}function y(t,e){for(var n=e.split(/\s+/),r=0,o=n.length;r<o;++r)if(!l(t,c(n[r])))return!1;return!0}function v(t){var e=t.parentNode;return e&&1==e.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(e.nodeName)}function b(t,e,n,r,o){var i=t.node,a=t.offset,s=i,c=a;i==r&&a>o&&++c,i!=e||a!=n&&a!=n+1||(s=r,c+=o-n),i==e&&a>n+1&&--c,t.node=s,t.offset=c}function w(t,e,n){t.node==e&&t.offset>n&&--t.offset}function E(t,n,r,o){-1==r&&(r=n.childNodes.length);var i=t.parentNode,a=e.dom.getNodeIndex(t);o.forEach((function(t){b(t,i,a,n,r)})),n.childNodes.length==r?n.appendChild(t):n.insertBefore(t,n.childNodes[r])}function _(t,n){var r=t.parentNode,o=e.dom.getNodeIndex(t);n.forEach((function(t){w(t,r,o)})),e.dom.removeNode(t)}function S(t,e,n,r,o){for(var i,a=[];i=t.firstChild;)E(i,e,n++,o),a.push(i);return r&&_(t,o),a}function C(t,n){return S(t,t.parentNode,e.dom.getNodeIndex(t),!0,n)}function O(t,e){var n=t.cloneRange();n.selectNodeContents(e);var r=n.intersection(t);return""!=(r?r.toString():"")}function N(t){for(var e,n=t.getNodes([3]),r=0;(e=n[r])&&!O(t,e);)++r;for(var o=n.length-1;(e=n[o])&&!O(t,e);)--o;return n.slice(r,o+1)}function R(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,r,o,i=0,a=t.attributes.length;i<a;++i)if("class"!=(o=(n=t.attributes[i]).name)){if(null===n!=(null===(r=e.attributes.getNamedItem(o))))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function x(t,e){for(var n,r=0,o=t.attributes.length;r<o;++r)if(n=t.attributes[r].name,(!e||!e.includes(n))&&t.attributes[r].specified&&"class"!=n)return!0;return!1}var A=e.dom.getComputedStyleProperty,T="boolean"==typeof document.createElement("div").isContentEditable?function(t){return t&&1==t.nodeType&&t.isContentEditable}:function(t){return!(!t||1!=t.nodeType||"false"==t.contentEditable)&&("true"==t.contentEditable||T(t.parentNode))};function k(t){var e;return t&&1==t.nodeType&&((e=t.parentNode)&&9==e.nodeType&&"on"==e.designMode||T(t)&&!T(t.parentNode))}function I(t){return(T(t)||1!=t.nodeType&&T(t.parentNode))&&!k(t)}var j=/^inline(-block|-table)?$/i;function L(t){return t&&1==t.nodeType&&!j.test(A(t,"display"))}var P=/[^\r\n\t\f \u200B]/;function D(t){if(0==t.data.length)return!0;if(P.test(t.data))return!1;switch(A(t.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(t.data))return!1}return L(t.previousSibling)||L(t.nextSibling)}function B(t){var e,r,o=[];for(e=0;r=t[e++];)o.push(new n(r.startContainer,r.startOffset),new n(r.endContainer,r.endOffset));return o}function M(t,e){for(var n,r,o,i=0,a=t.length;i<a;++i)n=t[i],r=e[2*i],o=e[2*i+1],n.setStartAndEnd(r.node,r.offset,o.node,o.offset)}function H(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function W(t,n,r,i){var a,s,c=0==r;if(e.dom.isAncestorOf(n,t))return t;if(e.dom.isCharacterDataNode(n)){var u=e.dom.getNodeIndex(n);if(0==r)r=u;else{if(r!=n.length)throw o.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+r+" in "+n.data);r=u+1}n=n.parentNode}if(H(n,r)){a=n.cloneNode(!1),s=n.parentNode,a.id&&a.removeAttribute("id");for(var l,f=0;l=n.childNodes[r];)E(l,a,f++,i);return E(a,s,e.dom.getNodeIndex(n)+1,i),n==t?a:W(t,s,e.dom.getNodeIndex(a),i)}if(t!=n){a=n.parentNode;var d=e.dom.getNodeIndex(n);return c||d++,W(t,a,d,i)}return t}function z(t,e){return t.namespaceURI==e.namespaceURI&&t.tagName.toLowerCase()==e.tagName.toLowerCase()&&g(t,e)&&R(t,e)&&"inline"==A(t,"display")&&"inline"==A(e,"display")}function F(t){var e=t?"nextSibling":"previousSibling";return function(n,r){var o=n.parentNode,i=n[e];if(i){if(i&&3==i.nodeType)return i}else if(r&&(i=o[e])&&1==i.nodeType&&z(o,i)){var a=i[t?"firstChild":"lastChild"];if(a&&3==a.nodeType)return a}return null}}var q=F(!1),U=F(!0),$=function(){function t(t){this.isElementMerge=1==t.nodeType,this.textNodes=[];var e=this.isElementMerge?t.lastChild:t;e&&this.textNodes.push(e)}return t.prototype.doMerge=function(t){var n=this.textNodes,r=n[0];if(n.length>1){var o,i=e.dom.getNodeIndex(r),a=[],s=0,c=n.length;n.forEach((function(n,u){o=n.parentNode,u>0&&(o.removeChild(n),o.hasChildNodes()||e.dom.removeNode(o),t&&t.forEach((function(t){t.node==n&&(t.node=r,t.offset+=s),t.node==o&&t.offset>i&&(--t.offset,t.offset==i+1&&u<c-1&&(t.node=r,t.offset=s))}))),a[u]=n.data,s+=n.data.length})),r.data=a.join("")}return r.data},t.prototype.getLength=function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},t.prototype.toString=function(){var t=[];return this.textNodes.forEach((function(e,n){t[n]="'"+e.data+"'"})),"[Merge("+t.join(",")+")]"},t}(),V=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],G={},Y={hasClass:l,addClass:f,removeClass:d,getClass:h,hasSameClasses:g,hasAllClasses:y,replaceWithOwnChildren:C,elementsHaveSameNonClassAttributes:R,elementHasNonClassAttributes:x,splitNodeAt:W,isEditableElement:T,isEditingHost:k,isEditable:I},K=function(){function t(t,e,n){this.className=t,this.elementTagName=i,this.ignoreWhiteSpace=!0,this.applyToEditableOnly=!1,this.useExistingElements=!0,this.removeEmptyElements=!0;var r,o,a,u,l=this;l.cssClass=t;var f=null,d={};if("object"==typeof e&&null!==e){for(void 0!==e.elementTagName&&(e.elementTagName=e.elementTagName.toLowerCase()),n=e.tagNames,f=e.elementProperties,d=e.elementAttributes,o=0;u=V[o++];)e.hasOwnProperty(u)&&(l[u]=e[u]);r=e.normalize}else r=e;l.normalize=void 0===r||r,l.attrExceptions=[];var h=document.createElement(l.elementTagName);if(l.elementProperties=l.copyPropertiesToElement(f,h,!0),s(d,(function(t,e){l.attrExceptions.push(t),d[t]=""+e})),l.elementAttributes=d,l.elementSortedClassName=l.elementProperties.hasOwnProperty("className")?p(l.elementProperties.className+" "+t):t,l.applyToAnyTagName=!1,"string"==typeof n)"*"==n?l.applyToAnyTagName=!0:l.tagNames=c(n.toLowerCase()).split(/\s*,\s*/);else if("object"==typeof n&&"number"==typeof n.length)for(l.tagNames=[],o=0,a=n.length;o<a;++o)"*"==n[o]?l.applyToAnyTagName=!0:l.tagNames.push(n[o].toLowerCase());else l.tagNames=[l.elementTagName]}return t.prototype.copyPropertiesToElement=function(t,e,n){var r,o,i,a,s,c,u={};for(var l in t)if(t.hasOwnProperty(l))if(a=t[l],s=e[l],"className"==l)f(e,a),f(e,this.className),e[l]=p(e[l]),n&&(u[l]=a);else if("style"==l){for(r in o=s,n&&(u[l]=i={}),t[l])t[l].hasOwnProperty(r)&&(o[r]=a[r],n&&(i[r]=o[r]));this.attrExceptions.push(l)}else e[l]=a,n&&(u[l]=e[l],c=G.hasOwnProperty(l)?G[l]:l,this.attrExceptions.push(c));return n?u:""},t.prototype.copyAttributesToElement=function(t,e){for(var n in t)t.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&e.setAttribute(n,t[n])},t.prototype.appliesToElement=function(t){return this.tagNames.includes(t.tagName.toLowerCase())},t.prototype.getEmptyElements=function(t){var e=this;return t.getNodes([1],(function(t){return e.appliesToElement(t)&&!t.hasChildNodes()}))},t.prototype.hasClass=function(t){return 1==t.nodeType&&(this.applyToAnyTagName||this.appliesToElement(t))&&l(t,this.className)},t.prototype.getSelfOrAncestorWithClass=function(t){for(;t;){if(this.hasClass(t))return t;t=t.parentNode}return null},t.prototype.isModifiable=function(t){return!this.applyToEditableOnly||I(t)},t.prototype.isIgnorableWhiteSpaceNode=function(t){return this.ignoreWhiteSpace&&t&&3==t.nodeType&&D(t)},t.prototype.postApply=function(t,e,n,r){var o,i,a=t[0],s=t[t.length-1],c=[],u=a,l=s,f=0,d=s.length;t.forEach((function(t){(i=q(t,!r))?(o||(o=new $(i),c.push(o)),o.textNodes.push(t),t===a&&(u=o.textNodes[0],f=u.length),t===s&&(l=o.textNodes[0],d=o.getLength())):o=null}));var h=U(s,!r);if(h&&(o||(o=new $(s),c.push(o)),o.textNodes.push(h)),c.length){for(var p=0,m=c.length;p<m;++p)c[p].doMerge(n);e.setStartAndEnd(u,f,l,d)}},t.prototype.createContainer=function(t){var n=e.dom.getDocument(t),r=a&&!e.dom.isHtmlNamespace(t)&&t.namespaceURI?n.createElementNS(t.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,r,!1),this.copyAttributesToElement(this.elementAttributes,r),f(r,this.className),this.onElementCreate&&this.onElementCreate(r,this),r},t.prototype.elementHasProperties=function(t,e){var n=this;return s(e,(function(e,r){if("className"==e)return y(t,r);if("object"==typeof r){if(!n.elementHasProperties(t[e],r))return!1}else if(t[e]!==r)return!1}))},t.prototype.elementHasAttributes=function(t,e){return s(e,(function(e,n){if(t.getAttribute(e)!==n)return!1}))},t.prototype.applyToTextNode=function(t,e){if(v(t)){var n=t.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))f(n,this.className);else{var r=t.parentNode,o=this.createContainer(r);r.insertBefore(o,t),o.appendChild(t)}}},t.prototype.isRemovable=function(t){return t.tagName.toLowerCase()==this.elementTagName&&m(t)==this.elementSortedClassName&&this.elementHasProperties(t,this.elementProperties)&&!x(t,this.attrExceptions)&&this.elementHasAttributes(t,this.elementAttributes)&&this.isModifiable(t)},t.prototype.isEmptyContainer=function(t){var e=t.childNodes.length;return 1==t.nodeType&&this.isRemovable(t)&&(0==e||1==e&&this.isEmptyContainer(t.firstChild))},t.prototype.removeEmptyContainers=function(t){var e=this,n=t.getNodes([1],(function(t){return e.isEmptyContainer(t)})),r=[t],o=B(r);n.forEach((function(t){_(t,o)})),M(r,o)},t.prototype.undoToTextNode=function(t,e,n,r){if(!e.containsNode(n)){var o=e.cloneRange();o.selectNode(n),o.isPointInRange(e.endContainer,e.endOffset)&&(W(n,e.endContainer,e.endOffset,r),e.setEndAfter(n)),o.isPointInRange(e.startContainer,e.startOffset)&&(n=W(n,e.startContainer,e.startOffset,r))}this.isRemovable(n)?C(n,r):d(n,this.className)},t.prototype.splitAncestorWithClass=function(t,e,n){var r=this.getSelfOrAncestorWithClass(t);r&&W(r,t,e,n)},t.prototype.undoToAncestor=function(t,e){this.isRemovable(t)?C(t,e):d(t,this.className)},t.prototype.applyToRange=function(t,e){var n=this,r=B((e=e||[])||[]);t.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(t);var o=N(t);if(o.length){o.forEach((function(t){n.isIgnorableWhiteSpaceNode(t)||n.getSelfOrAncestorWithClass(t)||!n.isModifiable(t)||n.applyToTextNode(t,r)}));var i=o[o.length-1];t.setStartAndEnd(o[0],0,i,i.length),n.normalize&&n.postApply(o,t,r,!1),M(e,r)}n.getEmptyElements(t).forEach((function(t){f(t,n.className)}))},t.prototype.applyToRanges=function(t){for(var e=t.length;e--;)this.applyToRange(t[e],t);return t},t.prototype.applyToSelection=function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},t.prototype.undoToRange=function(t,e){var n=this,r=B(e=e||[]);t.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(t);var o,i,a=N(t),s=a[a.length-1];if(a.length){n.splitAncestorWithClass(t.endContainer,t.endOffset,r),n.splitAncestorWithClass(t.startContainer,t.startOffset,r);for(var c=0,u=a.length;c<u;++c)o=a[c],(i=n.getSelfOrAncestorWithClass(o))&&n.isModifiable(o)&&n.undoToAncestor(i,r);t.setStartAndEnd(a[0],0,s,s.length),n.normalize&&n.postApply(a,t,r,!0),M(e,r)}n.getEmptyElements(t).forEach((function(t){d(t,n.className)}))},t.prototype.undoToRanges=function(t){for(var e=t.length;e--;)this.undoToRange(t[e],t);return t},t.prototype.undoToSelection=function(t){var n=e.getSelection(t),r=e.getSelection(t).getAllRanges();this.undoToRanges(r),n.setRanges(r)},t.prototype.isAppliedToRange=function(t){if(t.collapsed||""==t.toString())return!!this.getSelfOrAncestorWithClass(t.commonAncestorContainer);var e=t.getNodes([3]);if(e.length)for(var n,r=0;n=e[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&O(t,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},t.prototype.isAppliedToRanges=function(t){var e=t.length;if(0==e)return!1;for(;e--;)if(!this.isAppliedToRange(t[e]))return!1;return!0},t.prototype.isAppliedToSelection=function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},t.prototype.toggleRange=function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)},t.prototype.toggleSelection=function(t){this.isAppliedToSelection(t)?this.undoToSelection(t):this.applyToSelection(t)},t.prototype.getElementsWithClassIntersectingRange=function(t){var e=[],n=this;return t.getNodes([3],(function(t){var r=n.getSelfOrAncestorWithClass(t);r&&!e.includes(r)&&e.push(r)})),e},t.prototype.detach=function(){},t.util=Y,t}();function J(t,e,n){return new K(t,e,n)}t.ClassApplier=K,t.CssClassApplier=K,t.createClassApplier=J,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(535))},5007:function(t,e){!function(t){"use strict";var e=function(t){try{return!!t()}catch(t){return!0}},n={}.toString,r=function(t){return n.call(t).slice(8,-1)},o="".split,i=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object,a=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},s=function(t){return i(a(t))},c=Math.ceil,u=Math.floor,l=function(t){return isNaN(t=+t)?0:(t>0?u:c)(t)},f=Math.min,d=function(t){return t>0?f(l(t),9007199254740991):0},h=Math.max,p=Math.min,m=function(t,e){var n=l(t);return n<0?h(n+e,0):p(n,e)},g=function(t){return function(e,n,r){var o,i=s(e),a=d(i.length),c=m(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},y="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")(),v=!e((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),b={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,E={f:w&&!b.call({1:2},1)?function(t){var e=w(this,t);return!!e&&e.enumerable}:b},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=function(t){return"object"==typeof t?null!==t:"function"==typeof t},C=function(t,e){if(!S(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!S(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!S(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},O={}.hasOwnProperty,N=function(t,e){return O.call(t,e)},R=y.document,x=S(R)&&S(R.createElement),A=function(t){return x?R.createElement(t):{}},T=!v&&!e((function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,I={f:v?k:function(t,e){if(t=s(t),e=C(e,!0),T)try{return k(t,e)}catch(t){}if(N(t,e))return _(!E.f.call(t,e),t[e])}},j=function(t){if(!S(t))throw TypeError(String(t)+" is not an object");return t},L=Object.defineProperty,P={f:v?L:function(t,e,n){if(j(t),e=C(e,!0),j(n),T)try{return L(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},D=v?function(t,e,n){return P.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t};function B(t,e){return t(e={exports:{}},e.exports),e.exports}var M,H,W,z=function(t,e){try{D(y,t,e)}catch(n){y[t]=e}return e},F=B((function(t){var e="__core-js_shared__",n=y[e]||z(e,{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),q=F("native-function-to-string",Function.toString),U=y.WeakMap,$="function"==typeof U&&/native code/.test(q.call(U)),V=0,G=Math.random(),Y=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++V+G).toString(36))},K=F("keys"),J=function(t){return K[t]||(K[t]=Y(t))},Z={},Q=y.WeakMap,X=function(t){return W(t)?H(t):M(t,{})},tt=function(t){return function(e){var n;if(!S(e)||(n=H(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if($){var et=new Q,nt=et.get,rt=et.has,ot=et.set;M=function(t,e){return ot.call(et,t,e),e},H=function(t){return nt.call(et,t)||{}},W=function(t){return rt.call(et,t)}}else{var it=J("state");Z[it]=!0,M=function(t,e){return D(t,it,e),e},H=function(t){return N(t,it)?t[it]:{}},W=function(t){return N(t,it)}}var at={set:M,get:H,has:W,enforce:X,getterFor:tt},st=B((function(t){var e=at.get,n=at.enforce,r=String(q).split("toString");F("inspectSource",(function(t){return q.call(t)})),(t.exports=function(t,e,o,i){var a=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||N(o,"name")||D(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==y?(a?!c&&t[e]&&(s=!0):delete t[e],s?t[e]=o:D(t,e,o)):s?t[e]=o:z(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||q.call(this)}))})),ct=g(!1),ut=function(t,e){var n,r=s(t),o=0,i=[];for(n in r)!N(Z,n)&&N(r,n)&&i.push(n);for(;e.length>o;)N(r,n=e[o++])&&(~ct(i,n)||i.push(n));return i},lt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ft=lt.concat("length","prototype"),dt={f:Object.getOwnPropertyNames||function(t){return ut(t,ft)}},ht={f:Object.getOwnPropertySymbols},pt=y.Reflect,mt=pt&&pt.ownKeys||function(t){var e=dt.f(j(t)),n=ht.f;return n?e.concat(n(t)):e},gt=function(t,e){for(var n=mt(e),r=P.f,o=I.f,i=0;i<n.length;i++){var a=n[i];N(t,a)||r(t,a,o(e,a))}},yt=/#|\.prototype\./,vt=function(t,n){var r=wt[bt(t)];return r==_t||r!=Et&&("function"==typeof n?e(n):!!n)},bt=vt.normalize=function(t){return String(t).replace(yt,".").toLowerCase()},wt=vt.data={},Et=vt.NATIVE="N",_t=vt.POLYFILL="P",St=vt,Ct=I.f,Ot=function(t,e){var n,r,o,i,a,s=t.target,c=t.global,u=t.stat;if(n=c?y:u?y[s]||z(s,{}):(y[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Ct(n,r))&&a.value:n[r],!St(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;gt(i,o)}(t.sham||o&&o.sham)&&D(i,"sham",!0),st(n,r,i,t)}},Nt=!e((function(){return!String(Symbol())})),Rt=F("wks"),xt=y.Symbol,At=function(t){return Rt[t]||(Rt[t]=Nt&&xt[t]||(Nt?xt:Y)("Symbol."+t))},Tt=Object.keys||function(t){return ut(t,lt)},kt=v?Object.defineProperties:function(t,e){j(t);for(var n,r=Tt(e),o=r.length,i=0;o>i;)P.f(t,n=r[i++],e[n]);return t},It=y.document,jt=It&&It.documentElement,Lt=J("IE_PROTO"),Pt="prototype",Dt=function(){},Bt=function(){var t,e=A("iframe"),n=lt.length,r="<",o="script",i=">",a="java"+o+":";for(e.style.display="none",jt.appendChild(e),e.src=String(a),(t=e.contentWindow.document).open(),t.write(r+o+i+"document.F=Object"+r+"/"+o+i),t.close(),Bt=t.F;n--;)delete Bt[Pt][lt[n]];return Bt()},Mt=Object.create||function(t,e){var n;return null!==t?(Dt[Pt]=j(t),n=new Dt,Dt[Pt]=null,n[Lt]=t):n=Bt(),void 0===e?n:kt(n,e)};Z[Lt]=!0;var Ht=At("unscopables"),Wt=Array.prototype;null==Wt[Ht]&&D(Wt,Ht,Mt(null));var zt=function(t){Wt[Ht][t]=!0},Ft=g(!0);Ot({target:"Array",proto:!0},{includes:function(t){return Ft(this,t,arguments.length>1?arguments[1]:void 0)}}),zt("includes");var qt,Ut,$t=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Vt=function(t,e,n){if($t(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},Gt=Function.call,Yt=(qt="includes",Vt(Gt,y.Array.prototype[qt],Ut),function(t){return Object(a(t))}),Kt=Object.assign,Jt=!Kt||e((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Kt({},t)[n]||Tt(Kt({},e)).join("")!=r}))?function(t,e){for(var n=Yt(t),r=arguments.length,o=1,a=ht.f,s=E.f;r>o;)for(var c,u=i(arguments[o++]),l=a?Tt(u).concat(a(u)):Tt(u),f=l.length,d=0;f>d;)s.call(u,c=l[d++])&&(n[c]=u[c]);return n}:Kt;Ot({target:"Object",stat:!0,forced:Object.assign!==Jt},{assign:Jt}),y.Object.assign;var Zt="undefined",Qt="2.1.0",Xt=typeof window!=Zt&&typeof document!=Zt;Xt||console.log("Rangy can only run in a browser");var te={implementsDomRange:!0,implementsTextRange:!1,htmlParsingConforms:!0,crashyTextNodes:!1,implementsWinGetSelection:!0,implementsDocSelection:!1,selectionSupportsMultipleRanges:!1,implementsControlRange:!1},ee={preferTextRange:!1,checkSelectionRanges:!0};function ne(t){if(Xt)if("complete"==document.readyState)t();else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}}function re(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function oe(t,e){return!("object"!=typeof t[e]||!t[e])}function ie(t,e){return void 0!==t[e]}function ae(t){return function(e,n){for(var r=n.length;r--;)if(!t(e,n[r]))return!1;return!0}}var se=ae(re),ce=ae(oe),ue=ae(ie);function le(t){return oe(t,"body")?t.body:t.getElementsByTagName("body")[0]}var fe=Object.freeze({isHostMethod:re,isHostObject:oe,isHostProperty:ie,areHostMethods:se,areHostObjects:ce,areHostProperties:ue,getBody:le}),de=function(){function t(t,e){this.name=t,this.dependencies=e}return t.prototype.fail=function(t){throw console.log("Module '"+this.name+"' failed to load: "+t),new Error(t)},t.prototype.warn=function(t){console.log("Module "+this.name+": "+t)},t.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},t}();function he(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}he.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},he.prototype.toString=function(){return this.message};var pe,me=new de("DomUtil",[]),ge="undefined";function ye(t){var e;return typeof t.namespaceURI==ge||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function ve(t){var e=t.parentNode;return 1==e.nodeType?e:null}function be(t){for(var e=0;t=t.previousSibling;)++e;return e}function we(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function Ee(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(r.includes(n))return n;return null}function _e(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function Se(t,e){return _e(t,e,!0)}function Ce(t,e,n){for(var r,o=n?t:t.parentNode;o;){if((r=o.parentNode)===e)return o;o=r}return null}function Oe(t){var e=t.nodeType;return 3==e||4==e||8==e}function Ne(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function Re(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function xe(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),Re(r,t),n)for(var o,i=0;o=n[i++];)o.node==t&&o.offset>e?(o.node=r,o.offset-=e):o.node==t.parentNode&&o.offset>be(t)&&++o.offset;return r}function Ae(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=ge)return t.ownerDocument;if(typeof t.document!=ge)return t.document;if(t.parentNode)return Ae(t.parentNode);throw me.createError("getDocument: no document found for node")}function Te(t){var e=Ae(t);if(typeof e.defaultView!=ge)return e.defaultView;if(typeof e.parentWindow!=ge)return e.parentWindow;throw me.createError("Cannot get a window object for node")}function ke(t){if(typeof t.contentDocument!=ge)return t.contentDocument;if(typeof t.contentWindow!=ge)return t.contentWindow.document;throw me.createError("getIframeDocument: No Document object found for iframe element")}function Ie(t){if(typeof t.contentWindow!=ge)return t.contentWindow;if(typeof t.contentDocument!=ge)return t.contentDocument.defaultView;throw me.createError("getIframeWindow: No Window object found for iframe element")}function je(t){return t&&re(t,"setTimeout")&&oe(t,"document")}function Le(t){return 1==t.nodeType&&"iframe"==t.tagName.toLowerCase()}function Pe(t,e,n){var r;if(t?ie(t,"nodeType")?r=Le(t)?ke(t):Ae(t):je(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r}function De(t){for(var e;e=t.parentNode;)t=e;return t}function Be(t,e,n,r){var o,i,a,s,c;if(t==n)return e===r?0:e<r?-1:1;if(o=Ce(n,t,!0))return e<=be(o)?-1:1;if(o=Ce(t,n,!0))return be(o)<r?-1:1;if(!(i=Ee(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((a=t===i?i:Ce(t,i,!0))===(s=n===i?i:Ce(n,i,!0)))throw me.createError("comparePoints got to case 4 and childA and childB are the same!");for(c=i.firstChild;c;){if(c===a)return-1;if(c===s)return 1;c=c.nextSibling}}function Me(t){if(!t)return"[No node]";if(Oe(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+be(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function He(t){for(var e,n=Ae(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}se(document,["createDocumentFragment","createElement","createTextNode"])||me.fail("document missing a Node creation method"),re(document,"getElementsByTagName")||me.fail("document missing getElementsByTagName method"),typeof window.getComputedStyle!=ge?pe=function(t,e){return Te(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=ge?pe=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:me.fail("No means of obtaining computed style properties found");var We=pe;function ze(t,e,n){var r=le(t),o=t.createElement("div");o.contentEditable=""+!!n,e&&(o.innerHTML=e);var i=r.firstChild;return i?r.insertBefore(o,i):r.appendChild(o),o}function Fe(t){return t.parentNode.removeChild(t)}var qe=function(){function t(t){this.root=t,this._next=t}return t.prototype.hasNext=function(){return!!this._next},t.prototype.next=function(){var e,n,r=t._current=this._next;if(t._current)if(e=r.firstChild)this._next=e;else{for(n=null;r!==this.root&&!(n=r.nextSibling);)r=r.parentNode;this._next=n}return t._current},t.prototype.detach=function(){t._current=this._next=this.root=null},t._current=null,t}();function Ue(t){return new qe(t)}var $e=function(){function t(t,e){this.node=t,this.offset=e}return t.prototype.equals=function(t){return!!t&&this.node===t.node&&this.offset==t.offset},t.prototype.inspect=function(){return"[DomPosition("+Me(this.node)+":"+this.offset+")]"},t.prototype.toString=function(){return this.inspect()},t}(),Ve=Object.freeze({getBody:le,isHtmlNamespace:ye,parentElement:ve,getNodeIndex:be,getNodeLength:we,getCommonAncestor:Ee,isAncestorOf:_e,isOrIsAncestorOf:Se,getClosestAncestorIn:Ce,isCharacterDataNode:Oe,isTextOrCommentNode:Ne,insertAfter:Re,splitDataNode:xe,getDocument:Ae,getWindow:Te,getIframeDocument:ke,getIframeWindow:Ie,isWindow:je,getContentDocument:Pe,getRootContainer:De,comparePoints:Be,inspectNode:Me,fragmentFromNodeChildren:He,getComputedStyleProperty:We,createTestElement:ze,removeNode:Fe,NodeIterator:qe,createIterator:Ue,DomPosition:$e}),Ge=function(t,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ge(t,e)};function Ye(t,e){function n(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Ke(t,e){return 3!=t.nodeType&&(Se(t,e.startContainer)||Se(t,e.endContainer))}var Je=[1,3,4,5,7,8,10],Ze=[2,9,11],Qe=[5,6,10,12],Xe=[1,3,4,5,7,8,10,11],tn=[1,3,4,5,7,8];function en(t){return function(e,n){for(var r,o=n?e:e.parentNode;o;){if(r=o.nodeType,t.includes(r))return o;o=o.parentNode}return null}}var nn=en([9,11]),rn=en(Qe),on=en([6,10,12]),an=en([1]);function sn(t,e){if(on(t,e))throw new he("INVALID_NODE_TYPE_ERR")}function cn(t,e){if(!e.includes(t.nodeType))throw new he("INVALID_NODE_TYPE_ERR")}function un(t,e){if(e<0||e>(Oe(t)?t.length:t.childNodes.length))throw new he("INDEX_SIZE_ERR")}function ln(t,e){if(nn(t,!0)!==nn(e,!0))throw new he("WRONG_DOCUMENT_ERR")}function fn(t){if(rn(t,!0))throw new he("NO_MODIFICATION_ALLOWED_ERR")}function dn(t,e){if(!t)throw new he(e)}function hn(t,e){return e<=(Oe(t)?t.length:t.childNodes.length)}function pn(t){return!!t.startContainer&&!!t.endContainer&&De(t.startContainer)==De(t.endContainer)&&hn(t.startContainer,t.startOffset)&&hn(t.endContainer,t.endOffset)}function mn(t){if(!pn(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function gn(t){return t.document||Ae(t.startContainer)}function yn(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:Ee(t.startContainer,t.endContainer)}function vn(t,e,n,r,o){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=o,t.document=Ae(e),yn(t)}var bn=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],wn=function(){function t(){}return t}(),En=function(t){function e(e){var n=t.call(this)||this;return vn(n,e,0,e,0),n}return Ye(e,t),e}(wn),_n=function(){function t(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,this._current=null,this._next=null,this._first=null,this._last=null,this.isSingleCharacterDataNode=!1,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&Oe(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||Oe(this.sc)?Ce(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||Oe(this.ec)?Ce(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}return t.prototype.reset=function(){this._current=null,this._next=this._first},t.prototype.hasNext=function(){return!!this._next},t.prototype.detach=function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null},t.prototype.next=function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,Oe(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},t.prototype.remove=function(){var t,e,n=this._current;!Oe(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Fe(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},t.prototype.isPartiallySelectedSubtree=function(){return Ke(this._current,this.range)},t.prototype.getSubtreeIterator=function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new Zn(gn(this.range));var n=this._current,r=n,o=0,i=n,a=we(n);Se(n,this.sc)&&(r=this.sc,o=this.so),Se(n,this.ec)&&(i=this.ec,a=this.eo),vn(e,r,o,i,a)}return new t(e,this.clonePartiallySelectedTextNodes)},t}();function Sn(t){for(var e,n,r,o=gn(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(r=t.getSubtreeIterator(),n.appendChild(Sn(r)),r.detach()),10==n.nodeType)throw new he("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function Cn(t,e,n){var r,o,i,a;for(void 0===n&&(n={stop:!1});i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i))return void(n.stop=!0);if(Cn(a=t.getSubtreeIterator(),e,n),a.detach(),n.stop)return}else for(r=Ue(i);o=r.next();)if(!1===e(o))return void(n.stop=!0)}function On(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(On(e=t.getSubtreeIterator()),e.detach()):t.remove()}function Nn(t){for(var e,n,r=gn(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(Nn(n)),n.detach()):t.remove(),10==e.nodeType)throw new he("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function Rn(t){return De(t.startContainer)}function xn(t,e,n){var r=11==t.nodeType?t.firstChild:t;return Oe(e)?n==e.length?Re(t,e):e.parentNode.insertBefore(t,0==n?e:xe(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function An(t,e,n){if(mn(t),mn(e),gn(e)!=gn(t))throw new he("WRONG_DOCUMENT_ERR");var r=Be(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=Be(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?r<=0&&o>=0:r<0&&o>0}function Tn(t,e,n){var r,o=!(!e||!e.length),i=!!n;o&&(r=new RegExp("^("+e.join("|")+")$"));var a=[];return Cn(new _n(t,!1),(function(e){if((!o||r.test(e.nodeType.toString()))&&(!i||n(e))){var s=t.startContainer;if(e!=s||!Oe(s)||t.startOffset!=s.length){var c=t.endContainer;e==c&&Oe(c)&&0==t.endOffset||a.push(e)}}})),a}function kn(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+Me(t.startContainer)+":"+t.startOffset+", "+Me(t.endContainer)+":"+t.endOffset+")]"}function In(t){mn(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}var jn=0,Ln=1,Pn=3,Dn=0,Bn=1,Mn=2,Hn=3,Wn={START_TO_START:jn,START_TO_END:Ln,END_TO_END:2,END_TO_START:Pn,NODE_BEFORE:Dn,NODE_AFTER:Bn,NODE_BEFORE_AND_AFTER:Mn,NODE_INSIDE:Hn};function zn(t){Object.assign(t,Wn),Object.assign(t.prototype,Wn)}function Fn(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ye(e,t),e.prototype.compareBoundaryPoints=function(t,e){mn(this),ln(this.startContainer,e.startContainer);var n=t==Pn||t==jn?"start":"end",r=t==Ln||t==jn?"start":"end";return Be(this[n+"Container"],this[n+"Offset"],e[r+"Container"],e[r+"Offset"])},e.prototype.insertNode=function(t){if(mn(this),cn(t,Xe),fn(this.startContainer),Se(t,this.startContainer))throw new he("HIERARCHY_REQUEST_ERR");var e=xn(t,this.startContainer,this.startOffset);this.setStartBefore(e)},e.prototype.cloneContents=function(){var t,e;if(mn(this),this.collapsed)return gn(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Oe(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=gn(this).createDocumentFragment()).appendChild(t),e;var n=new _n(this,!0);return t=Sn(n),n.detach(),t},e.prototype.canSurroundContents=function(){mn(this),fn(this.startContainer),fn(this.endContainer);var t=new _n(this,!0),e=t._first&&Ke(t._first,this)||t._last&&Ke(t._last,this);return t.detach(),!e},e.prototype.surroundContents=function(t){if(cn(t,tn),!this.canSurroundContents())throw new he("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);xn(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},e.prototype.cloneRange=function(){mn(this);for(var t=new Zn(gn(this)),e=0,n=bn;e<n.length;e++){var r=n[e];t[r]=this[r]}return t},e.prototype.toString=function(){mn(this);var t=this.startContainer;if(t===this.endContainer&&Oe(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new _n(this,!0);return Cn(n,(function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)})),n.detach(),e.join("")},e.prototype.compareNode=function(t){mn(this);var e=t.parentNode,n=be(t);if(!e)throw new he("NOT_FOUND_ERR");var r=this.comparePoint(e,n),o=this.comparePoint(e,n+1);return r<0?o>0?Mn:Dn:o>0?Bn:Hn},e.prototype.comparePoint=function(t,e){return mn(this),dn(t,"HIERARCHY_REQUEST_ERR"),ln(t,this.startContainer),Be(t,e,this.startContainer,this.startOffset)<0?-1:Be(t,e,this.endContainer,this.endOffset)>0?1:0},e.prototype.createContextualFragment=function(t){var e=this.startContainer,n=Ae(e);if(!e)throw new he("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:Oe(e)&&(r=ve(e)),(r=null===r||"HTML"==r.nodeName&&ye(Ae(r).documentElement)&&ye(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=t,He(r)},e.prototype.toHtml=function(){return In(this)},e.prototype.intersectsNode=function(t,e){if(mn(this),De(t)!=Rn(this))return!1;var n=t.parentNode,r=be(t);if(!n)return!0;var o=Be(n,r,this.endContainer,this.endOffset),i=Be(n,r+1,this.startContainer,this.startOffset);return e?o<=0&&i>=0:o<0&&i>0},e.prototype.isPointInRange=function(t,e){return mn(this),dn(t,"HIERARCHY_REQUEST_ERR"),ln(t,this.startContainer),Be(t,e,this.startContainer,this.startOffset)>=0&&Be(t,e,this.endContainer,this.endOffset)<=0},e.prototype.intersectsRange=function(t){return An(this,t,!1)},e.prototype.intersectsOrTouchesRange=function(t){return An(this,t,!0)},e.prototype.intersection=function(t){if(this.intersectsRange(t)){var e=Be(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=Be(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},e.prototype.union=function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==Be(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==Be(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new he("Ranges do not intersect")},e.prototype.containsNode=function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==Hn},e.prototype.containsNodeContents=function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,we(t))<=0},e.prototype.containsRange=function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},e.prototype.containsNodeText=function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},e.prototype.getNodes=function(t,e){return mn(this),Tn(this,t,e)},e.prototype.getDocument=function(){return gn(this)},e.prototype.collapseBefore=function(t){this.setEndBefore(t),this.collapse(!1)},e.prototype.collapseAfter=function(t){this.setStartAfter(t),this.collapse(!0)},e.prototype.getBookmark=function(t){var e=gn(this),n=ir(e);t=t||le(e),n.selectNodeContents(t);var r=this.intersection(n),o=0,i=0;return r&&(n.setEnd(r.startContainer,r.startOffset),i=(o=n.toString().length)+r.toString().length),{start:o,end:i,containerNode:t}},e.prototype.moveToBookmark=function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,o,i,a,s=[e],c=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!c&&t.start>=n&&t.start<=o&&(this.setStart(r,t.start-n),c=!0),c&&t.end>=n&&t.end<=o&&(this.setEnd(r,t.end-n),u=!0),n=o;else for(i=(a=r.childNodes).length;i--;)s.push(a[i])},e.prototype.getName=function(){return"DomRange"},e.prototype.equals=function(t){return qn(this,t)},e.prototype.isValid=function(){return pn(this)},e.prototype.inspect=function(){return kn(this)},e.prototype.detach=function(){},e.prototype.select=function(t){Ir(this.getDocument()).setSingleRange(this,t)},e}(t)}function qn(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}var Un=new de("DomRange",["DomUtil"]);function $n(t){return new $e(t.parentNode,be(t))}function Vn(t){return new $e(t.parentNode,be(t)+1)}function Gn(t,e){mn(t);var n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=n===o;Oe(o)&&i>0&&i<o.length&&xe(o,i,e),Oe(n)&&r>0&&r<n.length&&(n=xe(n,r,e),a?(i-=r,o=n):o==n.parentNode&&i>=be(n)&&i++,r=0),t.setStartAndEnd(n,r,o,i)}function Yn(t,e){return function(){mn(this);var n,r=this.startContainer,o=this.startOffset,i=this.commonAncestorContainer,a=new _n(this,!0);r!==i&&(r=(n=Vn(Ce(r,i,!0))).node,o=n.offset),Cn(a,fn),a.reset();var s=t(a);return a.detach(),e(this,r,o,r,o),s}}function Kn(t,e){function n(t,e){return function(n){cn(n,Je),cn(De(n),Ze);var i=(t?$n:Vn)(n);(e?r:o)(this,i.node,i.offset)}}function r(t,n,r){var o=t.endContainer,i=t.endOffset;n===t.startContainer&&r===t.startOffset||(De(n)==De(o)&&1!=Be(n,r,o,i)||(o=n,i=r),e(t,n,r,o,i))}function o(t,n,r){var o=t.startContainer,i=t.startOffset;n===t.endContainer&&r===t.endOffset||(De(n)==De(o)&&-1!=Be(n,r,o,i)||(o=n,i=r),e(t,o,i,n,r))}return function(t){function i(){var r=null!==t&&t.apply(this,arguments)||this;return r.setStartBefore=n(!0,!0),r.setStartAfter=n(!1,!0),r.setEndBefore=n(!0,!1),r.setEndAfter=n(!1,!1),r.extractContents=Yn(Nn,e),r.deleteContents=Yn(On,e),r}return Ye(i,t),i.prototype.setStart=function(t,e){sn(t,!0),un(t,e),r(this,t,e)},i.prototype.setEnd=function(t,e){sn(t,!0),un(t,e),o(this,t,e)},i.prototype.setStartAndEnd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=r,a=o;switch(t.length){case 3:a=t[2];break;case 4:i=t[2],a=t[3]}sn(r,!0),un(r,o),sn(i,!0),un(i,a),e(this,r,o,i,a)},i.prototype.setBoundary=function(t,e,n){this["set"+(n?"Start":"End")](t,e)},i.prototype.collapse=function(t){mn(this),t?e(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):e(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},i.prototype.selectNodeContents=function(t){sn(t,!0),e(this,t,0,t,we(t))},i.prototype.selectNode=function(t){sn(t,!1),cn(t,Je);var n=$n(t),r=Vn(t);e(this,n.node,n.offset,r.node,r.offset)},i.prototype.splitBoundaries=function(){Gn(this)},i.prototype.splitBoundariesPreservingPositions=function(t){Gn(this,t)},i.prototype.normalizeBoundaries=function(){mn(this);var t,n=this.startContainer,r=this.startOffset,o=this.endContainer,i=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(o=t,i=t.length,t.appendData(e.data),Fe(e))},s=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){n=t;var a=t.length;if(r=e.length,t.insertData(0,e.data),Fe(e),n==o)i+=r,o=n;else if(o==t.parentNode){var s=be(t);i==s?(o=t,i=a):i>s&&i--}}},c=!0;if(Oe(o))i==o.length?a(o):0==i&&(t=o.previousSibling)&&t.nodeType==o.nodeType&&(i=t.length,n==o&&(c=!1),t.appendData(o.data),Fe(o),o=t);else{if(i>0){var u=o.childNodes[i-1];u&&Oe(u)&&a(u)}c=!this.collapsed}if(c){if(Oe(n))0==r?s(n):r==n.length&&(t=n.nextSibling)&&t.nodeType==n.nodeType&&(o==t&&(o=n,i+=n.length),n.appendData(t.data),Fe(t));else if(r<n.childNodes.length){var l=n.childNodes[r];l&&Oe(l)&&s(l)}}else n=o,r=i;e(this,n,r,o,i)},i.prototype.collapseToPoint=function(t,e){sn(t,!0),un(t,e),this.setStartAndEnd(t,e)},i.prototype.parentElement=function(){return mn(this),an(this.commonAncestorContainer,!0)},i}(t)}function Jn(t,e){var n=Fn(t);Object.assign(n.prototype,Wn);var r=Kn(n,e);return Object.assign(r,Wn)}var Zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ye(e,t),e.inspect=kn,e.toHtml=In,e.getRangeDocument=gn,e.rangesEqual=qn,e}(Jn(En,vn));function Qn(t){return t=Pe(t,Un,"createRangyRange"),new Zn(t)}Object.assign(Zn,{rangeProperties:bn,RangeIterator:_n,copyComparisonConstants:zn,createPrototypeRange:Jn});var Xn=new de("WrappedRange",["DomRange"]);function tr(t){for(var e=0,n=bn;e<n.length;e++){var r=n[e];t[r]=t.nativeRange[r]}t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function er(t,e,n,r,o){var i=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==r||t.endOffset!=o,s=!t.equals(t.nativeRange);(i||a||s)&&(t.setEnd(r,o),t.setStart(e,n))}var nr=function(t){function e(n){var r=t.call(this)||this;if(r.nativeRange=n,r.setStartBefore=e.createBeforeAfterNodeSetter("setStartBefore"),r.setStartAfter=e.createBeforeAfterNodeSetter("setStartAfter"),r.setEndBefore=e.createBeforeAfterNodeSetter("setEndBefore"),r.setEndAfter=e.createBeforeAfterNodeSetter("setEndAfter"),!n)throw Xn.createError("WrappedRange: Range must be specified");return tr(r),r}return Ye(e,t),e.prototype.selectNode=function(t){this.nativeRange.selectNode(t),tr(this)},e.prototype.cloneContents=function(){return this.nativeRange.cloneContents()},e.prototype.surroundContents=function(t){this.nativeRange.surroundContents(t),tr(this)},e.prototype.collapse=function(t){this.nativeRange.collapse(t),tr(this)},e.prototype.cloneRange=function(){return new e(this.nativeRange.cloneRange())},e.prototype.refresh=function(){tr(this)},e.prototype.toString=function(){return this.nativeRange.toString()},e.prototype.setStart=function(t,e){this.nativeRange.setStart(t,e),tr(this)},e.prototype.setEnd=function(t,e){this.nativeRange.setEnd(t,e),tr(this)},e.createBeforeAfterNodeSetter=function(t){return function(e){this.nativeRange[t](e),tr(this)}},e.prototype.selectNodeContents=function(t){this.setStartAndEnd(t,0,we(t))},e.prototype.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},e.prototype.getName=function(){return"WrappedRange"},e}(Jn(wn,er));function rr(){var t=document.createTextNode("test");le(document).appendChild(t);var e=document.createRange(),n=document.createElement("div");n.innerHTML="123";var r=n.firstChild,o=le(document);o.appendChild(n),e.setStart(r,1),e.setEnd(r,2),e.deleteContents();var i=nr.prototype;"13"==r.data&&(i.deleteContents=function(){this.nativeRange.deleteContents(),tr(this)},i.extractContents=function(){var t=this.nativeRange.extractContents();return tr(this),t}),o.removeChild(n),re(e,"createContextualFragment")&&(i.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),o.removeChild(t),o=null}function or(t){return(t=Pe(t,Xn,"createNativeRange")).createRange()}function ir(t){return t=Pe(t,Xn,"createRange"),new nr(or(t))}function ar(t){t||(t=window);var e=t.document;void 0===e.createRange&&(e.createRange=function(){return ir(e)})}ne(rr);var sr=new de("WrappedSelection",["DomRange","WrappedRange"]),cr="boolean",ur="number";function lr(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function fr(t,e){return t?je(t)?t:t instanceof Pr?t.win:Te(Pe(t,sr,e)):window}function dr(t){return fr(t,"getWinSelection").getSelection()}function hr(t){var e=!1;return t.anchorNode&&(e=1==Be(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}var pr=hr;function mr(){return!0}var gr=dr();gr||sr.fail("Native selection was null (possibly issue 138?)");var yr,vr=or(document),br=te.selectionHasAnchorAndFocus=ue(gr,["anchorNode","focusNode","anchorOffset","focusOffset"]),wr=te.selectionHasExtend=re(gr,"extend"),Er=te.selectionHasRangeCount=typeof gr.rangeCount==ur,_r=wr?function(t,e){var n=ir(Zn.getRangeDocument(e));n.collapseToPoint(e.endContainer,e.endOffset),t.addRange(Rr(n)),t.extend(e.startContainer,e.startOffset)}:null,Sr=br?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};function Cr(t,e,n){var r=n?"end":"start",o=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function Or(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function Nr(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function Rr(t){var e;return t instanceof Zn?((e=or(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof nr?e=t.nativeRange:t instanceof Range&&(e=t),e}function xr(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}re(gr,"getRangeAt")?yr=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:br&&(yr=function(t){var e=ir(Ae(t.anchorNode));return e.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),e.collapsed!==this.isCollapsed&&e.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),e});var Ar,Tr=[];function kr(t,e){for(var n,r,o=Tr.length;o--;)if(r=(n=Tr[o]).selection,"deleteAll"==e)xr(r);else if(n.win==t)return"delete"==e?(Tr.splice(o,1),!0):r;return"deleteAll"==e&&(Tr.length=0),null}function Ir(t){if(t&&t instanceof Pr)return t.refresh(),t;var e=kr(t=fr(t,"getNativeSelection")),n=dr(t);return e?(e.nativeSelection=n,e.refresh()):(e=new Pr(n,t),Tr.push({win:t,selection:e})),e}re(gr,"getRangeAt")&&typeof gr.rangeCount==ur?Ar=function(t){if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new nr(t.nativeSelection.getRangeAt(e));Cr(t,t._ranges[t.rangeCount-1],pr(t.nativeSelection)),t.isCollapsed=Sr(t)}else Nr(t)}:br&&typeof gr.isCollapsed==cr&&typeof vr.collapsed==cr&&te.implementsDomRange?Ar=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=yr(n,0),t._ranges=[e],t.rangeCount=1,Or(t),t.isCollapsed=Sr(t)):Nr(t)}:sr.fail("No means of obtaining a Range or TextRange from the user's selection was found");var jr=function(){function t(t,e){this.nativeSelection=t,this.win=e,this._ranges=[],3==arguments.length&&(this.win=arguments[2]),this.refresh()}return t}();function Lr(t){var e;function n(t,e){_r(t.nativeSelection,e),t.refresh()}var r=Er?function(t,e){if(lr(e)&&wr)n(this,t);else{var r;te.selectionSupportsMultipleRanges?r=this.rangeCount:(this.removeAllRanges(),r=0);var o=Rr(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(ee.checkSelectionRanges){var i=yr(this.nativeSelection,this.rangeCount-1);i&&!qn(i,t)&&(t=new nr(i))}this._ranges[this.rangeCount-1]=t,Cr(this,t,pr(this.nativeSelection)),this.isCollapsed=Sr(this)}else this.refresh()}}:function(t,e){lr(e)&&wr?n(this,t):(this.nativeSelection.addRange(Rr(t)),this.refresh())};function o(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,o=n.length;r<o;++r)qn(e,n[r])||t.addRange(n[r]);t.rangeCount||Nr(t)}function i(t,e){if(t.win.document!=Ae(e))throw new he("WRONG_DOCUMENT_ERR")}function a(t){return function(e,n){var r;this.rangeCount?(r=this.getRangeAt(0))["set"+(t?"Start":"End")](e,n):(r=ir(this.win.document)).setStartAndEnd(e,n),this.setSingleRange(r,this.isBackward())}}return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addRange=r,e.isBackwards=e.isBackward,e.setStart=a(!0),e.setEnd=a(!1),e}return Ye(e,t),e.prototype.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),Nr(this)},e.prototype.setRanges=function(t){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])},e.prototype.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new he("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},e.prototype.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(Ar(this),t){var o=e.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!qn(e[o],this._ranges[o]))return!0;return!1}},e.prototype.removeRange=function(t){o(this,t)},e.prototype.isBackward=function(){return pr(this)},e.prototype.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},e.prototype.collapse=function(t,e){i(this,t);var n=ir(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},e.prototype.collapseToStart=function(){if(!this.rangeCount)throw new he("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},e.prototype.collapseToEnd=function(){if(!this.rangeCount)throw new he("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},e.prototype.selectAllChildren=function(t){i(this,t);var e=ir(t);e.selectNodeContents(t),this.setSingleRange(e)},e.prototype.deleteFromDocument=function(){if(this.rangeCount){var t=this.getAllRanges();if(t.length){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)t[e].deleteContents();this.addRange(t[n-1])}}},e.prototype.eachRange=function(t,e){for(var n=0,r=this._ranges.length;n<r;++n)if(t(this.getRangeAt(n)))return e},e.prototype.getAllRanges=function(){var t=[];return this.eachRange((function(e){t.push(e)})),t},e.prototype.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},e.prototype.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange((function(r){n.push(r[t].apply(r,e||[]))})),n},e.prototype.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange((function(n){t(n),e.push(n)})),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},e.prototype.containsNode=function(t,e){return this.eachRange((function(n){return n.containsNode(t,e)}),!0)||!1},e.prototype.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},e.prototype.moveToBookmark=function(t){for(var e,n,r=[],o=0;e=t.rangeBookmarks[o++];)(n=ir(this.win)).moveToBookmark(e),r.push(n);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},e.prototype.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},e.prototype.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},e.prototype.toHtml=function(){var t=[];return this.eachRange((function(e){t.push(Zn.toHtml(e))})),t.join("")},e.inspect=function(t){var e=[],n=new $e(t.anchorNode,t.anchorOffset),r=new $e(t.focusNode,t.focusOffset),o="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var i=0,a=t.rangeCount;i<a;++i)e[i]=Zn.inspect(t.getRangeAt(i));return"["+o+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"},e.prototype.getName=function(){return"WrappedSelection"},e.prototype.inspect=function(){return e.inspect(this)},e.prototype.detach=function(){kr(this.win,"delete"),xr(this)},e.detachAll=function(){kr(null,"deleteAll")},e}(t),e.isDirectionBackward=lr,e}var Pr=Lr(jr),Dr=Pr;function Br(t){t||(t=window),void 0===t.getSelection&&(t.getSelection=function(){return Ir(t)})}function Mr(t){ar(t=t||window),Br(t)}t.DOMException=he,t.DomRange=Zn,t.Module=de,t.RangeBase=wn,t.Selection=Dr,t.WrappedRange=nr,t.WrappedSelection=Pr,t.config=ee,t.createNativeRange=or,t.createPrototypeRange=Jn,t.createRange=ir,t.createRangyRange=Qn,t.dom=Ve,t.features=te,t.getNativeSelection=dr,t.getRangeDocument=gn,t.getSelection=Ir,t.isBrowser=Xt,t.isSelectionValid=mr,t.onDocReady=ne,t.rangesEqual=qn,t.shim=Mr,t.shimCreateRange=ar,t.shimGetSelection=Br,t.util=fe,t.version=Qt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},535:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DOMException:()=>w,DomRange:()=>Ft,Module:()=>b,RangeBase:()=>_t,Selection:()=>Ee,WrappedRange:()=>Vt,WrappedSelection:()=>we,config:()=>u,createNativeRange:()=>Gt,createPrototypeRange:()=>zt,createRange:()=>Yt,createRangyRange:()=>qt,dom:()=>o,features:()=>c,getNativeSelection:()=>ee,getRangeDocument:()=>bt,getSelection:()=>be,isBrowser:()=>s,isSelectionValid:()=>re,onDocReady:()=>l,rangesEqual:()=>Pt,shim:()=>Se,shimCreateRange:()=>Kt,shimGetSelection:()=>_e,util:()=>r,version:()=>a});var r={};n.r(r),n.d(r,{areHostMethods:()=>m,areHostObjects:()=>g,areHostProperties:()=>y,getBody:()=>v,isHostMethod:()=>f,isHostObject:()=>d,isHostProperty:()=>h});var o={};n.r(o),n.d(o,{DomPosition:()=>Z,NodeIterator:()=>K,comparePoints:()=>q,createIterator:()=>J,createTestElement:()=>G,fragmentFromNodeChildren:()=>$,getBody:()=>v,getClosestAncestorIn:()=>k,getCommonAncestor:()=>x,getComputedStyleProperty:()=>V,getContentDocument:()=>z,getDocument:()=>D,getIframeDocument:()=>M,getIframeWindow:()=>H,getNodeIndex:()=>N,getNodeLength:()=>R,getRootContainer:()=>F,getWindow:()=>B,insertAfter:()=>L,inspectNode:()=>U,isAncestorOf:()=>A,isCharacterDataNode:()=>I,isHtmlNamespace:()=>C,isOrIsAncestorOf:()=>T,isTextOrCommentNode:()=>j,isWindow:()=>W,parentElement:()=>O,removeNode:()=>Y,splitDataNode:()=>P});n(4577),n(7671);var i="undefined",a="%%build:version%%",s=typeof window!=i&&typeof document!=i;s||console.log("Rangy can only run in a browser");var c={implementsDomRange:!0,implementsTextRange:!1,htmlParsingConforms:!0,crashyTextNodes:!1,implementsWinGetSelection:!0,implementsDocSelection:!1,selectionSupportsMultipleRanges:!1,implementsControlRange:!1},u={preferTextRange:!1,checkSelectionRanges:!0};function l(t){if(s)if("complete"==document.readyState)t();else{var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)}}function f(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function d(t,e){return!("object"!=typeof t[e]||!t[e])}function h(t,e){return void 0!==t[e]}function p(t){return function(e,n){for(var r=n.length;r--;)if(!t(e,n[r]))return!1;return!0}}var m=p(f),g=p(d),y=p(h);function v(t){return d(t,"body")?t.body:t.getElementsByTagName("body")[0]}var b=function(){function t(t,e){this.name=t,this.dependencies=e}return t.prototype.fail=function(t){throw console.log("Module '"+this.name+"' failed to load: "+t),new Error(t)},t.prototype.warn=function(t){console.log("Module "+this.name+": "+t)},t.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},t}();function w(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}w.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},w.prototype.toString=function(){return this.message};var E,_=new b("DomUtil",[]),S="undefined";function C(t){var e;return typeof t.namespaceURI==S||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function O(t){var e=t.parentNode;return 1==e.nodeType?e:null}function N(t){for(var e=0;t=t.previousSibling;)++e;return e}function R(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function x(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(r.includes(n))return n;return null}function A(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function T(t,e){return A(t,e,!0)}function k(t,e,n){for(var r,o=n?t:t.parentNode;o;){if((r=o.parentNode)===e)return o;o=r}return null}function I(t){var e=t.nodeType;return 3==e||4==e||8==e}function j(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function L(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function P(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),L(r,t),n)for(var o,i=0;o=n[i++];)o.node==t&&o.offset>e?(o.node=r,o.offset-=e):o.node==t.parentNode&&o.offset>N(t)&&++o.offset;return r}function D(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=S)return t.ownerDocument;if(typeof t.document!=S)return t.document;if(t.parentNode)return D(t.parentNode);throw _.createError("getDocument: no document found for node")}function B(t){var e=D(t);if(typeof e.defaultView!=S)return e.defaultView;if(typeof e.parentWindow!=S)return e.parentWindow;throw _.createError("Cannot get a window object for node")}function M(t){if(typeof t.contentDocument!=S)return t.contentDocument;if(typeof t.contentWindow!=S)return t.contentWindow.document;throw _.createError("getIframeDocument: No Document object found for iframe element")}function H(t){if(typeof t.contentWindow!=S)return t.contentWindow;if(typeof t.contentDocument!=S)return t.contentDocument.defaultView;throw _.createError("getIframeWindow: No Window object found for iframe element")}function W(t){return t&&f(t,"setTimeout")&&d(t,"document")}function z(t,e,n){var r,o;if(t?h(t,"nodeType")?r=1==(o=t).nodeType&&"iframe"==o.tagName.toLowerCase()?M(t):D(t):W(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r}function F(t){for(var e;e=t.parentNode;)t=e;return t}function q(t,e,n,r){var o,i,a,s,c;if(t==n)return e===r?0:e<r?-1:1;if(o=k(n,t,!0))return e<=N(o)?-1:1;if(o=k(t,n,!0))return N(o)<r?-1:1;if(!(i=x(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((a=t===i?i:k(t,i,!0))===(s=n===i?i:k(n,i,!0)))throw _.createError("comparePoints got to case 4 and childA and childB are the same!");for(c=i.firstChild;c;){if(c===a)return-1;if(c===s)return 1;c=c.nextSibling}}function U(t){if(!t)return"[No node]";if(I(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+N(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function $(t){for(var e,n=D(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}m(document,["createDocumentFragment","createElement","createTextNode"])||_.fail("document missing a Node creation method"),f(document,"getElementsByTagName")||_.fail("document missing getElementsByTagName method"),typeof window.getComputedStyle!=S?E=function(t,e){return B(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=S?E=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:_.fail("No means of obtaining computed style properties found");var V=E;function G(t,e,n){var r=v(t),o=t.createElement("div");o.contentEditable=""+!!n,e&&(o.innerHTML=e);var i=r.firstChild;return i?r.insertBefore(o,i):r.appendChild(o),o}function Y(t){return t.parentNode.removeChild(t)}var K=function(){function t(t){this.root=t,this._next=t}return t.prototype.hasNext=function(){return!!this._next},t.prototype.next=function(){var e,n,r=t._current=this._next;if(t._current)if(e=r.firstChild)this._next=e;else{for(n=null;r!==this.root&&!(n=r.nextSibling);)r=r.parentNode;this._next=n}return t._current},t.prototype.detach=function(){t._current=this._next=this.root=null},t._current=null,t}();function J(t){return new K(t)}var Z=function(){function t(t,e){this.node=t,this.offset=e}return t.prototype.equals=function(t){return!!t&&this.node===t.node&&this.offset==t.offset},t.prototype.inspect=function(){return"[DomPosition("+U(this.node)+":"+this.offset+")]"},t.prototype.toString=function(){return this.inspect()},t}(),Q=function(t,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Q(t,e)};function X(t,e){function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function tt(t,e){return 3!=t.nodeType&&(T(t,e.startContainer)||T(t,e.endContainer))}var et=[1,3,4,5,7,8,10],nt=[2,9,11],rt=[1,3,4,5,7,8,10,11],ot=[1,3,4,5,7,8];function it(t){return function(e,n){for(var r,o=n?e:e.parentNode;o;){if(r=o.nodeType,t.includes(r))return o;o=o.parentNode}return null}}var at=it([9,11]),st=it([5,6,10,12]),ct=it([6,10,12]),ut=it([1]);function lt(t,e){if(ct(t,e))throw new w("INVALID_NODE_TYPE_ERR")}function ft(t,e){if(!e.includes(t.nodeType))throw new w("INVALID_NODE_TYPE_ERR")}function dt(t,e){if(e<0||e>(I(t)?t.length:t.childNodes.length))throw new w("INDEX_SIZE_ERR")}function ht(t,e){if(at(t,!0)!==at(e,!0))throw new w("WRONG_DOCUMENT_ERR")}function pt(t){if(st(t,!0))throw new w("NO_MODIFICATION_ALLOWED_ERR")}function mt(t,e){if(!t)throw new w(e)}function gt(t,e){return e<=(I(t)?t.length:t.childNodes.length)}function yt(t){return!!t.startContainer&&!!t.endContainer&&F(t.startContainer)==F(t.endContainer)&&gt(t.startContainer,t.startOffset)&&gt(t.endContainer,t.endOffset)}function vt(t){if(!yt(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function bt(t){return t.document||D(t.startContainer)}function wt(t,e,n,r,o){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=o,t.document=D(e),function(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:x(t.startContainer,t.endContainer)}(t)}var Et=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],_t=function(){},St=function(t){function e(e){var n=t.call(this)||this;return wt(n,e,0,e,0),n}return X(e,t),e}(_t),Ct=function(){function t(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,this._current=null,this._next=null,this._first=null,this._last=null,this.isSingleCharacterDataNode=!1,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&I(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||I(this.sc)?k(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||I(this.ec)?k(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}return t.prototype.reset=function(){this._current=null,this._next=this._first},t.prototype.hasNext=function(){return!!this._next},t.prototype.detach=function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null},t.prototype.next=function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,I(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},t.prototype.remove=function(){var t,e,n=this._current;!I(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Y(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},t.prototype.isPartiallySelectedSubtree=function(){return tt(this._current,this.range)},t.prototype.getSubtreeIterator=function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new Ft(bt(this.range));var n=this._current,r=n,o=0,i=n,a=R(n);T(n,this.sc)&&(r=this.sc,o=this.so),T(n,this.ec)&&(i=this.ec,a=this.eo),wt(e,r,o,i,a)}return new t(e,this.clonePartiallySelectedTextNodes)},t}();function Ot(t){for(var e,n,r,o=bt(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(r=t.getSubtreeIterator(),n.appendChild(Ot(r)),r.detach()),10==n.nodeType)throw new w("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function Nt(t,e,n){var r,o,i,a;for(void 0===n&&(n={stop:!1});i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i))return void(n.stop=!0);if(Nt(a=t.getSubtreeIterator(),e,n),a.detach(),n.stop)return}else for(r=J(i);o=r.next();)if(!1===e(o))return void(n.stop=!0)}function Rt(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(Rt(e=t.getSubtreeIterator()),e.detach()):t.remove()}function xt(t){for(var e,n,r=bt(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(xt(n)),n.detach()):t.remove(),10==e.nodeType)throw new w("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function At(t,e,n){var r=11==t.nodeType?t.firstChild:t;return I(e)?n==e.length?L(t,e):e.parentNode.insertBefore(t,0==n?e:P(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function Tt(t,e,n){if(vt(t),vt(e),bt(e)!=bt(t))throw new w("WRONG_DOCUMENT_ERR");var r=q(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=q(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?r<=0&&o>=0:r<0&&o>0}function kt(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+U(t.startContainer)+":"+t.startOffset+", "+U(t.endContainer)+":"+t.endOffset+")]"}function It(t){vt(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}var jt={START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,NODE_BEFORE:0,NODE_AFTER:1,NODE_BEFORE_AND_AFTER:2,NODE_INSIDE:3};function Lt(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.prototype.compareBoundaryPoints=function(t,e){vt(this),ht(this.startContainer,e.startContainer);var n=3==t||0==t?"start":"end",r=1==t||0==t?"start":"end";return q(this[n+"Container"],this[n+"Offset"],e[r+"Container"],e[r+"Offset"])},e.prototype.insertNode=function(t){if(vt(this),ft(t,rt),pt(this.startContainer),T(t,this.startContainer))throw new w("HIERARCHY_REQUEST_ERR");var e=At(t,this.startContainer,this.startOffset);this.setStartBefore(e)},e.prototype.cloneContents=function(){var t,e;if(vt(this),this.collapsed)return bt(this).createDocumentFragment();if(this.startContainer===this.endContainer&&I(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=bt(this).createDocumentFragment()).appendChild(t),e;var n=new Ct(this,!0);return t=Ot(n),n.detach(),t},e.prototype.canSurroundContents=function(){vt(this),pt(this.startContainer),pt(this.endContainer);var t=new Ct(this,!0),e=t._first&&tt(t._first,this)||t._last&&tt(t._last,this);return t.detach(),!e},e.prototype.surroundContents=function(t){if(ft(t,ot),!this.canSurroundContents())throw new w("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);At(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},e.prototype.cloneRange=function(){vt(this);for(var t=new Ft(bt(this)),e=0,n=Et;e<n.length;e++){var r=n[e];t[r]=this[r]}return t},e.prototype.toString=function(){vt(this);var t=this.startContainer;if(t===this.endContainer&&I(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new Ct(this,!0);return Nt(n,(function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)})),n.detach(),e.join("")},e.prototype.compareNode=function(t){vt(this);var e=t.parentNode,n=N(t);if(!e)throw new w("NOT_FOUND_ERR");var r=this.comparePoint(e,n),o=this.comparePoint(e,n+1);return r<0?o>0?2:0:o>0?1:3},e.prototype.comparePoint=function(t,e){return vt(this),mt(t,"HIERARCHY_REQUEST_ERR"),ht(t,this.startContainer),q(t,e,this.startContainer,this.startOffset)<0?-1:q(t,e,this.endContainer,this.endOffset)>0?1:0},e.prototype.createContextualFragment=function(t){var e=this.startContainer,n=D(e);if(!e)throw new w("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:I(e)&&(r=O(e)),(r=null===r||"HTML"==r.nodeName&&C(D(r).documentElement)&&C(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=t,$(r)},e.prototype.toHtml=function(){return It(this)},e.prototype.intersectsNode=function(t,e){if(vt(this),F(t)!=F(this.startContainer))return!1;var n=t.parentNode,r=N(t);if(!n)return!0;var o=q(n,r,this.endContainer,this.endOffset),i=q(n,r+1,this.startContainer,this.startOffset);return e?o<=0&&i>=0:o<0&&i>0},e.prototype.isPointInRange=function(t,e){return vt(this),mt(t,"HIERARCHY_REQUEST_ERR"),ht(t,this.startContainer),q(t,e,this.startContainer,this.startOffset)>=0&&q(t,e,this.endContainer,this.endOffset)<=0},e.prototype.intersectsRange=function(t){return Tt(this,t,!1)},e.prototype.intersectsOrTouchesRange=function(t){return Tt(this,t,!0)},e.prototype.intersection=function(t){if(this.intersectsRange(t)){var e=q(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=q(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},e.prototype.union=function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==q(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==q(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new w("Ranges do not intersect")},e.prototype.containsNode=function(t,e){return e?this.intersectsNode(t,!1):3==this.compareNode(t)},e.prototype.containsNodeContents=function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,R(t))<=0},e.prototype.containsRange=function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},e.prototype.containsNodeText=function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},e.prototype.getNodes=function(t,e){return vt(this),function(t,e,n){var r,o=!(!e||!e.length),i=!!n;o&&(r=new RegExp("^("+e.join("|")+")$"));var a=[];return Nt(new Ct(t,!1),(function(e){if((!o||r.test(e.nodeType.toString()))&&(!i||n(e))){var s=t.startContainer;if(e!=s||!I(s)||t.startOffset!=s.length){var c=t.endContainer;e==c&&I(c)&&0==t.endOffset||a.push(e)}}})),a}(this,t,e)},e.prototype.getDocument=function(){return bt(this)},e.prototype.collapseBefore=function(t){this.setEndBefore(t),this.collapse(!1)},e.prototype.collapseAfter=function(t){this.setStartAfter(t),this.collapse(!0)},e.prototype.getBookmark=function(t){var e=bt(this),n=Yt(e);t=t||v(e),n.selectNodeContents(t);var r=this.intersection(n),o=0,i=0;return r&&(n.setEnd(r.startContainer,r.startOffset),i=(o=n.toString().length)+r.toString().length),{start:o,end:i,containerNode:t}},e.prototype.moveToBookmark=function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,o,i,a,s=[e],c=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!c&&t.start>=n&&t.start<=o&&(this.setStart(r,t.start-n),c=!0),c&&t.end>=n&&t.end<=o&&(this.setEnd(r,t.end-n),u=!0),n=o;else for(i=(a=r.childNodes).length;i--;)s.push(a[i])},e.prototype.getName=function(){return"DomRange"},e.prototype.equals=function(t){return Pt(this,t)},e.prototype.isValid=function(){return yt(this)},e.prototype.inspect=function(){return kt(this)},e.prototype.detach=function(){},e.prototype.select=function(t){be(this.getDocument()).setSingleRange(this,t)},e}(t)}function Pt(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}var Dt=new b("DomRange",["DomUtil"]);function Bt(t){return new Z(t.parentNode,N(t))}function Mt(t){return new Z(t.parentNode,N(t)+1)}function Ht(t,e){vt(t);var n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=n===o;I(o)&&i>0&&i<o.length&&P(o,i,e),I(n)&&r>0&&r<n.length&&(n=P(n,r,e),a?(i-=r,o=n):o==n.parentNode&&i>=N(n)&&i++,r=0),t.setStartAndEnd(n,r,o,i)}function Wt(t,e){return function(){vt(this);var n,r=this.startContainer,o=this.startOffset,i=this.commonAncestorContainer,a=new Ct(this,!0);r!==i&&(r=(n=Mt(k(r,i,!0))).node,o=n.offset),Nt(a,pt),a.reset();var s=t(a);return a.detach(),e(this,r,o,r,o),s}}function zt(t,e){var n=Lt(t);Object.assign(n.prototype,jt);var r=function(t,e){function n(t,e){return function(n){ft(n,et),ft(F(n),nt);var i=(t?Bt:Mt)(n);(e?r:o)(this,i.node,i.offset)}}function r(t,n,r){var o=t.endContainer,i=t.endOffset;n===t.startContainer&&r===t.startOffset||(F(n)==F(o)&&1!=q(n,r,o,i)||(o=n,i=r),e(t,n,r,o,i))}function o(t,n,r){var o=t.startContainer,i=t.startOffset;n===t.endContainer&&r===t.endOffset||(F(n)==F(o)&&-1!=q(n,r,o,i)||(o=n,i=r),e(t,o,i,n,r))}return function(t){function i(){var r=null!==t&&t.apply(this,arguments)||this;return r.setStartBefore=n(!0,!0),r.setStartAfter=n(!1,!0),r.setEndBefore=n(!0,!1),r.setEndAfter=n(!1,!1),r.extractContents=Wt(xt,e),r.deleteContents=Wt(Rt,e),r}return X(i,t),i.prototype.setStart=function(t,e){lt(t,!0),dt(t,e),r(this,t,e)},i.prototype.setEnd=function(t,e){lt(t,!0),dt(t,e),o(this,t,e)},i.prototype.setStartAndEnd=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=r,a=o;switch(t.length){case 3:a=t[2];break;case 4:i=t[2],a=t[3]}lt(r,!0),dt(r,o),lt(i,!0),dt(i,a),e(this,r,o,i,a)},i.prototype.setBoundary=function(t,e,n){this["set"+(n?"Start":"End")](t,e)},i.prototype.collapse=function(t){vt(this),t?e(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):e(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},i.prototype.selectNodeContents=function(t){lt(t,!0),e(this,t,0,t,R(t))},i.prototype.selectNode=function(t){lt(t,!1),ft(t,et);var n=Bt(t),r=Mt(t);e(this,n.node,n.offset,r.node,r.offset)},i.prototype.splitBoundaries=function(){Ht(this)},i.prototype.splitBoundariesPreservingPositions=function(t){Ht(this,t)},i.prototype.normalizeBoundaries=function(){vt(this);var t,n=this.startContainer,r=this.startOffset,o=this.endContainer,i=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(o=t,i=t.length,t.appendData(e.data),Y(e))},s=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){n=t;var a=t.length;if(r=e.length,t.insertData(0,e.data),Y(e),n==o)i+=r,o=n;else if(o==t.parentNode){var s=N(t);i==s?(o=t,i=a):i>s&&i--}}},c=!0;if(I(o))i==o.length?a(o):0==i&&(t=o.previousSibling)&&t.nodeType==o.nodeType&&(i=t.length,n==o&&(c=!1),t.appendData(o.data),Y(o),o=t);else{if(i>0){var u=o.childNodes[i-1];u&&I(u)&&a(u)}c=!this.collapsed}if(c){if(I(n))0==r?s(n):r==n.length&&(t=n.nextSibling)&&t.nodeType==n.nodeType&&(o==t&&(o=n,i+=n.length),n.appendData(t.data),Y(t));else if(r<n.childNodes.length){var l=n.childNodes[r];l&&I(l)&&s(l)}}else n=o,r=i;e(this,n,r,o,i)},i.prototype.collapseToPoint=function(t,e){lt(t,!0),dt(t,e),this.setStartAndEnd(t,e)},i.prototype.parentElement=function(){return vt(this),ut(this.commonAncestorContainer,!0)},i}(t)}(n,e);return Object.assign(r,jt)}var Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.inspect=kt,e.toHtml=It,e.getRangeDocument=bt,e.rangesEqual=Pt,e}(zt(St,wt));function qt(t){return t=z(t,Dt,"createRangyRange"),new Ft(t)}Object.assign(Ft,{rangeProperties:Et,RangeIterator:Ct,copyComparisonConstants:function(t){Object.assign(t,jt),Object.assign(t.prototype,jt)},createPrototypeRange:zt});var Ut=new b("WrappedRange",["DomRange"]);function $t(t){for(var e=0,n=Et;e<n.length;e++){var r=n[e];t[r]=t.nativeRange[r]}t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}var Vt=function(t){function e(n){var r=t.call(this)||this;if(r.nativeRange=n,r.setStartBefore=e.createBeforeAfterNodeSetter("setStartBefore"),r.setStartAfter=e.createBeforeAfterNodeSetter("setStartAfter"),r.setEndBefore=e.createBeforeAfterNodeSetter("setEndBefore"),r.setEndAfter=e.createBeforeAfterNodeSetter("setEndAfter"),!n)throw Ut.createError("WrappedRange: Range must be specified");return $t(r),r}return X(e,t),e.prototype.selectNode=function(t){this.nativeRange.selectNode(t),$t(this)},e.prototype.cloneContents=function(){return this.nativeRange.cloneContents()},e.prototype.surroundContents=function(t){this.nativeRange.surroundContents(t),$t(this)},e.prototype.collapse=function(t){this.nativeRange.collapse(t),$t(this)},e.prototype.cloneRange=function(){return new e(this.nativeRange.cloneRange())},e.prototype.refresh=function(){$t(this)},e.prototype.toString=function(){return this.nativeRange.toString()},e.prototype.setStart=function(t,e){this.nativeRange.setStart(t,e),$t(this)},e.prototype.setEnd=function(t,e){this.nativeRange.setEnd(t,e),$t(this)},e.createBeforeAfterNodeSetter=function(t){return function(e){this.nativeRange[t](e),$t(this)}},e.prototype.selectNodeContents=function(t){this.setStartAndEnd(t,0,R(t))},e.prototype.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},e.prototype.getName=function(){return"WrappedRange"},e}(zt(_t,(function(t,e,n,r,o){var i=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==r||t.endOffset!=o,s=!t.equals(t.nativeRange);(i||a||s)&&(t.setEnd(r,o),t.setStart(e,n))})));function Gt(t){return(t=z(t,Ut,"createNativeRange")).createRange()}function Yt(t){return t=z(t,Ut,"createRange"),new Vt(Gt(t))}function Kt(t){t||(t=window);var e=t.document;void 0===e.createRange&&(e.createRange=function(){return Yt(e)})}l((function(){var t=document.createTextNode("test");v(document).appendChild(t);var e=document.createRange(),n=document.createElement("div");n.innerHTML="123";var r=n.firstChild,o=v(document);o.appendChild(n),e.setStart(r,1),e.setEnd(r,2),e.deleteContents();var i=Vt.prototype;"13"==r.data&&(i.deleteContents=function(){this.nativeRange.deleteContents(),$t(this)},i.extractContents=function(){var t=this.nativeRange.extractContents();return $t(this),t}),o.removeChild(n),f(e,"createContextualFragment")&&(i.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),o.removeChild(t),o=null}));var Jt=new b("WrappedSelection",["DomRange","WrappedRange"]),Zt="boolean",Qt="number";function Xt(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function te(t,e){return t?W(t)?t:t instanceof we?t.win:B(z(t,Jt,e)):window}function ee(t){return te(t,"getWinSelection").getSelection()}var ne=function(t){var e=!1;return t.anchorNode&&(e=1==q(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e};function re(){return!0}var oe=ee();oe||Jt.fail("Native selection was null (possibly issue 138?)");var ie,ae=Gt(document),se=c.selectionHasAnchorAndFocus=y(oe,["anchorNode","focusNode","anchorOffset","focusOffset"]),ce=c.selectionHasExtend=f(oe,"extend"),ue=c.selectionHasRangeCount=typeof oe.rangeCount==Qt,le=ce?function(t,e){var n=Yt(Ft.getRangeDocument(e));n.collapseToPoint(e.endContainer,e.endOffset),t.addRange(pe(n)),t.extend(e.startContainer,e.startOffset)}:null,fe=se?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};function de(t,e,n){var r=n?"end":"start",o=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function he(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function pe(t){var e;return t instanceof Ft?((e=Gt(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof Vt?e=t.nativeRange:t instanceof Range&&(e=t),e}function me(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}f(oe,"getRangeAt")?ie=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:se&&(ie=function(t){var e=Yt(D(t.anchorNode));return e.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),e.collapsed!==this.isCollapsed&&e.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),e});var ge,ye=[];function ve(t,e){for(var n,r,o=ye.length;o--;)if(r=(n=ye[o]).selection,"deleteAll"==e)me(r);else if(n.win==t)return"delete"==e?(ye.splice(o,1),!0):r;return"deleteAll"==e&&(ye.length=0),null}function be(t){if(t&&t instanceof we)return t.refresh(),t;var e=ve(t=te(t,"getNativeSelection")),n=ee(t);return e?(e.nativeSelection=n,e.refresh()):(e=new we(n,t),ye.push({win:t,selection:e})),e}f(oe,"getRangeAt")&&typeof oe.rangeCount==Qt?ge=function(t){if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new Vt(t.nativeSelection.getRangeAt(e));de(t,t._ranges[t.rangeCount-1],ne(t.nativeSelection)),t.isCollapsed=fe(t)}else he(t)}:se&&typeof oe.isCollapsed==Zt&&typeof ae.collapsed==Zt&&c.implementsDomRange?ge=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=ie(n,0),t._ranges=[e],t.rangeCount=1,function(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}(t),t.isCollapsed=fe(t)):he(t)}:Jt.fail("No means of obtaining a Range or TextRange from the user's selection was found");var we=function(t){var e;function n(t,e){le(t.nativeSelection,e),t.refresh()}var r=ue?function(t,e){if(Xt(e)&&ce)n(this,t);else{var r;c.selectionSupportsMultipleRanges?r=this.rangeCount:(this.removeAllRanges(),r=0);var o=pe(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(u.checkSelectionRanges){var i=ie(this.nativeSelection,this.rangeCount-1);i&&!Pt(i,t)&&(t=new Vt(i))}this._ranges[this.rangeCount-1]=t,de(this,t,ne(this.nativeSelection)),this.isCollapsed=fe(this)}else this.refresh()}}:function(t,e){Xt(e)&&ce?n(this,t):(this.nativeSelection.addRange(pe(t)),this.refresh())};function o(t,e){if(t.win.document!=D(e))throw new w("WRONG_DOCUMENT_ERR")}function i(t){return function(e,n){var r;this.rangeCount?(r=this.getRangeAt(0))["set"+(t?"Start":"End")](e,n):(r=Yt(this.win.document)).setStartAndEnd(e,n),this.setSingleRange(r,this.isBackward())}}return e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addRange=r,e.isBackwards=e.isBackward,e.setStart=i(!0),e.setEnd=i(!1),e}return X(e,t),e.prototype.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),he(this)},e.prototype.setRanges=function(t){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])},e.prototype.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new w("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},e.prototype.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ge(this),t){var o=e.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!Pt(e[o],this._ranges[o]))return!0;return!1}},e.prototype.removeRange=function(t){!function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,o=n.length;r<o;++r)Pt(e,n[r])||t.addRange(n[r]);t.rangeCount||he(t)}(this,t)},e.prototype.isBackward=function(){return ne(this)},e.prototype.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},e.prototype.collapse=function(t,e){o(this,t);var n=Yt(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},e.prototype.collapseToStart=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},e.prototype.collapseToEnd=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},e.prototype.selectAllChildren=function(t){o(this,t);var e=Yt(t);e.selectNodeContents(t),this.setSingleRange(e)},e.prototype.deleteFromDocument=function(){if(this.rangeCount){var t=this.getAllRanges();if(t.length){this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)t[e].deleteContents();this.addRange(t[n-1])}}},e.prototype.eachRange=function(t,e){for(var n=0,r=this._ranges.length;n<r;++n)if(t(this.getRangeAt(n)))return e},e.prototype.getAllRanges=function(){var t=[];return this.eachRange((function(e){t.push(e)})),t},e.prototype.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},e.prototype.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange((function(r){n.push(r[t].apply(r,e||[]))})),n},e.prototype.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange((function(n){t(n),e.push(n)})),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},e.prototype.containsNode=function(t,e){return this.eachRange((function(n){return n.containsNode(t,e)}),!0)||!1},e.prototype.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},e.prototype.moveToBookmark=function(t){for(var e,n,r=[],o=0;e=t.rangeBookmarks[o++];)(n=Yt(this.win)).moveToBookmark(e),r.push(n);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},e.prototype.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},e.prototype.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},e.prototype.toHtml=function(){var t=[];return this.eachRange((function(e){t.push(Ft.toHtml(e))})),t.join("")},e.inspect=function(t){var e=[],n=new Z(t.anchorNode,t.anchorOffset),r=new Z(t.focusNode,t.focusOffset),o="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var i=0,a=t.rangeCount;i<a;++i)e[i]=Ft.inspect(t.getRangeAt(i));return"["+o+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"},e.prototype.getName=function(){return"WrappedSelection"},e.prototype.inspect=function(){return e.inspect(this)},e.prototype.detach=function(){ve(this.win,"delete"),me(this)},e.detachAll=function(){ve(null,"deleteAll")},e}(t),e.isDirectionBackward=Xt,e}((function(t,e){this.nativeSelection=t,this.win=e,this._ranges=[],3==arguments.length&&(this.win=arguments[2]),this.refresh()})),Ee=we;function _e(t){t||(t=window),void 0===t.getSelection&&(t.getSelection=function(){return be(t)})}function Se(t){Kt(t=t||window),_e(t)}},3033:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof window?window:null,e=null===t,n=e?void 0:t.document,r="addEventListener",o="removeEventListener",i="getBoundingClientRect",a="_a",s="_b",c="_c",u="horizontal",l=function(){return!1},f=e?"calc":["","-webkit-","-moz-","-o-"].filter((function(t){var e=n.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length})).shift()+"calc",d=function(t){return"string"==typeof t||t instanceof String},h=function(t){if(d(t)){var e=n.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},p=function(t,e,n){var r=t[e];return void 0!==r?r:n},m=function(t,e,n,r){if(e){if("end"===r)return 0;if("center"===r)return t/2}else if(n){if("start"===r)return 0;if("center"===r)return t/2}return t},g=function(t,e){var r=n.createElement("div");return r.className="gutter gutter-"+e,r},y=function(t,e,n){var r={};return d(e)?r[t]=e:r[t]=f+"("+e+"% - "+n+"px)",r},v=function(t,e){var n;return(n={})[t]=e+"px",n};return function(f,d){if(void 0===d&&(d={}),e)return{};var b,w,E,_,S,C,O=f;Array.from&&(O=Array.from(O));var N=h(O[0]).parentNode,R=getComputedStyle?getComputedStyle(N):null,x=R?R.flexDirection:null,A=p(d,"sizes")||O.map((function(){return 100/O.length})),T=p(d,"minSize",100),k=Array.isArray(T)?T:O.map((function(){return T})),I=p(d,"maxSize",1/0),j=Array.isArray(I)?I:O.map((function(){return I})),L=p(d,"expandToMin",!1),P=p(d,"gutterSize",10),D=p(d,"gutterAlign","center"),B=p(d,"snapOffset",30),M=p(d,"dragInterval",1),H=p(d,"direction",u),W=p(d,"cursor",H===u?"col-resize":"row-resize"),z=p(d,"gutter",g),F=p(d,"elementStyle",y),q=p(d,"gutterStyle",v);function U(t,e,n,r){var o=F(b,e,n,r);Object.keys(o).forEach((function(e){t.style[e]=o[e]}))}function $(t,e,n){var r=q(b,e,n);Object.keys(r).forEach((function(e){t.style[e]=r[e]}))}function V(){return C.map((function(t){return t.size}))}function G(t){return"touches"in t?t.touches[0][w]:t[w]}function Y(t){var e=C[this.a],n=C[this.b],r=e.size+n.size;e.size=t/this.size*r,n.size=r-t/this.size*r,U(e.element,e.size,this[s],e.i),U(n.element,n.size,this[c],n.i)}function K(t){var e,n=C[this.a],r=C[this.b];this.dragging&&(e=G(t)-this.start+(this[s]-this.dragOffset),M>1&&(e=Math.round(e/M)*M),e<=n.minSize+B+this[s]?e=n.minSize+this[s]:e>=this.size-(r.minSize+B+this[c])&&(e=this.size-(r.minSize+this[c])),e>=n.maxSize-B+this[s]?e=n.maxSize+this[s]:e<=this.size-(r.maxSize-B+this[c])&&(e=this.size-(r.maxSize+this[c])),Y.call(this,e),p(d,"onDrag",l)(V()))}function J(){var t=C[this.a].element,e=C[this.b].element,n=t[i](),r=e[i]();this.size=n[b]+r[b]+this[s]+this[c],this.start=n[E],this.end=n[_]}function Z(t){if(!getComputedStyle)return null;var e=getComputedStyle(t);if(!e)return null;var n=t[S];return 0===n?null:n-=H===u?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}function Q(t){var e=Z(N);if(null===e)return t;if(k.reduce((function(t,e){return t+e}),0)>e)return t;var n=0,r=[],o=t.map((function(o,i){var a=e*o/100,s=m(P,0===i,i===t.length-1,D),c=k[i]+s;return a<c?(n+=c-a,r.push(0),c):(r.push(a-c),a)}));return 0===n?t:o.map((function(t,o){var i=t;if(n>0&&r[o]-n>0){var a=Math.min(n,r[o]-n);n-=a,i=t-a}return i/e*100}))}function X(){var e=this,r=C[e.a].element,i=C[e.b].element;e.dragging&&p(d,"onDragEnd",l)(V()),e.dragging=!1,t[o]("mouseup",e.stop),t[o]("touchend",e.stop),t[o]("touchcancel",e.stop),t[o]("mousemove",e.move),t[o]("touchmove",e.move),e.stop=null,e.move=null,r[o]("selectstart",l),r[o]("dragstart",l),i[o]("selectstart",l),i[o]("dragstart",l),r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",n.body.style.cursor=""}function tt(e){if(!("button"in e)||0===e.button){var o=this,i=C[o.a].element,a=C[o.b].element;o.dragging||p(d,"onDragStart",l)(V()),e.preventDefault(),o.dragging=!0,o.move=K.bind(o),o.stop=X.bind(o),t[r]("mouseup",o.stop),t[r]("touchend",o.stop),t[r]("touchcancel",o.stop),t[r]("mousemove",o.move),t[r]("touchmove",o.move),i[r]("selectstart",l),i[r]("dragstart",l),a[r]("selectstart",l),a[r]("dragstart",l),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",o.gutter.style.cursor=W,o.parent.style.cursor=W,n.body.style.cursor=W,J.call(o),o.dragOffset=G(e)-o.end}}H===u?(b="width",w="clientX",E="left",_="right",S="clientWidth"):"vertical"===H&&(b="height",w="clientY",E="top",_="bottom",S="clientHeight"),A=Q(A);var et=[];function nt(t){var e=t.i===et.length,n=e?et[t.i-1]:et[t.i];J.call(n);var r=e?n.size-t.minSize-n[c]:t.minSize+n[s];Y.call(n,r)}function rt(t){var e=Q(t);e.forEach((function(t,n){if(n>0){var r=et[n-1],o=C[r.a],i=C[r.b];o.size=e[n-1],i.size=t,U(o.element,o.size,r[s],o.i),U(i.element,i.size,r[c],i.i)}}))}function ot(t,e){et.forEach((function(n){if(!0!==e?n.parent.removeChild(n.gutter):(n.gutter[o]("mousedown",n[a]),n.gutter[o]("touchstart",n[a])),!0!==t){var r=F(b,n.a.size,n[s]);Object.keys(r).forEach((function(t){C[n.a].element.style[t]="",C[n.b].element.style[t]=""}))}}))}return(C=O.map((function(t,e){var n,o={element:h(t),size:A[e],minSize:k[e],maxSize:j[e],i:e};if(e>0&&((n={a:e-1,b:e,dragging:!1,direction:H,parent:N})[s]=m(P,e-1==0,!1,D),n[c]=m(P,!1,e===O.length-1,D),"row-reverse"===x||"column-reverse"===x)){var i=n.a;n.a=n.b,n.b=i}if(e>0){var u=z(e,H,o.element);$(u,P,e),n[a]=tt.bind(n),u[r]("mousedown",n[a]),u[r]("touchstart",n[a]),N.insertBefore(u,o.element),n.gutter=u}return U(o.element,o.size,m(P,0===e,e===O.length-1,D),e),e>0&&et.push(n),o}))).forEach((function(t){var e=t.element[i]()[b];e<t.minSize&&(L?nt(t):t.minSize=e)})),{setSizes:rt,getSizes:V,collapse:function(t){nt(C[t])},destroy:ot,parent:N,pairs:et}}}()},3655:t=>{window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e){t.exports=function(t,e){return"".concat(t,"-").concat(e,"-").concat(Math.random().toString(16).slice(3,8))}},function(t,e){var n=this,r=!1;e.logging=r,e.setLogging=function(t){r=t},e.log=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return r?console.log.apply(n,e):null}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=s(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r,o;void 0===(o="function"==typeof(r=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var r,o=document.createElement("a"),i=1;i<t;i++)o.href=arguments[i],r=o.href,e.href=r;return n.removeChild(e),r}})?r.call(e,n,e,t):r)||(t.exports=o)},function(t,e,n){var r=n(0),o=0;t.exports=function(t){var e=t.id,n=t.action,i=t.payload,a=void 0===i?{}:i,s=e;return void 0===s&&(s=r("Job",o),o+=1),{id:s,action:n,payload:a}}},function(t,e,n){function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var u=n(11),l=n(14),f=n(4),d=n(1).log,h=n(0),p=n(15).defaultOEM,m=n(16),g=m.defaultOptions,y=m.spawnWorker,v=m.terminateWorker,b=m.onMessage,w=m.loadImage,E=m.send,_=0;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=h("Worker",_),n=u(a({},g,{},t)),r=n.logger,i=n.errorHandler,s=c(n,["logger","errorHandler"]),m={},S={},C=y(s);_+=1;var O=function(t,e){m[t]=e},N=function(t,e){S[t]=e},R=function(t){var n=t.id,r=t.action,o=t.payload;return new Promise((function(t,i){d("[".concat(e,"]: Start ").concat(n,", action=").concat(r)),O(r,t),N(r,i),E(C,{workerId:e,jobId:n,action:r,payload:o})}))},x=function(t){return R(f({id:t,action:"load",payload:{options:s}}))},A=function(t,e,n){return R(f({id:n,action:"FS",payload:{method:"writeFile",args:[t,e]}}))},T=function(t,e){return R(f({id:e,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}}))},k=function(t,e){return R(f({id:e,action:"FS",payload:{method:"unlink",args:[t]}}))},I=function(t,e,n){return R(f({id:n,action:"FS",payload:{method:t,args:e}}))},j=function(){return R(f({id:arguments.length>1?arguments[1]:void 0,action:"loadLanguage",payload:{langs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",options:s}}))},L=function(){return R(f({id:arguments.length>2?arguments[2]:void 0,action:"initialize",payload:{langs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",oem:arguments.length>1&&void 0!==arguments[1]?arguments[1]:p}}))},P=function(){return R(f({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},D=function(){var t=o(regeneratorRuntime.mark((function t(e){var n,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2?o[2]:void 0,t.t0=R,t.t1=f,t.t2=r,t.next=7,w(e);case 7:return t.t3=t.sent,t.t4=n,t.t5={image:t.t3,options:t.t4},t.t6={id:t.t2,action:"recognize",payload:t.t5},t.t7=(0,t.t1)(t.t6),t.abrupt("return",(0,t.t0)(t.t7));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){return R(f({id:arguments.length>2?arguments[2]:void 0,action:"getPDF",payload:{title:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",textonly:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}))},M=function(){var t=o(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=R,t.t1=f,t.t2=n,t.next=5,w(e);case 5:return t.t3=t.sent,t.t4={image:t.t3},t.t5={id:t.t2,action:"detect",payload:t.t4},t.t6=(0,t.t1)(t.t5),t.abrupt("return",(0,t.t0)(t.t6));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var t=o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!==C&&(v(C),C=null),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b(C,(function(t){var e=t.workerId,n=t.jobId,o=t.status,s=t.action,c=t.data;if("resolve"===o){d("[".concat(e,"]: Complete ").concat(n));var u=c;"recognize"===s?u=l(c):"getPDF"===s&&(u=Array.from(a({},c,{length:Object.keys(c).length}))),m[s]({jobId:n,data:u})}else if("reject"===o){if(S[s](c),!i)throw Error(c);i(c)}else"progress"===o&&r(c)})),{id:e,worker:C,setResolve:O,setReject:N,load:x,writeText:A,readText:T,removeFile:k,FS:I,loadLanguage:j,initialize:L,setParameters:P,recognize:D,getPDF:B,detect:M,terminate:H}}},function(t,e){t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(8);var i=n(10),a=n(5),s=n(25),c=n(6),u=n(26),l=n(1).setLogging;t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({OEM:c,PSM:u,createScheduler:i,createWorker:a,setLogging:l},s)},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function g(){}function y(){}function v(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,E=w&&w(w(A([])));E&&E!==r&&o.call(E,a)&&(b=E);var _=v.prototype=g.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){var n;this._invoke=function(r,i){function a(){return new Promise((function(n,a){!function n(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===e(f)&&o.call(f,"__await")?Promise.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):Promise.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}(r,i,n,a)}))}return n=n?n.then(a,a):a()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}return y.prototype=_.constructor=v,v.constructor=y,v[c]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,r,o){var i=new C(u(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return s.type="throw",s.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(9)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=this;function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}var s=n(4),c=n(1).log,u=n(0),l=0;t.exports=function(){var t=u("Scheduler",l),e={},n={},i=[];l+=1;var f=function(){return Object.keys(e).length},d=function(){if(0!==i.length)for(var t=Object.keys(e),r=0;r<t.length;r+=1)if(void 0===n[t[r]]){i[0](e[t[r]]);break}},h=function(e,u){return new Promise((function(l,f){var h=s({action:e,payload:u});i.push(function(){var t=a(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.shift(),n[a.id]=h,t.prev=2,t.t0=l,t.next=6,a[e].apply(r,[].concat(o(u),[h.id]));case 6:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 10:t.prev=10,t.t2=t.catch(2),f(t.t2);case 13:return t.prev=13,delete n[a.id],d(),t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[2,10,13,17]])})));return function(e){return t.apply(this,arguments)}}()),c("[".concat(t,"]: Add ").concat(h.id," to JobQueue")),c("[".concat(t,"]: JobQueue length=").concat(i.length)),d()}))};return{addWorker:function(n){return e[n.id]=n,c("[".concat(t,"]: Add ").concat(n.id)),c("[".concat(t,"]: Number of workers=").concat(f())),d(),n.id},addJob:function(){var e=a(regeneratorRuntime.mark((function e(n){var r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==f()){e.next=2;break}throw Error("[".concat(t,"]: You need to have at least one worker before adding jobs"));case 2:for(r=a.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=a[i];return e.abrupt("return",h(n,o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),terminate:function(){var t=a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object.keys(e).forEach(function(){var t=a(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[n].terminate();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i=[];case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getQueueLen:function(){return i.length},getNumWorkers:f}}},function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i="browser"===n(12)("type")?n(3):function(t){return t};t.exports=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return["corePath","workerPath","langPath"].forEach((function(n){void 0!==t[n]&&(e[n]=i(e[n]))})),e}},function(t,e,n){(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(13);t.exports=function(t){var n={};return o()?n.type="electron":"object"===("undefined"==typeof window?"undefined":r(window))?n.type="browser":"function"==typeof importScripts?n.type="webworker":"object"===(void 0===e?"undefined":r(e))&&(n.type="node"),void 0===t?n:n[t]}}).call(this,n(2))},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){return"undefined"!=typeof window&&"object"===n(window.process)&&"renderer"===window.process.type||!(void 0===e||"object"!==n(e.versions)||!e.versions.electron)||"object"===("undefined"==typeof navigator?"undefined":n(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}}).call(this,n(2))},function(t,e){function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=function(t){var e=[],n=[],o=[],i=[],a=[];return t.blocks.forEach((function(s){s.paragraphs.forEach((function(e){e.lines.forEach((function(n){n.words.forEach((function(o){o.symbols.forEach((function(i){a.push(r({},i,{page:t,block:s,paragraph:e,line:n,word:o}))})),i.push(r({},o,{page:t,block:s,paragraph:e,line:n}))})),o.push(r({},n,{page:t,block:s,paragraph:e}))})),n.push(r({},e,{page:t,block:s}))})),e.push(r({},s,{page:t}))})),r({},t,{blocks:e,paragraphs:n,lines:o,words:i,symbols:a})}},function(t,e,n){var r=n(6);t.exports={defaultOEM:r.DEFAULT}},function(t,e,n){var r=n(17),o=n(20),i=n(21),a=n(22),s=n(23),c=n(24);t.exports={defaultOptions:r,spawnWorker:o,terminateWorker:i,onMessage:a,send:s,loadImage:c}},function(t,e,n){(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(3),s=n(18),c=s.version,u=s.dependencies,l=n(19);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},l,{workerPath:void 0!==e&&"development"===e.env.TESS_ENV?a("/dist/worker.dev.js?nocache=".concat(Math.random().toString(36).slice(3))):"https://unpkg.com/tesseract.js@v".concat(c,"/dist/worker.min.js"),corePath:"https://unpkg.com/tesseract.js-core@v".concat(u["tesseract.js-core"].substring(1),"/tesseract-core.").concat("object"===("undefined"==typeof WebAssembly?"undefined":r(WebAssembly))?"wasm":"asm",".js")})}).call(this,n(2))},function(t){t.exports=JSON.parse('{"name":"tesseract.js","version":"2.1.1","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^5.16.0","eslint-config-airbnb":"^17.1.1","eslint-plugin-import":"^2.19.1","eslint-plugin-jsx-a11y":"^6.2.3","eslint-plugin-react":"^7.17.0","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^15.0.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.41.4","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10","webpack-dev-middleware":"^3.7.2"},"dependencies":{"bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')},function(t,e){t.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:function(){}}},function(t,e){t.exports=function(t){var e,n=t.workerPath,r=t.workerBlobURL;if(Blob&&URL&&r){var o=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});e=new Worker(URL.createObjectURL(o))}else e=new Worker(n);return e}},function(t,e){t.exports=function(t){t.terminate()}},function(t,e){t.exports=function(t,e){t.onmessage=function(t){var n=t.data;e(n)}}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.postMessage(n);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,c,"next",t)}function c(t){n(a,o,i,s,c,"throw",t)}s(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()},function(t,e,n){function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}var i=n(3),a=function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=function(t){var e=t.target.error.code;n(Error("File could not be read! Code=".concat(e)))},r.readAsArrayBuffer(t)}))},s=function(){var t=o(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,void 0!==e){t.next=3;break}return t.abrupt("return","undefined");case 3:if("string"!=typeof e){t.next=16;break}if(!/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)){t.next=8;break}n=atob(e.split(",")[1]).split("").map((function(t){return t.charCodeAt(0)})),t.next=14;break;case 8:return t.next=10,fetch(i(e));case 10:return r=t.sent,t.next=13,r.arrayBuffer();case 13:n=t.sent;case 14:t.next=34;break;case 16:if(!(e instanceof HTMLElement)){t.next=30;break}if("IMG"!==e.tagName){t.next=21;break}return t.next=20,s(e.src);case 20:n=t.sent;case 21:if("VIDEO"!==e.tagName){t.next=25;break}return t.next=24,s(e.poster);case 24:n=t.sent;case 25:if("CANVAS"!==e.tagName){t.next=28;break}return t.next=28,new Promise((function(t){e.toBlob(function(){var e=o(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(r);case 2:n=e.sent,t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 28:t.next=34;break;case 30:if(!(e instanceof File||e instanceof Blob)){t.next=34;break}return t.next=33,a(e);case 33:n=t.sent;case 34:return t.abrupt("return",new Uint8Array(n));case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=s},function(t,e,n){function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}var i=n(5),a=function(){var t=o(regeneratorRuntime.mark((function t(e,n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i(r),t.next=3,a.load();case 3:return t.next=5,a.loadLanguage(n);case 5:return t.next=7,a.initialize(n);case 7:return t.abrupt("return",a.recognize(e).finally(o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.terminate();case 2:case"end":return t.stop()}}),t)})))));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),s=function(){var t=o(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i(n),t.next=3,r.load();case 3:return t.next=5,r.loadLanguage("osd");case 5:return t.next=7,r.initialize("osd");case 7:return t.abrupt("return",r.detect(e).finally(o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.terminate();case 2:case"end":return t.stop()}}),t)})))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();t.exports={recognize:a,detect:s}},function(t,e){t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}}])}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(5007),e=n(5410),r=n(813),o=n.n(r);class i{constructor(t,e,n,r,o,i,f){this.updated=!1,this.removeSpan=(t,e,n)=>{if(e.forEach((e=>{t.classList.remove(e)})),n.forEach((e=>{t.removeAttribute(e)})),0===t.classList.length){const e=t.parentElement;t.replaceWith(...Array.from(t.childNodes)),e.normalize()}},this.getOffset=(t,e)=>{let n=t.offsetTop,r=t.offsetLeft,o=t.offsetParent;for(;o!==e&&null!==o;)n+=o.offsetTop+2*Number(this.content_window.getComputedStyle(o).borderWidth.slice(0,-2)),r+=o.offsetLeft,o=o.offsetParent;return{offset_top:n,offset_left:r}},this.rgbTo16=t=>{var e;return"#"+(null===(e=t.match(/\d+/g))||void 0===e?void 0:e.map((t=>("0"+parseInt(t).toString(16)).slice(-2))).join(""))},this.hslToRgb=(t,e,n)=>{const r=Math.min(t,359)/60,o=(1-Math.abs(2*n-1))*e,i=o*(1-Math.abs(r%2-1)),a=n-.5*o;let s=a,c=a,u=a;return r<1?(s+=o,c=+i,u+=0):r<2?(s+=i,c+=o,u+=0):r<3?(s+=0,c+=o,u+=i):r<4?(s+=0,c+=i,u+=o):r<5?(s+=i,c+=0,u+=o):r<6?(s+=o,c+=0,u+=i):(s=0,c=0,u=0),"#"+`0${Math.floor(255*s).toString(16)}`.slice(-2)+`0${Math.floor(255*c).toString(16)}`.slice(-2)+`0${Math.floor(255*u).toString(16)}`.slice(-2)},this.getSelectorFromElement=t=>{const e=[];for(;t;){let n=t.nodeName.toLowerCase();if(t.id){n+="#"+t.id,e.unshift(n);break}n+=":nth-of-type("+this.getSiblingElementsIndex(t,n)+")",e.unshift(n),t=t.parentNode}return e},this.getSiblingElementsIndex=(t,e)=>{let n=1,r=t;for(;r=r.previousElementSibling;)r.nodeName.toLowerCase()===e&&++n;return n},this.tool_type=t,this.content_root=e,this.content_window=n,this.dark_mode=i,this.word=new a(this,o,f),this.cv=new s(this,r),this.comment=new u(this),this.decoration=new c(this),this.tazumen=new l(this)}}class a{constructor(t,e,n){this.option={},this.selected_color={},this.block_mode=!1,this.setOption=t=>{this.option=t,Object.keys(this.option).forEach((t=>{this.option[t]&&this.selected_color[t]&&(this.option[t].color=this.selected_color[t])}))},this.setColor=(t,e)=>{this.selected_color[t]=e,this.option[t]&&(this.option[t].color=e)},this.clear=t=>{Array.from(t.querySelectorAll("span.word_inversion")).forEach((t=>{if(Array.from(t.classList).forEach((e=>{-1!==e.indexOf("word_inversion")&&t.classList.remove(e)})),t.removeAttribute("data-markjs"),0===t.classList.length&&1===t.attributes.length){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t),e.normalize()}}));let e=this.sat.content_window.document.head.querySelector("style#SAT_word_inversion");null!==e&&e.remove(),"pdf"===this.sat.tool_type&&(e=document.head.querySelector("style#SAT_word_inversion"),null!==e&&e.remove())},this.getWordColors=t=>{const e=[],n=360/t,r=this.sat.dark_mode?.35:.7;for(let o=0;o<t;o++)e.push(this.sat.hslToRgb((0+o*n)%360,1,r));return e},this.calcWordColor=t=>.299*parseInt(t.substr(1,2),16)+.587*parseInt(t.substr(3,2),16)+.114*parseInt(t.substr(5,2),16)>=140?"#111":"#eed",this.sat=t,this.selected_color=e,this.block_mode=n}invert(t){this.clear(t);const e=new(o())(t),n={element:"span",accuracy:"partially",separateWordSearch:!1,acrossElements:!0,ignoreJoiners:!0,ignorePunctuation:":;.,-–—‒_(){}[]!'\"+=".split(""),each:t=>{t.classList.add("word_inversion")},className:""};"web"===this.sat.tool_type&&(n.accuracy="complementary");const r=document.createElement("style");r.type="text/css",r.id="SAT_word_inversion";const i=document.createElement("style");i.type="text/css",i.id="SAT_word_inversion",this.sat.content_window.document.head.prepend(r),"pdf"===this.sat.tool_type&&document.head.prepend(i);for(const t in this.option){n.className=`word_inversion_class${Number(t)}`;const o=this.option[t].color;r.sheet.insertRule(`span.word_inversion_class${t} {background-color: ${o} !important; color: ${"pdf"===this.sat.tool_type?o:this.calcWordColor(o)}}`,0),"pdf"===this.sat.tool_type&&i.sheet.insertRule(`span.word_inversion_class${t} {background-color: ${o} ! important; color: ${this.calcWordColor(o)}}`,0),this.option[t].words.forEach((t=>{if(/^\/.*\/[dgimsuy]*$/.test(t)){let r,o="";t.match(/([dgimsuy]+)$/)&&(o=t.match(/([dgimsuy]+)$/)[0],t=t.slice(0,-o.length)),r=this.block_mode?new RegExp(`[ァ-ヶｦ-ﾟー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*${t.slice(1,-1)}[ァ-ヶｦ-ﾟー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*`,o):new RegExp(t.slice(1,-1),o),e.markRegExp(r,n)}else if(this.block_mode){const r=new RegExp(`[ァ-ヶｦ-ﾟー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*${t}[ァ-ヶｦ-ﾟー一-龥0-9０-９a-zA-Zａ-ｚＡ-Ｚ.．]*`,"i");e.markRegExp(r,n)}else e.mark(t,n)}))}}}class s{constructor(t,e){this.word_rect=[],this.comment_circle=[],this.highlight_rect=[],this.updateData=()=>{this.word_rect=[];const t={};Array.from(new Set(Object.keys(this.sat.word.option).map((t=>this.sat.word.option[t].color)))).filter((t=>""!==t)).forEach(((e,n)=>{t[e]=n}));const e=Object.keys(t).length,n=this.sat.content_root.parentElement.scrollHeight;Array.from(this.sat.content_root.querySelectorAll("span.word_inversion")).forEach((r=>{const o=this.sat.rgbTo16(window.getComputedStyle(r).backgroundColor),i="web"===this.sat.tool_type||"pdf"===this.sat.tool_type?0:35,a=i+(this.element.width-i)*(t[o]/e),s=this.sat.getOffset(r,this.sat.content_root.offsetParent),c=this.element.height*(s.offset_top/n),u=3*Math.max(r.offsetHeight/this.element.height,2);this.word_rect.push([o,Math.round(a)-.5,Math.round(c-u/2)-.5,Math.round((this.element.width-i)/e)+0,5,Math.round(u/2)])})),this.comment_circle=[];const r=Array.from(this.sat.content_root.querySelectorAll("span.commented")).map((t=>{const e=this.sat.getOffset(t,this.sat.content_root.offsetParent);return t.setAttribute("offset_top",e.offset_top.toString()),t.setAttribute("offset_left",e.offset_left.toString()),t})).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=[...t[e.getAttribute("comment_id")]||[],e],t)),{});Object.keys(r).map((t=>r[t].sort(((t,e)=>t.getAttribute("offset_top")!==e.getAttribute("offset_top")?t.getAttribute("offset_top")<e.getAttribute("offset_top")?-1:1:t.getAttribute("offset_left")<e.getAttribute("offset_left")?-1:1)))).sort(((t,e)=>t[0].getAttribute("offset_top")!==e[0].getAttribute("offset_top")?t[0].getAttribute("offset_top")<e[0].getAttribute("offset_top")?-1:1:t[0].getAttribute("offset_left")<e[0].getAttribute("offset_left")?-1:1)).forEach((t=>{this.comment_circle.push({y:this.element.height*(this.sat.getOffset(t[0],this.sat.content_root.offsetParent).offset_top/n),color:t[0].style.backgroundColor})})),this.highlight_rect=[],Array.from(document.querySelectorAll("span.highlighted")).forEach((t=>{this.highlight_rect.push({y:this.element.height*((this.sat.getOffset(t,this.sat.content_root.offsetParent).offset_top-3)/n),color:t.style.backgroundColor})}))},this.draw=()=>{const t=this.element.getContext("2d");let e;t.clearRect(0,0,this.element.width,this.element.height),"web"===this.sat.tool_type||"pdf"===this.sat.tool_type?(t.fillStyle="black",t.fillRect(0,0,200,window.innerHeight)):(t.fillStyle="#333333",t.fillRect(0,0,30,window.innerHeight)),this.word_rect.forEach((e=>{t.fillStyle=e[0],t.fillRect(e[1],e[2],e[3],e[4])})),this.comment_circle.forEach((e=>{t.fillStyle=e.color,t.beginPath(),t.arc(10,e.y,5,0,2*Math.PI,!1),t.fill()})),this.highlight_rect.forEach((e=>{t.fillStyle=e.color,t.fillRect(20,e.y-5,10,10)})),t.strokeStyle="white",t.lineWidth=5,e="pdf"===this.sat.tool_type?this.sat.content_root.parentElement:"web"===this.sat.tool_type?document.scrollingElement:document.getElementById("main");const n=e.scrollTop,r=e.scrollHeight,o=document.querySelector("div.top")?document.querySelector("div.top").offsetHeight:0;t.strokeRect(2.5,n*(this.element.height/r),this.element.width-2.5,(window.innerHeight-o)*(this.element.height/r))},this.sat=t,this.element=e}}class c{constructor(n){this.add=t=>{(0,e.createClassApplier)(t,{elementTagName:"span",normalize:!0}).toggleSelection(this.sat.content_window)},this.highlight=n=>{(0,e.createClassApplier)("highlighted_tmp",{elementTagName:"span",normalize:!1}).toggleSelection(this.sat.content_window);const r=(0,t.getSelection)(this.sat.content_window);r.getRangeAt(0).getNodes([],(t=>t instanceof HTMLSpanElement&&t.classList.contains("highlighted_tmp"))).forEach((t=>{t.style.backgroundColor=n,t.style.borderBottomColor=n,t.classList.remove("highlighted_tmp"),t.classList.add("highlighted")}));let o=r.getRangeAt(0).commonAncestorContainer.parentElement.closest("span.commented");o&&(o.style.backgroundColor=n,o.classList.remove("highlighted_tmp"),o.classList.add("highlighted")),this.sat.cv.updateData(),this.sat.cv.draw()},this.dehighlight=()=>{const e=(0,t.getSelection)(this.sat.content_window);e.rangeCount&&(e.getRangeAt(0).getNodes([1]).forEach((t=>{t instanceof HTMLSpanElement&&(t.classList.length>0?Array.from(t.classList).forEach((e=>{"highlighted"===e&&(t.style.backgroundColor="",t.style.borderBottomColor="",this.sat.removeSpan(t,[e],[]))})):t.style.backgroundColor="")})),[(0,t.getSelection)(this.sat.content_window).getRangeAt(0).startContainer,(0,t.getSelection)(this.sat.content_window).getRangeAt(0).endContainer].forEach((t=>{for(;t&&t!==this.sat.content_root;){const e=t.parentElement;t instanceof HTMLSpanElement&&(t.classList.length>0?Array.from(t.classList).forEach((e=>{"highlighted"===e&&(t.style.backgroundColor="",t.style.borderBottomColor="",this.sat.removeSpan(t,[e],[]))})):t.style.backgroundColor=""),t=e}}))),this.sat.cv.updateData(),this.sat.cv.draw()},this.sat=n}}class u{constructor(t){this.comment_index=0,this.span_info={},this.box_info={},this.box_sorted_info=[],this.addComment=t=>{const e=this.addSpan(t);this.addBox(e,t),this.sort(),this.arrange();const n=window.document.createRange(),r=window.document.querySelector(`div.comment[comment_id="${e}"] > p`);n.setStart(r,0),n.setEnd(r,0),window.focus(),window.getSelection().removeAllRanges(),window.getSelection().addRange(n),this.sat.cv.updateData(),this.sat.cv.draw()},this.remove=t=>{var e;this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`).forEach(((t,e)=>{this.sat.removeSpan(t,["commented","span_onmouse"],["comment_id"])})),null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.remove(),Array.from(document.getElementById("comment_svg").querySelectorAll(`polygon[comment_id="${t}"]`)).forEach((t=>{t.remove()})),delete this.span_info[t],delete this.box_info[t]},this.addSpan=t=>{(0,e.createClassApplier)("commented",{elementTagName:"span",normalize:!0}).toggleSelection(this.sat.content_window);const n={},r=[];for(Array.from(this.sat.content_root.querySelectorAll("span.commented")).forEach((t=>{null!==t.getAttribute("comment_id")?n[t.getAttribute("comment_id")]="commented":r.push(t)}));n[this.comment_index];)this.comment_index++;const o=this.comment_index;return this.comment_index++,r.forEach((e=>{e.setAttribute("comment_id",o.toString()),e.style.backgroundColor=t,e.style.borderColor=t;const n=this.sat.getOffset(e,this.sat.content_root.offsetParent);e.setAttribute("offset_top",n.offset_top.toString()),e.setAttribute("offset_left",n.offset_left.toString())})),r.forEach((t=>{t.addEventListener("mouseover",(e=>{this.onMouseOver(t.getAttribute("comment_id"))}))})),r.forEach((t=>{t.addEventListener("mouseout",(e=>{e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`span.commented[comment_id="${t.getAttribute("comment_id")}"]`)||this.onMouseOut(t.getAttribute("comment_id"))}))})),o.toString()},this.addBox=(t,e)=>{var n;const r=document.createElement("p");"pdf"===this.sat.tool_type&&(this.box_info[t]?r.innerText=this.box_info[t].content:this.box_info[t]={content:"",page_number:null===(n=this.span_info[t])||void 0===n?void 0:n.map((t=>Number(t.page_number))).reduce(((t,e)=>Math.min(t,e)))});const o=document.createElement("div");o.classList.add("comment"),o.contentEditable="true",o.id=t,o.setAttribute("comment_id",t),o.style.backgroundColor=e,o.style.borderColor=e,o.appendChild(r),document.getElementById("comment_div").appendChild(o);const i=document.createElementNS("http://www.w3.org/2000/svg","polygon");i.setAttribute("comment_id",t),i.style.fill=e,i.style.stroke=e,document.getElementById("comment_svg").querySelector("svg").appendChild(i),o.addEventListener("mouseover",(t=>{this.onMouseOver(o.getAttribute("comment_id"))})),o.addEventListener("mouseout",(t=>{t.relatedTarget instanceof HTMLElement&&null!==t.relatedTarget.parentElement&&null!==t.relatedTarget.parentElement.closest(`div.comment[comment_id="${o.getAttribute("comment_id")}"]`)||this.onMouseOut(o.getAttribute("comment_id"))})),o.addEventListener("input",this.onInput),i.addEventListener("click",(t=>{this.onPolygonClick(o.getAttribute("comment_id"))}))},this.onMouseOver=t=>{var e;null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.classList.add("div_onmouse"),Array.from(this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`)).forEach((t=>{t.classList.add("span_onmouse")}))},this.onMouseOut=t=>{var e;null===(e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`))||void 0===e||e.classList.remove("div_onmouse"),Array.from(this.sat.content_root.querySelectorAll(`span.commented[comment_id="${t}"]`)).forEach((t=>{t.classList.remove("span_onmouse")}))},this.onInput=()=>{this.sat.updated=!0},this.onPolygonClick=t=>{const e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`),n=document.getElementById("color_picker"),r=document.getElementById("color_picker_comment");r.setAttribute("color_id","comment_color"),r.style.display="block";const o=this.sat.getOffset(e,this.sat.content_root);r.style.top=`${Math.max(o.offset_top-r.offsetHeight/2+10,40)}px`;const i=document.getElementById("zumen");r.style.left=i?o.offset_left-r.offsetWidth-i.offsetWidth-15+"px":o.offset_left-r.offsetWidth-15+"px",n.setAttribute("mode","comment"),n.setAttribute("comment_id",t),n.setAttribute("comment_color",e.style.backgroundColor)},this.sort=()=>{const t=Array.from(this.sat.content_root.querySelectorAll("span.commented")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=[...t[e.getAttribute("comment_id")]||[],e],t)),{}),e=Object.keys(t).map((e=>t[e].sort(((t,e)=>Number(t.getAttribute("offset_top"))!==Number(e.getAttribute("offset_top"))?Number(t.getAttribute("offset_top"))<Number(e.getAttribute("offset_top"))?-1:1:Number(t.getAttribute("offset_left"))<Number(e.getAttribute("offset_left"))?-1:1)))).sort(((t,e)=>Number(t[0].getAttribute("offset_top"))!==Number(e[0].getAttribute("offset_top"))?Number(t[0].getAttribute("offset_top"))<Number(e[0].getAttribute("offset_top"))?-1:1:Number(t[0].getAttribute("offset_left"))<Number(e[0].getAttribute("offset_left"))?-1:1)),n=Array.from(document.getElementById("comment_div").querySelectorAll("div.comment")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=e,t)),{}),r=Array.from(document.getElementById("comment_svg").querySelectorAll("polygon")).reduce(((t,e)=>(t[e.getAttribute("comment_id")]=e,t)),{});this.box_sorted_info=e.filter((t=>t.length>0)).map((t=>({comment_id:t[0].getAttribute("comment_id"),first_span:t[0],div:n[t[0].getAttribute("comment_id")],polygon:r[t[0].getAttribute("comment_id")]})))},this.arrange=t=>{for(let t=0;t<this.box_sorted_info.length;t++){let e=0;t>0&&(e=this.box_sorted_info[t-1].div.offsetTop+this.box_sorted_info[t-1].div.offsetHeight),this.box_sorted_info[t].div.style.top=`${Math.max(e+10,parseInt(this.box_sorted_info[t].first_span.getAttribute("offset_top")))}px`,this.box_sorted_info[t].polygon.setAttribute("points",`0 ${Number(this.box_sorted_info[t].first_span.getAttribute("offset_top"))+8}, 15 ${this.box_sorted_info[t].div.offsetTop+5}, 15 ${this.box_sorted_info[t].div.offsetTop+30}`)}},this.sat=t}}class l{constructor(t){this.fugo_dic={},this.extractFugo_ja=t=>{let e=t.match(/[【［\[](0001|０００１)[】］\]]/);e&&(t=t.substring(e.index));let n=t.match(/([一-龠ア-ンァ-ヶＡ-Ｚー]{2,20})([0-9０-９]{1,4})([a-zａ-ｚA-ZＡ-Ｚ]{0,3})/gi),r=this.removeRep(n).sort(this.CompareForSort),o=t.match(/([実施|実施例|比較例|従来例|形態|請求項|特開|平成|昭和|変形例|手続補正|第|該|当該|変形例|前記|上記|特許|国際公開|図|乃至|特許文献|丁目|ＪＰ|ＵＳ|ＷＯ|ＤＥ]{1,20})([0-9０-９]{0,4})([a-zａ-ｚA-ZＡ-Ｚ]{0,3})/gi),i=this.removeRep(o).sort(this.CompareForSort),a=this.diffArray(r,i);this.fugo_dic={},a.forEach((t=>{let e=t.match(/([0-9０-９]{1,4})([a-zａ-ｚA-ZＡ-Ｚ]{0,3})/),n=t.substring(0,e.index),r=this.zen2Han(t.substring(e.index));this.fugo_dic[r]=n}))},this.removeRep=t=>{for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]=r;for(key in e)n.push(key);return n},this.diffArray=(t,e)=>{for(var n=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&n.push(t[r]);return n},this.CompareForSort=(t,e)=>t==e?0:t<e?-1:1,this.zen2Han=t=>t.replace(/[！-～]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-65248)})).replace(/”/g,'"').replace(/’/g,"'").replace(/‘/g,"`").replace(/￥/g,"\\").replace(/　/g," "),this.sat=t}}var f=n(3033),d=n.n(f),h=n(3031),p=n.n(h),m=n(3655),g=n.n(m),y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};let v,b=!1;function w(){return y(this,void 0,void 0,(function*(){v.content_root.normalize(),Array.from(document.querySelectorAll("img")).forEach((t=>{"data:image/"!==t.src.substr(0,11)&&(t.src=function(t){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.naturalWidth,e.height=t.naturalHeight,n.drawImage(t,0,0),e.toDataURL("image/png")}(t))}));const t=document.querySelector("html").cloneNode(!0);Array.from(t.querySelectorAll(".gutter")).forEach((t=>{t.remove()})),t.querySelector("#spinner").classList.remove("visible"),Array.from(t.querySelectorAll("script")).forEach((t=>{/log[^/]*\.js/.test(t.src)&&t.remove()})),t.querySelector("#doc_title").setAttribute("value",t.querySelector("#doc_title").value),t.querySelector("#block_mode").checked&&t.querySelector("#block_mode").setAttribute("checked",""),t.querySelector("#word_query").innerHTML=t.querySelector("#word_query").innerHTML,t.querySelector("#selected_color").innerHTML=JSON.stringify(v.word.selected_color);let e=Array.from(t.querySelectorAll("link")).filter((t=>"stylesheet"===t.rel)).map((e=>()=>new Promise(((n,r)=>{fetch(e.href).then((t=>t.text())).then((r=>{e.remove();const o=document.createElement("style");o.innerHTML=r,t.querySelector("head").appendChild(o),n(null)}))}))));yield E(e),e=Array.from(t.querySelectorAll("script")).filter((t=>void 0!==t.src&&""!==t.src)).map((t=>()=>new Promise(((e,n)=>{-1===t.src.indexOf("js-tazumen")?fetch(t.src).then((t=>t.text())).then((n=>{t.removeAttribute("src"),t.innerHTML=n,e(null)})):e(null)})))),yield E(e);const n=t.innerHTML,r=document.doctype.name,o=document.doctype.publicId,i=document.doctype.systemId,a="<!DOCTYPE "+r+(o?' PUBLIC "'+o+'"':"")+(i?' "'+i+'"':"")+">";let s="<html";const c=t.attributes;for(let t=0,e=c.length;t<e;t++){const e=c[t];s+=" "+e.nodeName+(e.nodeValue?'="'+e.nodeValue+'"':"")}s+=">";const u=new Blob([a,"\n",s,"\n",n,"\n</html>"]),l=(window.URL||window.webkitURL).createObjectURL(u),f=document.createElement("a");f.download=`${document.title}.html`,f.href=l,document.body.appendChild(f),f.click(),document.body.removeChild(f),v.updated=!1}))}function E(t){let e=Promise.resolve();return t.forEach((t=>{e=e.then(t)})),e}function _(t){const e=v.content_window.getSelection();e&&v.content_root.contains(e.anchorNode)&&v.content_root.contains(e.focusNode)&&(v.decoration.add(t),v.updated=!0)}function S(){const t=document.getElementById("btn_highlight").getAttribute("highlightColor"),e=v.content_window.getSelection();e&&v.content_root.contains(e.anchorNode)&&v.content_root.contains(e.focusNode)&&(v.decoration.highlight(t),v.updated=!0)}function C(){v.decoration.dehighlight()}function O(){const e=document.getElementById("btn_comment").getAttribute("commentColor"),n=v.content_window.getSelection();if(!n)return;if(!v.content_root.contains(n.anchorNode)||!v.content_root.contains(n.focusNode))return;const r=(0,t.getSelection)(v.content_window);if(r.rangeCount){if(r.getRangeAt(0).getNodes([],(t=>t instanceof Element&&t.classList.contains("commented"))).length>0)return void alert("同じ領域に複数のコメントをつけることはできません。");if(null!==r.getRangeAt(0).commonAncestorContainer.parentElement.closest("span.commented"))return void alert("同じ領域に複数のコメントをつけることはできません。")}v.comment.addComment(e),v.updated=!0}function N(){const t=document.getElementById("word_query").innerText.trim().replace(/[\r\n]+/g," ");if(""===t||/^\s+$/.test(t))return{};const e=t.split(/\s+/).map((t=>{const e=t.match(/(^\/|[^\\]\/|\/$)/g);return e&&e.length>0&&e.length%2==0?R(t,[]):t.split(/[+＋]/g)})),n=v.word.getWordColors(e.length),r={};return e.forEach(((t,e)=>{t.forEach((t=>{r[e]||(r[e]={words:[],color:""}),"/"!==t.substr(0,1)?r[e].words.push(t.replace(/_/g," ")):r[e].words.push(t),r[e].color=n[e]}))})),r}function R(t,e){if("/"!==t.substr(0,1)){const n=t.indexOf("+");return-1===n?(e.push(t),e):(e.push(t.substring(0,n)),R(t.substring(n+1),e))}{const n=t.match(/[^\\]\/[dgimsuy]*/);return n?(e.push(t.substring(0,n.index+n[0].length)),t.length===n.index+n[0].length?e:R(t.substring(n.index+n[0].length+1),e)):e}}function x(){const t=document.getElementById("word_query");t.innerHTML="",Object.keys(v.word.option).forEach((e=>{v.word.option[e].words.forEach(((n,r)=>{const o=document.createElement("span");o.innerText=n.replace(/ /g,"_"),o.setAttribute("mode","word_inversion"),o.setAttribute("color_id",e),o.classList.add("query_unit"),o.classList.add(`word_inversion_class${e}`),o.onclick=t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("color_id",t.target.getAttribute("color_id")),e.style.display="block",e.style.left=v.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",e.setAttribute("mode","word_inversion"),t.preventDefault(),t.stopPropagation()},t.appendChild(o),r!==v.word.option[e].words.length-1&&t.appendChild(document.createTextNode("+"))})),t.appendChild(document.createTextNode(" "))}))}function A(t){document.getElementById("doc_title").value=t.page_title,document.title=t.page_title,document.getElementById("content").innerHTML=t.text_content;const e=document.getElementById("zumen"),n={},r=document.getElementById("content").innerText.match(/【図[^】]+】[^【]+/g);r&&r.forEach((t=>{const e=t.match(/【(図[^】]+)】([^【]+)/);3===(null==e?void 0:e.length)&&(n[L(e[1])]=e[2])})),t.zumen_arr.forEach((t=>{const r=document.createElement("div"),o=document.createElement("h3");if(o.innerHTML=t.title,r.appendChild(o),n[t.title]){const e=document.createElement("div");e.innerText=n[t.title],e.classList.add("cap"),r.appendChild(e)}const i=document.createElement("img");i.src=t.data_url,r.appendChild(i);const a=document.createElement("div");a.setAttribute("contenteditable","true"),a.setAttribute("placeholder","メモを入力..."),a.classList.add("memo"),r.appendChild(a);const s=document.createElement("hr");r.appendChild(s),e.appendChild(r)})),T(),document.getElementById("word_query").innerText=t.word_arr.map((t=>t.join("+"))).join(" "),v.word.setOption(N()),v.word.invert(v.content_root),x(),v.cv.updateData(),v.cv.draw(),document.getElementById("spinner").classList.remove("visible"),v.updated=!1}function T(){Array.from(document.getElementById("zumen").querySelectorAll("img")).forEach((t=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement)if(b){const e=window.open("","","width=500,height=500,scrollbars=yes,resizable=yes,status=yes");let n=document.title;t.target.parentElement.querySelector("h3")&&(n=`図${t.target.parentElement.querySelector("h3").innerText.substr(1)} - ${n}`),e.document.title=n;const r=document.createElement("h3");r.innerText=n,r.style.textAlign="center",r.style.height="20px",e.document.body.append(r);let o=document.createElement("div");o.style.display="flex",o.style.width="80%",o.style.height="90%",o.style.margin="auto";let i=document.createElement("div");i.innerHTML=t.target.querySelector("p.fugo").innerText.replace(",","<br>"),o.appendChild(i);const a=document.createElement("div");a.style.width="100%",a.style.height="95%",a.style.textAlign="center",a.style.margin="auto";const s=t.target.cloneNode();if(s.style.objectFit="contain",s.style.width="90%",s.style.height="90%",document.body.classList.contains("dark")&&(e.document.body.style.color="#ddd",e.document.body.style.backgroundColor="#333",s.style.filter="invert(100%)"),a.appendChild(s),o.appendChild(a),e.document.body.append(o),t.target.parentElement.querySelector("div.cap")){const n=document.createElement("div");n.innerText=t.target.parentElement.querySelector("div.cap").innerText,n.style.textAlign="center",e.document.body.append(n)}b=!1}else b=!0,setTimeout((()=>(t=>{b&&t.target instanceof HTMLImageElement&&(t.target.src=function(t){const e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image;return r.src=t,e.height=r.width,e.width=r.height,n.rotate(90*Math.PI/180),n.translate(0,-e.width),n.drawImage(r,0,0),e.toDataURL("image/jpeg",100)}(t.target.src)),b=!1})(t)),300)}))})),Array.from(document.getElementById("content").querySelectorAll("a")).forEach((t=>{t.addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=L(t.target.innerText);Array.from(document.getElementById("zumen").querySelectorAll("h3")).some((t=>t.innerText===e&&(t.scrollIntoView(),!0)))}))}))}function k(){const t=document.getElementById("zumen");null!==t&&("none"===window.getComputedStyle(t).display?t.style.display="inline":t.style.display="none",v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange())}function I(t){const e=v.content_window.document.getElementById("viewer").querySelector(`div.page[data-page-number="${t}"]`);v.word.invert(e),v.cv.updateData(),v.cv.draw()}function j(t,e,n){document.getElementById("loading_message").innerHTML=t;const r=document.getElementById("spinner");r.classList.add("visible"),new Promise(((t,r)=>{setTimeout((()=>{n(),t(null)}),e)})).then((()=>{r.classList.remove("visible")}))}function L(t){return t.replace(/[Ａ-Ｚａ-ｚ０-９]/g,(t=>String.fromCharCode(t.charCodeAt(0)-65248)))}window.addEventListener("load",(()=>y(void 0,void 0,void 0,(function*(){const t=document.getElementById("tool_type").innerText;let e,n;"pdf"===t?(window.decoratePage=I,yield new Promise(((t,e)=>{const n=setInterval((()=>{document.querySelector("iframe").contentWindow.document.body&&""!==document.querySelector("iframe").contentWindow.document.body.innerHTML&&(clearInterval(n),t(null))}),500)})).then((()=>{n=document.querySelector("iframe").contentWindow,e=n.document.getElementById("viewer")}))):(n=window,e=document.getElementById("content"));const r=window.getComputedStyle(document.getElementById("spectrum")),o=document.getElementById("spectrum_bar");o.width=Number(r.width.replace("px","")),o.height=Number(r.height.replace("px",""));const a=document.getElementById("selected_color").innerHTML,s=a?JSON.parse(a):{};v=new i(t,e,n,o,s,document.getElementById("dark_mode").checked,document.getElementById("block_mode").checked),function(){y(this,void 0,void 0,(function*(){document.addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");"none"===e.style.display||e.contains(t.target)||(e.style.display="none");const n=document.getElementById("color_picker_comment");"none"===n.style.display||n.contains(t.target)||(n.style.display="none",e.setAttribute("comment_id",""));const r=document.getElementById("help");"none"===r.style.display||r.contains(t.target)||(r.style.display="none")})),Array.from(document.querySelectorAll("div.comment")).forEach((t=>{t.addEventListener("mouseover",(e=>{v.comment.onMouseOver(t.getAttribute("comment_id"))})),t.addEventListener("mouseout",(e=>{e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`div.comment[comment_id="${t.getAttribute("comment_id")}"]`)||v.comment.onMouseOut(t.getAttribute("comment_id"))}))})),Array.from(document.getElementById("comment_svg").querySelectorAll("polygon")).forEach((t=>{t.addEventListener("click",(t=>{t.target instanceof SVGPolygonElement&&v.comment.onPolygonClick(t.target.getAttribute("comment_id"))}))})),Array.from(v.content_root.querySelectorAll("span.commented")).forEach((t=>{t.addEventListener("mouseover",(e=>{v.comment.onMouseOver(t.getAttribute("comment_id"))})),t.addEventListener("mouseout",(e=>{e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement&&null!==e.relatedTarget.parentElement&&null!==e.relatedTarget.parentElement.closest(`span.commented[comment_id="${t.getAttribute("comment_id")}"]`)||v.comment.onMouseOut(t.getAttribute("comment_id"))}))})),"pdf"===v.tool_type?v.content_root.parentElement.addEventListener("scroll",(t=>{v.cv.draw();const e=document.getElementById("comment_container");e.scrollTo(0,t.target.scrollTop*(e.scrollHeight/t.target.scrollHeight))})):document.getElementById("main").addEventListener("scroll",(t=>{v.cv.draw()})),window.addEventListener("resize",(t=>{setTimeout((()=>{const t=window.getComputedStyle(document.getElementById("spectrum")),e=document.getElementById("spectrum_bar");e.width=Number(t.width.replace("px","")),e.height=Number(t.height.replace("px","")),v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange()}),0)})),v.cv.element.onclick=t=>{"pdf"===v.tool_type?v.content_root.parentElement.scrollTo(0,t.layerY*(v.content_root.parentElement.scrollHeight/v.cv.element.height)-v.cv.element.height/2):document.getElementById("main").scrollTo(0,t.layerY*(document.getElementById("main").scrollHeight/v.cv.element.height)-v.cv.element.height/2)},v.cv.element.onmousedown=t=>{v.cv.element.onmousemove=t=>{"pdf"===v.tool_type?(v.content_root.parentElement.scrollTo(0,t.layerY*(v.content_root.parentElement.scrollHeight/v.cv.element.height)-v.cv.element.height/2),document.getElementById("comment_container").scrollTo(0,t.layerY*(document.getElementById("comment_container").scrollHeight/v.cv.element.height)-v.cv.element.height/2)):document.getElementById("main").scrollTo(0,t.layerY*(document.getElementById("main").scrollHeight/v.cv.element.height)-v.cv.element.height/2)},v.cv.element.onmouseup=()=>{v.cv.element.onmousemove=null,v.cv.element.onmouseup=null}},v.cv.element.onmouseover=()=>{v.cv.element.onmousemove=null},window.addEventListener("beforeunload",(t=>{v.updated&&(t.returnValue="編集内容が保存されていませんが、ページを離れてもよろしいですか？")})),document.getElementById("doc_title").addEventListener("input",(t=>{t.target instanceof HTMLInputElement&&(""!==t.target.value?document.title=t.target.value:"free_text"===v.tool_type?document.title="SAT（フリーテキスト版）":"pdf"===v.tool_type?document.title="SAT（PDF版）":document.title="SAT (Spectrum Annotation Tool)")})),document.getElementById("block_mode").addEventListener("change",(t=>{localStorage.setItem("SAT_block_mode",t.target.checked.toString()),j("ワード反転中...",10,(()=>{t.target instanceof HTMLInputElement&&t.target.checked?(v.word.block_mode=!0,v.word.invert(v.content_root),v.cv.updateData(),v.cv.draw()):(v.word.block_mode=!1,v.word.invert(v.content_root),v.cv.updateData(),v.cv.draw())}))})),document.getElementById("btn_bold").addEventListener("click",(()=>{_("bold")})),document.getElementById("btn_underline").addEventListener("click",(()=>{_("underline")})),document.getElementById("btn_highlight").addEventListener("click",(()=>{var t;S(),null===(t=v.content_window.getSelection())||void 0===t||t.removeAllRanges()})),document.getElementById("btn_select_highlight_color").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("mode","highlight"),e.style.display="block",e.style.left=v.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation()})),document.getElementById("btn_select_comment_color").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("color_picker");e.setAttribute("mode","comment"),e.style.display="block",e.style.left=v.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("color_picker").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation()})),document.getElementById("btn_erase").addEventListener("click",(t=>{var e;C(),null===(e=v.content_window.getSelection())||void 0===e||e.removeAllRanges()})),document.getElementById("btn_comment").addEventListener("click",(()=>{O()})),document.getElementById("btn_download").addEventListener("click",(()=>{j("ダウンロードファイル生成中...",150,w)})),document.getElementById("btn_figureOn").addEventListener("click",(()=>{k(),document.getElementById("li_figureOn").classList.add("hidden"),document.getElementById("li_figureOff").classList.remove("hidden")})),document.getElementById("btn_figureOff").addEventListener("click",(()=>{k(),document.getElementById("li_figureOff").classList.add("hidden"),document.getElementById("li_figureOn").classList.remove("hidden")})),document.getElementById("btn_editUnlock").addEventListener("click",(()=>{document.getElementById("content").contentEditable="true",document.getElementById("li_editUnlock").classList.add("hidden"),document.getElementById("li_editLock").classList.remove("hidden")})),document.getElementById("btn_editLock").addEventListener("click",(()=>{document.getElementById("content").contentEditable="false",document.getElementById("li_editLock").classList.add("hidden"),document.getElementById("li_editUnlock").classList.remove("hidden")})),document.getElementById("word_query").addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),j("ワード反転中...",0,(()=>{v.word.setOption(N()),v.word.invert(v.content_root),x(),v.cv.updateData(),v.cv.draw(),document.getElementById("word_query").blur(),v.updated=!0})))})),document.getElementById("btn_word_inversion_help").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("help");"block"===e.style.display?e.style.display="none":(e.style.display="block",e.innerHTML='\n            <h3>ワード反転方法</h3>\n            <p> （入力例）<img src="./img/word_inversion_example.png" style="vertical-align: middle";/></p>\n            <ul>\n              <li>\n                反転したいワードを、スペースで区切って入力した後、Enterキーを押してください。\n              </li>\n              <li>＋で繋いだワードは同じ色に反転されます。</li>\n              <li>\n                _（アンダーバー）は、色反転時に半角スペースとして変換されます。英語の複数語をまとめて色反転したい場合にご使用ください。<br />\n              </li>\n              <li>\n                /でワードを囲むと、正規表現として認識されます。（例：/請求項[0-9０-９]+/）<br />\n                末尾のオプションは省略可能です。（自動でgオプションがつきます）\n              </li>\n  \n              <li>\n                ワード反転後、ボックス中のワードをクリックすると、反転色を変更できます。\n              </li>\n              <li>\n                ブロック反転にチェックを入れると、漢字・カタカナ・英数字を含めたブロック単位で反転を行います。\n              </li>\n            </ul>',e.style.left=v.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("help").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation())})),document.getElementById("btn_marker_help").addEventListener("click",(t=>{if(!(t.target instanceof HTMLElement))return;const e=document.getElementById("help");"block"===e.style.display?e.style.display="none":(e.style.display="block",e.innerHTML="\n          <h3>本文の装飾方法</h3>\n          <p> マーカーなどの装飾を行いたい箇所をドラッグして選択した後に、ボタンを押してください。</p>\n          <p> コメントボタンで挿入したコメントを削除したい場合は、右側のコメントボックス内の文字を全て削除して空にした状態で、さらにBackspaceキーを押してください。</p>\n          <p> 挿入したコメントの吹き出しの三角形をクリックすると、コメントの色を変えることができます。</p>\n          <p> マーカーを削除したい場合は、<b>同じ色で</b>削除したい部分をマークするか、ハイライト削除ボタンを使用してください。</p>",e.style.left=v.getOffset(t.target,document.body).offset_left+t.target.offsetWidth/2-document.getElementById("help").offsetWidth/2+"px",t.preventDefault(),t.stopPropagation())})),document.getElementById("dark_mode").addEventListener("change",(t=>{t.target instanceof HTMLInputElement&&(localStorage.setItem("SAT_dark_mode",t.target.checked.toString()),t.target.checked?(document.body.classList.add("dark"),v.dark_mode=!0):(document.body.classList.remove("dark"),v.dark_mode=!1),"pdf"===v.tool_type&&(t.target.checked?v.content_window.document.body.classList.add("dark"):v.content_window.document.body.classList.remove("dark")),v.cv.updateData(),v.cv.draw())})),document.getElementById("colormap").addEventListener("mouseout",(t=>{!function(){const t=document.getElementById("color_picker").getAttribute("mode");if("highlight"===t)return;if("comment"===t){const t=document.getElementById("color_picker").getAttribute("comment_id");if(t){const e=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${t}"]`),n=document.getElementById("comment_svg").querySelector(`polygon[comment_id="${t}"]`),r=document.querySelectorAll(`span.commented[comment_id="${t}"]`);let o=document.getElementById("color_picker").getAttribute("comment_color");e.style.backgroundColor=o,e.style.borderColor=o,n.style.fill=o,n.style.stroke=o,r.forEach((t=>{t.style.backgroundColor=o,t.style.borderColor=o}))}}else{const t=document.getElementById("color_picker").getAttribute("color_id");Array.from(document.getElementById("word_query").querySelectorAll("span")).filter((e=>e.getAttribute("color_id")===t)).forEach((t=>{t.removeAttribute("style")}))}}()})),Array.from(document.getElementById("colormap").querySelectorAll("area")).forEach((t=>{t.addEventListener("mouseover",(e=>{!function(t){const e=document.getElementById("color_picker").getAttribute("mode");if("highlight"===e)return;if("comment"===e){const e=document.getElementById("color_picker").getAttribute("comment_id");if(e){const n=document.getElementById("comment_div").querySelector(`div.comment[comment_id="${e}"]`),r=document.getElementById("comment_svg").querySelector(`polygon[comment_id="${e}"]`),o=document.querySelectorAll(`span.commented[comment_id="${e}"]`);n.style.backgroundColor=t,n.style.borderColor=t,r.style.fill=t,r.style.stroke=t,o.forEach((e=>{e.style.backgroundColor=t,e.style.borderColor=t}))}}else{const e=document.getElementById("color_picker").getAttribute("color_id");Array.from(document.getElementById("word_query").querySelectorAll("span")).filter((t=>t.getAttribute("color_id")===e)).forEach((e=>{console.log(t),e.style.setProperty("background-color",t,"important"),e.style.color=v.word.calcWordColor(t)}))}}(t.alt)})),t.addEventListener("click",(e=>{!function(t){t=t.toLowerCase();const e=document.getElementById("color_picker").getAttribute("mode");if("highlight"===e){localStorage.setItem("SAT_highlight_color",t);const e=document.getElementById("btn_highlight");e.setAttribute("highlightColor",t),e.style.backgroundColor=t}else if("comment"===e)localStorage.setItem("SAT_comment_color",t),document.getElementById("btn_comment").style.backgroundColor=t,document.getElementById("btn_comment").setAttribute("commentColor",t),document.getElementById("color_picker").setAttribute("comment_id",""),v.cv.updateData(),v.cv.draw();else{const e=document.getElementById("color_picker").getAttribute("color_id");j("ワード反転中...",0,(()=>{v.word.setColor(Number(e),t),v.word.invert(v.content_root),x(),v.cv.updateData(),v.cv.draw()}))}document.getElementById("color_picker").style.display="none"}(t.alt)}))}));new MutationObserver((t=>{t.forEach((t=>{t.removedNodes.forEach((t=>{if(t instanceof HTMLSpanElement&&t.classList.contains("commented")){const e=t.getAttribute("comment_id");document.getElementById("content").querySelector(`span.commented[comment_id="${e}"]`)||v.comment.remove(e),v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange()}}))}))})).observe(document.getElementById("content"),{childList:!0,subtree:!0});new MutationObserver((t=>{v.comment.arrange()})).observe(document.getElementById("comment_div"),{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height"]});new MutationObserver((t=>{v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange()})).observe(document.body,{attributes:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height","offsetWidth","clientWidth","scrollWidth","width"]});let t,e;if(new MutationObserver((t=>{v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange()})).observe(document.getElementById("spectrum"),{attributes:!0,attributeFilter:["offsetHeight","clientHeight","scrollHeight","height","offsetWidth","clientWidth","scrollWidth","width"]}),document.getElementById("content").addEventListener("input",(t=>{v.updated=!0,v.comment.arrange()})),document.getElementById("word_query").addEventListener("click",(t=>{t.target instanceof HTMLElement&&t.target.querySelectorAll("span").forEach((t=>{t.className="",t.onclick=null}))})),document.getElementById("word_query").addEventListener("paste",(t=>{t.preventDefault();const e=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e)})),"pdf"!==v.tool_type&&d()(["#content","#comment_container"],{sizes:[70,30],minSize:[50,50],elementStyle:(t,e,n,r)=>({width:`${e}%`}),onDragEnd:t=>{setTimeout((()=>{v.comment.arrange(),v.cv.updateData(),v.cv.draw()}),0),v.comment.arrange(),v.cv.updateData(),v.cv.draw()},gutterSize:5}),document.getElementById("dark_mode").checked.toString()!==localStorage.getItem("SAT_dark_mode")&&document.getElementById("dark_mode").click(),document.getElementById("block_mode").checked.toString()!==localStorage.getItem("SAT_block_mode")&&document.getElementById("block_mode").click(),t=localStorage.getItem("SAT_highlight_color")){const e=document.getElementById("btn_highlight");e.setAttribute("highlightColor",t),e.style.backgroundColor=t}if(e=localStorage.getItem("SAT_comment_color")){const t=document.getElementById("btn_comment");t.setAttribute("commentColor",e),t.style.backgroundColor=e}if("tazumen"===v.tool_type&&(d()(["div#zumen","div#text"],{sizes:[30,70],elementStyle:(t,e,n,r)=>({width:`calc(${e}% - ${n+20}px)`}),onDragEnd:t=>{setTimeout((()=>{v.comment.arrange(),v.cv.updateData(),v.cv.draw()}),0),v.comment.arrange(),v.cv.updateData(),v.cv.draw()},gutterSize:4}),T()),"tazumen"===v.tool_type&&"tazumen_gyomu"===document.getElementById("content").innerHTML){const t=document.getElementById("paste_modal_window");t.style.display="block";const e=document.getElementById("paste_modal_input");e.focus(),e.addEventListener("paste",(e=>{const n=(e.clipboardData||window.clipboardData).getData("text");console.log(n),t.style.display="none",e.preventDefault(),A(JSON.parse(n)),function(){y(this,void 0,void 0,(function*(){let t=document.getElementById("zumen_analysis");v.tazumen.extractFugo_ja(document.getElementById("content").innerText),console.log("--- テキストからの符号データ抽出結果 ---"),console.log(v.tazumen.fugo_dic),console.log("--- 画像からの符号データ抽出結果 ---");let e=Array.from(document.querySelectorAll("#zumen > div")),n=0;t.innerText=`図面解析中...(${n}/${e.length})`,e.forEach(((r,o)=>y(this,void 0,void 0,(function*(){const i=g().createWorker();yield i.load(),yield i.loadLanguage("eng"),yield i.initialize("eng"),yield i.setParameters({tessedit_char_whitelist:"0123456789"});const{data:{text:a}}=yield i.recognize(r.querySelector("img"));console.log(o,a.match(/[0-9]+[a-zA-Z]{0,3}/g));let s=a.match(/[0-9]+[a-zA-Z]{0,3}/g).filter((t=>v.tazumen.fugo_dic.num)).sort(((t,e)=>(t=String(t))<(e=String(e))?-1:t>e?1:0)).map((t=>`${t} ${v.tazumen.fugo_dic.num}`)).join(","),c=document.createElement("p");c.style.display="none",c.classList.add("fugo"),c.innerText=s,r.appendChild(c),n++,n===e.length?t.innerText="":t.innerText=`図面解析中...(${n}/${e.length})`}))))}))}()}))}window.addEventListener("message",(t=>{switch(console.log(t),t.data.message_type){case"tazumen":"http://npsx8.jpo.go.jp"===t.origin&&(A(t.data),v.updated=!0);break;case"free_text":v.content_root.innerText=t.data.innerText}}))}))}(),function(){p().filter=t=>!0,("free_text"===v.tool_type||"tazumen"===v.tool_type)&&(p()("ctrl+b",((t,e)=>{t.preventDefault(),_("bold")})),p()("ctrl+u",((t,e)=>{t.preventDefault(),_("underline")})),p()("ctrl+h",((t,e)=>{var n;t.preventDefault(),S(),null===(n=v.content_window.getSelection())||void 0===n||n.removeAllRanges()})),p()("ctrl+d",((t,e)=>{var n;t.preventDefault(),C(),null===(n=v.content_window.getSelection())||void 0===n||n.removeAllRanges()})),p()("ctrl+1",((t,e)=>{t.preventDefault(),O()})),p()("ctrl+s",((t,e)=>{t.preventDefault(),j("ダウンロードファイル生成中...",150,w)})));p()("ctrl+shift+f",((t,e)=>{function n(t){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(t),e.collapse(!1),null==n||n.removeAllRanges(),null==n||n.addRange(e),t.focus(),e.detach()}t.preventDefault();const r=document.getElementById("word_query");r.click(),n(r)})),document.addEventListener("keydown",(t=>{var e,n,r;if(t instanceof KeyboardEvent)if(8===t.keyCode){let o=!0;const i=t.target;if("word_query"===i.id)o=!1;else if(i.isContentEditable){o=!1;const t=null===(r=null===(n=null===(e=window.getSelection())||void 0===e?void 0:e.anchorNode)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.closest("div.comment");!t||"\n"!==t.innerText&&""!==t.innerText||(o=!0,v.updated=!0,v.comment.remove(t.getAttribute("comment_id")),v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange())}else("INPUT"===i.tagName||"TEXTAREA"===i.tagName)&&(o=!1);if(o)return void t.preventDefault()}else 112===t.keyCode&&(k(),t.preventDefault())}))}(),v.word.setOption(N()),v.word.invert(v.content_root),x(),setTimeout((()=>{v.cv.updateData(),v.cv.draw(),v.comment.sort(),v.comment.arrange()}),0)}))))})()})();